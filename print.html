<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title></title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="index.html"><strong aria-hidden="true">1.</strong> Welcome</a></li><li class="chapter-item expanded "><a href="intro.html"><strong aria-hidden="true">2.</strong> intro</a></li><li class="spacer"></li><li class="chapter-item expanded "><a href="DevOps/index.html"><strong aria-hidden="true">3.</strong> DevOps</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="DevOps/git-origin.html"><strong aria-hidden="true">3.1.</strong> git-origin</a></li><li class="chapter-item expanded "><a href="DevOps/ansible-vs-terraform.html"><strong aria-hidden="true">3.2.</strong> ansible-vs-terraform</a></li><li class="chapter-item expanded "><a href="DevOps/do-i-need-kubernetes.html"><strong aria-hidden="true">3.3.</strong> do-i-need-kubernetes</a></li><li class="chapter-item expanded "><a href="DevOps/why-is-terraform-useful.html"><strong aria-hidden="true">3.4.</strong> why-is-terraform-useful</a></li><li class="chapter-item expanded "><a href="DevOps/docker.html"><strong aria-hidden="true">3.5.</strong> docker</a></li><li class="chapter-item expanded "><a href="DevOps/best-server-os.html"><strong aria-hidden="true">3.6.</strong> best-server-os</a></li><li class="chapter-item expanded "><a href="DevOps/automate-os-install.html"><strong aria-hidden="true">3.7.</strong> automate-os-install</a></li><li class="chapter-item expanded "><a href="DevOps/ansible/index.html"><strong aria-hidden="true">3.8.</strong> ansible</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="DevOps/ansible/ansible-notes.html"><strong aria-hidden="true">3.8.1.</strong> ansible-notes</a></li><li class="chapter-item expanded "><a href="DevOps/ansible/ansible.html"><strong aria-hidden="true">3.8.2.</strong> ansible</a></li></ol></li><li class="chapter-item expanded "><a href="DevOps/git/index.html"><strong aria-hidden="true">3.9.</strong> git</a></li><li class="chapter-item expanded "><a href="DevOps/docker/index.html"><strong aria-hidden="true">3.10.</strong> docker</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="DevOps/docker/docker-documentation.html"><strong aria-hidden="true">3.10.1.</strong> docker-documentation</a></li><li class="chapter-item expanded "><a href="DevOps/docker/docker-desktop.html"><strong aria-hidden="true">3.10.2.</strong> docker-desktop</a></li><li class="chapter-item expanded "><a href="DevOps/docker/dockerfile-basics.html"><strong aria-hidden="true">3.10.3.</strong> dockerfile-basics</a></li><li class="chapter-item expanded "><a href="DevOps/docker/docker-install.html"><strong aria-hidden="true">3.10.4.</strong> docker-install</a></li><li class="chapter-item expanded "><a href="DevOps/docker/docker-postgres.html"><strong aria-hidden="true">3.10.5.</strong> docker-postgres</a></li><li class="chapter-item expanded "><a href="DevOps/docker/docker-basics.html"><strong aria-hidden="true">3.10.6.</strong> docker-basics</a></li><li class="chapter-item expanded "><a href="DevOps/docker/docker-rootless.html"><strong aria-hidden="true">3.10.7.</strong> docker-rootless</a></li><li class="chapter-item expanded "><a href="DevOps/docker/docker-error.html"><strong aria-hidden="true">3.10.8.</strong> docker-error</a></li><li class="chapter-item expanded "><a href="DevOps/docker/docker-terraform.html"><strong aria-hidden="true">3.10.9.</strong> docker-terraform</a></li><li class="chapter-item expanded "><a href="DevOps/docker/docker-networks.html"><strong aria-hidden="true">3.10.10.</strong> docker-networks</a></li><li class="chapter-item expanded "><a href="DevOps/docker/docker-save-image-backup.html"><strong aria-hidden="true">3.10.11.</strong> docker-save-image-backup</a></li><li class="chapter-item expanded "><a href="DevOps/docker/docker-context.html"><strong aria-hidden="true">3.10.12.</strong> docker-context</a></li><li class="chapter-item expanded "><a href="DevOps/docker/containerd.html"><strong aria-hidden="true">3.10.13.</strong> containerd</a></li><li class="chapter-item expanded "><a href="DevOps/docker/rust/index.html"><strong aria-hidden="true">3.10.14.</strong> rust</a></li><li class="chapter-item expanded "><a href="DevOps/docker/postgres/index.html"><strong aria-hidden="true">3.10.15.</strong> postgres</a></li></ol></li><li class="chapter-item expanded "><a href="DevOps/automation/index.html"><strong aria-hidden="true">3.11.</strong> automation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="DevOps/automation/chron-jobs.html"><strong aria-hidden="true">3.11.1.</strong> chron-jobs</a></li></ol></li><li class="chapter-item expanded "><a href="DevOps/testing/index.html"><strong aria-hidden="true">3.12.</strong> testing</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="DevOps/testing/test-fixture.html"><strong aria-hidden="true">3.12.1.</strong> test-fixture</a></li><li class="spacer"></li></ol></li></ol></li><li class="chapter-item expanded "><a href="Programming_Languages/index.html"><strong aria-hidden="true">4.</strong> Programming_Languages</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Programming_Languages/popularity.html"><strong aria-hidden="true">4.1.</strong> popularity</a></li><li class="chapter-item expanded "><a href="Programming_Languages/cs/index.html"><strong aria-hidden="true">4.2.</strong> cs</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Programming_Languages/cs/debug_only_code.html"><strong aria-hidden="true">4.2.1.</strong> debug_only_code</a></li><li class="chapter-item expanded "><a href="Programming_Languages/cs/string_interpolation.html"><strong aria-hidden="true">4.2.2.</strong> string_interpolation</a></li><li class="chapter-item expanded "><a href="Programming_Languages/cs/can_you_avoid_repeating_type_name.html"><strong aria-hidden="true">4.2.3.</strong> can_you_avoid_repeating_type_name</a></li><li class="chapter-item expanded "><a href="Programming_Languages/cs/c#-using-statement.html"><strong aria-hidden="true">4.2.4.</strong> c#-using-statement</a></li><li class="chapter-item expanded "><a href="Programming_Languages/cs/out_parameter_modifier.html"><strong aria-hidden="true">4.2.5.</strong> out_parameter_modifier</a></li><li class="chapter-item expanded "><a href="Programming_Languages/cs/csharp-coding-conventions.html"><strong aria-hidden="true">4.2.6.</strong> csharp-coding-conventions</a></li><li class="chapter-item expanded "><a href="Programming_Languages/cs/c#-const-static-readonly.html"><strong aria-hidden="true">4.2.7.</strong> c#-const-static-readonly</a></li><li class="chapter-item expanded "><a href="Programming_Languages/cs/csproj.html"><strong aria-hidden="true">4.2.8.</strong> csproj</a></li></ol></li><li class="chapter-item expanded "><a href="Programming_Languages/c/index.html"><strong aria-hidden="true">4.3.</strong> c</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Programming_Languages/c/c_basics.html"><strong aria-hidden="true">4.3.1.</strong> c_basics</a></li><li class="chapter-item expanded "><a href="Programming_Languages/c/c_memory_management.html"><strong aria-hidden="true">4.3.2.</strong> c_memory_management</a></li><li class="chapter-item expanded "><a href="Programming_Languages/c/c_misc.html"><strong aria-hidden="true">4.3.3.</strong> c_misc</a></li><li class="chapter-item expanded "><a href="Programming_Languages/c/c_linked_list.html"><strong aria-hidden="true">4.3.4.</strong> c_linked_list</a></li><li class="chapter-item expanded "><a href="Programming_Languages/c/c_debug.html"><strong aria-hidden="true">4.3.5.</strong> c_debug</a></li><li class="chapter-item expanded "><a href="Programming_Languages/c/c_compilation.html"><strong aria-hidden="true">4.3.6.</strong> c_compilation</a></li><li class="chapter-item expanded "><a href="Programming_Languages/c/c_dynamic_allocation.html"><strong aria-hidden="true">4.3.7.</strong> c_dynamic_allocation</a></li><li class="chapter-item expanded "><a href="Programming_Languages/c/c_oop.html"><strong aria-hidden="true">4.3.8.</strong> c_oop</a></li><li class="chapter-item expanded "><a href="Programming_Languages/c/c_strings.html"><strong aria-hidden="true">4.3.9.</strong> c_strings</a></li><li class="chapter-item expanded "><a href="Programming_Languages/c/c_ptr.html"><strong aria-hidden="true">4.3.10.</strong> c_ptr</a></li></ol></li><li class="chapter-item expanded "><a href="Programming_Languages/js/index.html"><strong aria-hidden="true">4.4.</strong> js</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Programming_Languages/js/ts-array-vs-tuple.html"><strong aria-hidden="true">4.4.1.</strong> ts-array-vs-tuple</a></li><li class="chapter-item expanded "><a href="Programming_Languages/js/js_modules.html"><strong aria-hidden="true">4.4.2.</strong> js_modules</a></li><li class="chapter-item expanded "><a href="Programming_Languages/js/how_to_resolve_namespace_collision.html"><strong aria-hidden="true">4.4.3.</strong> how_to_resolve_namespace_collision</a></li><li class="chapter-item expanded "><a href="Programming_Languages/js/is-javascript-event-driven.html"><strong aria-hidden="true">4.4.4.</strong> is-javascript-event-driven</a></li><li class="chapter-item expanded "><a href="Programming_Languages/js/in-js-what-does-e-mean.html"><strong aria-hidden="true">4.4.5.</strong> in-js-what-does-e-mean</a></li></ol></li><li class="chapter-item expanded "><a href="Programming_Languages/dotnet/index.html"><strong aria-hidden="true">4.5.</strong> dotnet</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Programming_Languages/dotnet/tests.html"><strong aria-hidden="true">4.5.1.</strong> tests</a></li><li class="chapter-item expanded "><a href="Programming_Languages/dotnet/csproj-vs-sln.html"><strong aria-hidden="true">4.5.2.</strong> csproj-vs-sln</a></li><li class="chapter-item expanded "><a href="Programming_Languages/dotnet/dotnet-vs-c#.html"><strong aria-hidden="true">4.5.3.</strong> dotnet-vs-c#</a></li><li class="chapter-item expanded "><a href="Programming_Languages/dotnet/test-framework.html"><strong aria-hidden="true">4.5.4.</strong> test-framework</a></li></ol></li><li class="chapter-item expanded "><a href="Programming_Languages/bash/index.html"><strong aria-hidden="true">4.6.</strong> bash</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Programming_Languages/bash/IFS_meaning.html"><strong aria-hidden="true">4.6.1.</strong> IFS_meaning</a></li><li class="chapter-item expanded "><a href="Programming_Languages/bash/bash-arrays.html"><strong aria-hidden="true">4.6.2.</strong> bash-arrays</a></li><li class="chapter-item expanded "><a href="Programming_Languages/bash/bash-redirection.html"><strong aria-hidden="true">4.6.3.</strong> bash-redirection</a></li><li class="chapter-item expanded "><a href="Programming_Languages/bash/create_multiple_files.html"><strong aria-hidden="true">4.6.4.</strong> create_multiple_files</a></li><li class="chapter-item expanded "><a href="Programming_Languages/bash/create-multiple-nested-directories.html"><strong aria-hidden="true">4.6.5.</strong> create-multiple-nested-directories</a></li></ol></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/index.html"><strong aria-hidden="true">4.7.</strong> rust</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Programming_Languages/rust/rust-box.html"><strong aria-hidden="true">4.7.1.</strong> rust-box</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/use-vs-mod-rs.html"><strong aria-hidden="true">4.7.2.</strong> use-vs-mod-rs</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/cargo-conventions.html"><strong aria-hidden="true">4.7.3.</strong> cargo-conventions</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/rs_prelude.html"><strong aria-hidden="true">4.7.4.</strong> rs_prelude</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/rust-iterator-fold.html"><strong aria-hidden="true">4.7.5.</strong> rust-iterator-fold</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/rust-basic-http-server.html"><strong aria-hidden="true">4.7.6.</strong> rust-basic-http-server</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/rust-impl-vs-dyn.html"><strong aria-hidden="true">4.7.7.</strong> rust-impl-vs-dyn</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/rust-cow.html"><strong aria-hidden="true">4.7.8.</strong> rust-cow</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/rust-terms.html"><strong aria-hidden="true">4.7.9.</strong> rust-terms</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/rust-ron.html"><strong aria-hidden="true">4.7.10.</strong> rust-ron</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/rust-arc.html"><strong aria-hidden="true">4.7.11.</strong> rust-arc</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/rust-macro-notes.html"><strong aria-hidden="true">4.7.12.</strong> rust-macro-notes</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/rust-closure.html"><strong aria-hidden="true">4.7.13.</strong> rust-closure</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/rust-ptr.html"><strong aria-hidden="true">4.7.14.</strong> rust-ptr</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/rust-module-system.html"><strong aria-hidden="true">4.7.15.</strong> rust-module-system</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/rs_msrv.html"><strong aria-hidden="true">4.7.16.</strong> rs_msrv</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/rust-traits.html"><strong aria-hidden="true">4.7.17.</strong> rust-traits</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/rust-associated-function-vs-method.html"><strong aria-hidden="true">4.7.18.</strong> rust-associated-function-vs-method</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/rust-vs-go.html"><strong aria-hidden="true">4.7.19.</strong> rust-vs-go</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/cargo-lock.html"><strong aria-hidden="true">4.7.20.</strong> cargo-lock</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/rust-rc.html"><strong aria-hidden="true">4.7.21.</strong> rust-rc</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/rust-basics.html"><strong aria-hidden="true">4.7.22.</strong> rust-basics</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/rs_send-sync.html"><strong aria-hidden="true">4.7.23.</strong> rs_send-sync</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/rust-notes1.html"><strong aria-hidden="true">4.7.24.</strong> rust-notes1</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/rust-crates-packages-modules.html"><strong aria-hidden="true">4.7.25.</strong> rust-crates-packages-modules</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/rust-option.html"><strong aria-hidden="true">4.7.26.</strong> rust-option</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/rust_trait-bound.html"><strong aria-hidden="true">4.7.27.</strong> rust_trait-bound</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/rust-iterators.html"><strong aria-hidden="true">4.7.28.</strong> rust-iterators</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/rs-diverging-function.html"><strong aria-hidden="true">4.7.29.</strong> rs-diverging-function</a></li><li class="chapter-item expanded "><a href="Programming_Languages/rust/rust-whats-the-point-of-borrowing.html"><strong aria-hidden="true">4.7.30.</strong> rust-whats-the-point-of-borrowing</a></li></ol></li><li class="chapter-item expanded "><a href="Programming_Languages/java/index.html"><strong aria-hidden="true">4.8.</strong> java</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Programming_Languages/java/effective-java.html"><strong aria-hidden="true">4.8.1.</strong> effective-java</a></li></ol></li><li class="chapter-item expanded "><a href="Programming_Languages/python/index.html"><strong aria-hidden="true">4.9.</strong> python</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Programming_Languages/python/first-few-letters-of-string.html"><strong aria-hidden="true">4.9.1.</strong> first-few-letters-of-string</a></li><li class="chapter-item expanded "><a href="Programming_Languages/python/do-while.html"><strong aria-hidden="true">4.9.2.</strong> do-while</a></li><li class="chapter-item expanded "><a href="Programming_Languages/python/python_string-slicing.html"><strong aria-hidden="true">4.9.3.</strong> python_string-slicing</a></li><li class="chapter-item expanded "><a href="Programming_Languages/python/for-loop.html"><strong aria-hidden="true">4.9.4.</strong> for-loop</a></li><li class="chapter-item expanded "><a href="Programming_Languages/python/sqlite3.html"><strong aria-hidden="true">4.9.5.</strong> sqlite3</a></li></ol></li><li class="chapter-item expanded "><a href="Programming_Languages/go/index.html"><strong aria-hidden="true">4.10.</strong> go</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Programming_Languages/go/does-go-have-fold.html"><strong aria-hidden="true">4.10.1.</strong> does-go-have-fold</a></li><li class="chapter-item expanded "><a href="Programming_Languages/go/go-packages.html"><strong aria-hidden="true">4.10.2.</strong> go-packages</a></li><li class="chapter-item expanded "><a href="Programming_Languages/go/go-basics.html"><strong aria-hidden="true">4.10.3.</strong> go-basics</a></li><li class="chapter-item expanded "><a href="Programming_Languages/go/local-module-naming-convention.html"><strong aria-hidden="true">4.10.4.</strong> local-module-naming-convention</a></li><li class="chapter-item expanded "><a href="Programming_Languages/go/how-to-use-local-package-go.html"><strong aria-hidden="true">4.10.5.</strong> how-to-use-local-package-go</a></li><li class="chapter-item expanded "><a href="Programming_Languages/go/go-module-naming-conventions.html"><strong aria-hidden="true">4.10.6.</strong> go-module-naming-conventions</a></li><li class="chapter-item expanded "><a href="Programming_Languages/go/go-tutorial.html"><strong aria-hidden="true">4.10.7.</strong> go-tutorial</a></li><li class="chapter-item expanded "><a href="Programming_Languages/go/when-should-you-use-go.html"><strong aria-hidden="true">4.10.8.</strong> when-should-you-use-go</a></li><li class="spacer"></li></ol></li></ol></li><li class="chapter-item expanded "><a href="Programming_Systems/index.html"><strong aria-hidden="true">5.</strong> Programming_Systems</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Programming_Systems/system_basics.html"><strong aria-hidden="true">5.1.</strong> system_basics</a></li><li class="chapter-item expanded "><a href="Programming_Systems/os.html"><strong aria-hidden="true">5.2.</strong> os</a></li><li class="chapter-item expanded "><a href="Programming_Systems/mutex.html"><strong aria-hidden="true">5.3.</strong> mutex</a></li><li class="chapter-item expanded "><a href="Programming_Systems/process.html"><strong aria-hidden="true">5.4.</strong> process</a></li><li class="chapter-item expanded "><a href="Programming_Systems/events.html"><strong aria-hidden="true">5.5.</strong> events</a></li><li class="chapter-item expanded "><a href="Programming_Systems/kernel.html"><strong aria-hidden="true">5.6.</strong> kernel</a></li><li class="chapter-item expanded "><a href="Programming_Systems/green_thread.html"><strong aria-hidden="true">5.7.</strong> green_thread</a></li><li class="chapter-item expanded "><a href="Programming_Systems/cpu-speed.html"><strong aria-hidden="true">5.8.</strong> cpu-speed</a></li><li class="chapter-item expanded "><a href="Programming_Systems/programming_async_concurrency_parallelism.html"><strong aria-hidden="true">5.9.</strong> programming_async_concurrency_parallelism</a></li><li class="chapter-item expanded "><a href="Programming_Systems/shell_vs_terminal.html"><strong aria-hidden="true">5.10.</strong> shell_vs_terminal</a></li><li class="chapter-item expanded "><a href="Programming_Systems/socket.html"><strong aria-hidden="true">5.11.</strong> socket</a></li><li class="chapter-item expanded "><a href="Programming_Systems/task.html"><strong aria-hidden="true">5.12.</strong> task</a></li><li class="chapter-item expanded "><a href="Programming_Systems/multithreading.html"><strong aria-hidden="true">5.13.</strong> multithreading</a></li><li class="chapter-item expanded "><a href="Programming_Systems/process_vs_thread.html"><strong aria-hidden="true">5.14.</strong> process_vs_thread</a></li><li class="chapter-item expanded "><a href="Programming_Systems/thread.html"><strong aria-hidden="true">5.15.</strong> thread</a></li><li class="chapter-item expanded "><a href="Programming_Systems/system_call.html"><strong aria-hidden="true">5.16.</strong> system_call</a></li><li class="chapter-item expanded "><a href="Programming_Systems/async.html"><strong aria-hidden="true">5.17.</strong> async</a></li><li class="chapter-item expanded "><a href="Programming_Systems/concurrency/index.html"><strong aria-hidden="true">5.18.</strong> concurrency</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Programming_Systems/concurrency/await.html"><strong aria-hidden="true">5.18.1.</strong> await</a></li><li class="chapter-item expanded "><a href="Programming_Systems/concurrency/async-concurrency-threading.html"><strong aria-hidden="true">5.18.2.</strong> async-concurrency-threading</a></li><li class="chapter-item expanded "><a href="Programming_Systems/concurrency/concurrency.html"><strong aria-hidden="true">5.18.3.</strong> concurrency</a></li><li class="chapter-item expanded "><a href="Programming_Systems/concurrency/async-discussion-00.html"><strong aria-hidden="true">5.18.4.</strong> async-discussion-00</a></li><li class="chapter-item expanded "><a href="Programming_Systems/concurrency/async-await-tips.html"><strong aria-hidden="true">5.18.5.</strong> async-await-tips</a></li><li class="chapter-item expanded "><a href="Programming_Systems/concurrency/async-callback.html"><strong aria-hidden="true">5.18.6.</strong> async-callback</a></li><li class="spacer"></li></ol></li></ol></li><li class="chapter-item expanded "><a href="Computer_Science/index.html"><strong aria-hidden="true">6.</strong> Computer_Science</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Computer_Science/hashing.html"><strong aria-hidden="true">6.1.</strong> hashing</a></li><li class="chapter-item expanded "><a href="Computer_Science/computer_basics.html"><strong aria-hidden="true">6.2.</strong> computer_basics</a></li><li class="chapter-item expanded "><a href="Computer_Science/data-structures_elementary.html"><strong aria-hidden="true">6.3.</strong> data-structures_elementary</a></li><li class="chapter-item expanded "><a href="Computer_Science/what_is_a_program.html"><strong aria-hidden="true">6.4.</strong> what_is_a_program</a></li><li class="chapter-item expanded "><a href="Computer_Science/data-structures-algorithms.html"><strong aria-hidden="true">6.5.</strong> data-structures-algorithms</a></li><li class="chapter-item expanded "><a href="Computer_Science/goap.html"><strong aria-hidden="true">6.6.</strong> goap</a></li><li class="chapter-item expanded "><a href="Computer_Science/data_type_vs_data_structure.html"><strong aria-hidden="true">6.7.</strong> data_type_vs_data_structure</a></li><li class="chapter-item expanded "><a href="Computer_Science/pointers.html"><strong aria-hidden="true">6.8.</strong> pointers</a></li><li class="chapter-item expanded "><a href="Computer_Science/data_structures.html"><strong aria-hidden="true">6.9.</strong> data_structures</a></li><li class="chapter-item expanded "><a href="Computer_Science/graphs/index.html"><strong aria-hidden="true">6.10.</strong> graphs</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Computer_Science/graphs/graph_algorithms.html"><strong aria-hidden="true">6.10.1.</strong> graph_algorithms</a></li><li class="spacer"></li></ol></li></ol></li><li class="chapter-item expanded "><a href="Project_Management/index.html"><strong aria-hidden="true">7.</strong> Project_Management</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Project_Management/decisive_framework.html"><strong aria-hidden="true">7.1.</strong> decisive_framework</a></li><li class="chapter-item expanded "><a href="Project_Management/project_definition.html"><strong aria-hidden="true">7.2.</strong> project_definition</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="Cloud/index.html"><strong aria-hidden="true">8.</strong> Cloud</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Cloud/aws/index.html"><strong aria-hidden="true">8.1.</strong> aws</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Cloud/aws/module01_intro.html"><strong aria-hidden="true">8.1.1.</strong> module01_intro</a></li><li class="chapter-item expanded "><a href="Cloud/aws/module03_global_infrastructure_reliability.html"><strong aria-hidden="true">8.1.2.</strong> module03_global_infrastructure_reliability</a></li><li class="chapter-item expanded "><a href="Cloud/aws/module05_storage_database.html"><strong aria-hidden="true">8.1.3.</strong> module05_storage_database</a></li><li class="chapter-item expanded "><a href="Cloud/aws/module02_cloud_compute.html"><strong aria-hidden="true">8.1.4.</strong> module02_cloud_compute</a></li><li class="chapter-item expanded "><a href="Cloud/aws/module10_cloud_journey.html"><strong aria-hidden="true">8.1.5.</strong> module10_cloud_journey</a></li><li class="chapter-item expanded "><a href="Cloud/aws/module04_networking.html"><strong aria-hidden="true">8.1.6.</strong> module04_networking</a></li><li class="chapter-item expanded "><a href="Cloud/aws/module07_monitoring_analytics.html"><strong aria-hidden="true">8.1.7.</strong> module07_monitoring_analytics</a></li><li class="chapter-item expanded "><a href="Cloud/aws/module06_security.html"><strong aria-hidden="true">8.1.8.</strong> module06_security</a></li><li class="chapter-item expanded "><a href="Cloud/aws/module08_pricing_support.html"><strong aria-hidden="true">8.1.9.</strong> module08_pricing_support</a></li><li class="chapter-item expanded "><a href="Cloud/aws/module09_migration.html"><strong aria-hidden="true">8.1.10.</strong> module09_migration</a></li><li class="spacer"></li></ol></li></ol></li><li class="chapter-item expanded "><a href="Programming/index.html"><strong aria-hidden="true">9.</strong> Programming</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Programming/programming-hook.html"><strong aria-hidden="true">9.1.</strong> programming-hook</a></li><li class="chapter-item expanded "><a href="Programming/callback.html"><strong aria-hidden="true">9.2.</strong> callback</a></li><li class="chapter-item expanded "><a href="Programming/closure.html"><strong aria-hidden="true">9.3.</strong> closure</a></li><li class="chapter-item expanded "><a href="Programming/discriminated-unions.html"><strong aria-hidden="true">9.4.</strong> discriminated-unions</a></li><li class="chapter-item expanded "><a href="Programming/testing.html"><strong aria-hidden="true">9.5.</strong> testing</a></li><li class="chapter-item expanded "><a href="Programming/type_erasure.html"><strong aria-hidden="true">9.6.</strong> type_erasure</a></li><li class="chapter-item expanded "><a href="Programming/programming_pointer.html"><strong aria-hidden="true">9.7.</strong> programming_pointer</a></li><li class="chapter-item expanded "><a href="Programming/loop_comment.html"><strong aria-hidden="true">9.8.</strong> loop_comment</a></li><li class="chapter-item expanded "><a href="Programming/why-is-memory-management-important.html"><strong aria-hidden="true">9.9.</strong> why-is-memory-management-important</a></li><li class="chapter-item expanded "><a href="Programming/linter.html"><strong aria-hidden="true">9.10.</strong> linter</a></li><li class="chapter-item expanded "><a href="Programming/the-linux-programming-interface-notes.html"><strong aria-hidden="true">9.11.</strong> the-linux-programming-interface-notes</a></li><li class="chapter-item expanded "><a href="Programming/programming_basics.html"><strong aria-hidden="true">9.12.</strong> programming_basics</a></li><li class="chapter-item expanded "><a href="Programming/build-vs-compile.html"><strong aria-hidden="true">9.13.</strong> build-vs-compile</a></li><li class="chapter-item expanded "><a href="Programming/memory-leak-analogy.html"><strong aria-hidden="true">9.14.</strong> memory-leak-analogy</a></li><li class="chapter-item expanded "><a href="Programming/programming-glossary.html"><strong aria-hidden="true">9.15.</strong> programming-glossary</a></li><li class="chapter-item expanded "><a href="Programming/static-vs-shared-library.html"><strong aria-hidden="true">9.16.</strong> static-vs-shared-library</a></li><li class="chapter-item expanded "><a href="Programming/handle.html"><strong aria-hidden="true">9.17.</strong> handle</a></li><li class="chapter-item expanded "><a href="Programming/compile-time-function-evaluation.html"><strong aria-hidden="true">9.18.</strong> compile-time-function-evaluation</a></li><li class="chapter-item expanded "><a href="Programming/programming_generic_type.html"><strong aria-hidden="true">9.19.</strong> programming_generic_type</a></li><li class="chapter-item expanded "><a href="Programming/get-args-from-command-line.html"><strong aria-hidden="true">9.20.</strong> get-args-from-command-line</a></li><li class="chapter-item expanded "><a href="Programming/type_erasure-reification.html"><strong aria-hidden="true">9.21.</strong> type_erasure-reification</a></li><li class="chapter-item expanded "><a href="Programming/programming-terms.html"><strong aria-hidden="true">9.22.</strong> programming-terms</a></li><li class="chapter-item expanded "><a href="Programming/type-parameters.html"><strong aria-hidden="true">9.23.</strong> type-parameters</a></li><li class="chapter-item expanded "><a href="Programming/debugging-static-dynamic-analysis.html"><strong aria-hidden="true">9.24.</strong> debugging-static-dynamic-analysis</a></li><li class="chapter-item expanded "><a href="Programming/common.html"><strong aria-hidden="true">9.25.</strong> common</a></li><li class="chapter-item expanded "><a href="Programming/understanding_oop.html"><strong aria-hidden="true">9.26.</strong> understanding_oop</a></li><li class="chapter-item expanded "><a href="Programming/super-and-self.html"><strong aria-hidden="true">9.27.</strong> super-and-self</a></li><li class="chapter-item expanded "><a href="Programming/user-value.html"><strong aria-hidden="true">9.28.</strong> user-value</a></li><li class="chapter-item expanded "><a href="Programming/environment_variables.html"><strong aria-hidden="true">9.29.</strong> environment_variables</a></li><li class="chapter-item expanded "><a href="Programming/web/index.html"><strong aria-hidden="true">9.30.</strong> web</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Programming/web/html_terms.html"><strong aria-hidden="true">9.30.1.</strong> html_terms</a></li></ol></li><li class="chapter-item expanded "><a href="Programming/design_patterns/index.html"><strong aria-hidden="true">9.31.</strong> design_patterns</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Programming/design_patterns/flux.html"><strong aria-hidden="true">9.31.1.</strong> flux</a></li><li class="chapter-item expanded "><a href="Programming/design_patterns/mvc.html"><strong aria-hidden="true">9.31.2.</strong> mvc</a></li><li class="chapter-item expanded "><a href="Programming/design_patterns/ioc.html"><strong aria-hidden="true">9.31.3.</strong> ioc</a></li><li class="chapter-item expanded "><a href="Programming/design_patterns/command.html"><strong aria-hidden="true">9.31.4.</strong> command</a></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="welcome"><a class="header" href="#welcome">Welcome</a></h1>
<pre><code>In the beginning the Universe was created. 
This has made a lot of people very angry and been widely regarded as a bad move. - Douglas Adams, The Hitchhiker's Guide to the Galaxy
</code></pre>
<pre><code>Give a man a fire and he's warm for a day, 
but set fire to him and he's warm for the rest of his life. Sir Terry Pratchett, Jingo
</code></pre>
<p>Warning</p>
<pre><code>           HERE   BE
            \____/
___        &lt;o\  /o&gt;     ____
  ||         \__/      ||
 /  \     /   /       /  \\
/    \____\    \ ____/    \\
          DRAGONS

This wiki is still WIP so there's going to be some messy things lurking around.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="programming-notebook"><a class="header" href="#programming-notebook">Programming Notebook</a></h1>
<p>This is my notebook on tech concepts and programming.</p>
<p>I compile information I find useful here from any source: books, the web, blog, source code, etc.</p>
<div style="break-before: page; page-break-before: always;"></div><p>Ansible
Docker
Terraform
Kubernetes
Git</p>
<div style="break-before: page; page-break-before: always;"></div><p><code>origin</code> the default alias <em>on your system</em> for a remote git repo.</p>
<p><code>git push &lt;alias&gt; &lt;branchname&gt;</code></p>
<p><code>git push origin branchname</code></p>
<p>https://stackoverflow.com/questions/9529497/what-is-origin-in-git</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ansible-vs-terraform"><a class="header" href="#ansible-vs-terraform">Ansible vs Terraform</a></h1>
<p>Learning-Route = Terraform &gt;&gt; Ansible &gt;&gt; K8</p>
<p>They are complementary tools but it seems like Ansible is the more flexible and general-purpose of the two.</p>
<p>see: </p>
<ul>
<li>
<p>https://www.ansible.com/blog/ansible-vs.-terraform-demystified</p>
</li>
<li>
<p>https://www.reddit.com/r/redhat/comments/xd7i6l/ansible_vs_terraform_demystified/</p>
</li>
<li>
<p>https://www.reddit.com/r/redhat/comments/xd7i6l/comment/io9plju/?utm_source=share&amp;utm_medium=web2x&amp;context=3</p>
</li>
</ul>
<pre><code>Without reading yet, has this ever been a mystery? Tf builds resources, does a wonderful job of it, keeps state straight, etc; ansible configures said resources, clean easy yaml, easily understood python… I’m going to read this but let’s see how close I was…

POST READ EDIT: okay yep, it’s well written and will be my go-to link if someone needs the two explained but no surprises here. Ansible can provision resources as it can run any arbitrary command and thus make an AWS api call for example to build something, but lacks the state that TF keeps so tear-down/upgrades will require manually written “guardrail” logic and that’d just be reinventing a wheel.

But still a good reference to those beginning to grasp those concepts.
</code></pre>
<p>Terraform takes an immutable approach to infrastructure.  If you are unfamiliar with immutable infrastructure, it is defined as instances that do not change over time or are unable to be changed. To greatly simplify, an IT operator can create a declarative file (a Terraform HCL file) that represents in structured data what they want their end-state cloud footprint to look like and deploy this with Terraform.  One of the advantages of this approach is that it creates a single source of truth (that HCL file) that can be deployed over and over again without having to understand how it gets to the end-state.  This approach can be simple and elegant for individuals getting started quickly but depending on the size of infrastructure can become complex and <a href="https://www.youtube.com/watch?v=wRgQxfrFJYU">hard to manage</a>. </p>
<p>Ansible, by design, takes an imperative approach to automation.  You simply have a task list that iterates through each resource. </p>
<pre><code>- https://www.reddit.com/r/ansible/comments/pktanv/comment/hc5wy8h/?utm_source=share&amp;utm_medium=web2x&amp;context=3
If the infrastructure you spin up is very predictable in terms of number of nodes and types of services, terraform will buy you very little over just using ansible. Also, terraform is terrible at configuration management, which ansible excels at. However, if you're going to add and remove services regularly and spin up environments then tear them down, terraform will be more than worth the effort, since it will idempotent-ly ensure everything is as you want to in the current definition of the infrastructure, whenever you run it.

If you're infrastructure is fairly well defined but you might add or remove a few nodes only once in a while, still prefer ansible. You can use the 'count' property to do the same thing, in that case.
</code></pre>
<pre><code>&gt;&gt; https://www.reddit.com/r/ansible/comments/pktanv/comment/hc5sfw8/?utm_source=share&amp;utm_medium=web2x&amp;context=3

Ansible doesn't maintain any state of the infrastructure, everything is done through the SSH connection to compute things such as facts or apply desired configuration every time. That's why you playbooks/roles must be idempotent or you will break your infrastructure because Ansible doesn't have any conscience of what run on your machines (is there a webserver, a database ?) and doesn't have something to track what has been applied at a given time (no state such as TF). From the infrastructure side of things, you only have an inventory to know what machines you have, but it's static by design, you need to manage it manually. You can of course use a dynamic inventory but you will need to build it yourself if it doesn't already exists for your infrastructure provider.

Terraform however, use a &quot;state&quot; (can be a simple JSON file or store in DB) to track what you applied and know if changes need to be applied if you change your .tf files. Terraform can have conscience of what machines or services on cloud you are running because of this state file (and can compare it by querying APIs such as AWS, Azure or even vSphere i.e.).

But tbh, I don't find Ansible is any good to manage infrastructure compare to TF, it is way better to manage configuration in the machine itself (manage system configuration, application deployment and so on). But you can use it in tandem with Terraform : Terraform to manage infrastructure (create your VM, manage DNS, block storage, S3... on cloud provider) and Ansible for internal provisionning such as deploying your applications (if you are not on immutable infrastructure side of things).

</code></pre>
<pre><code>&gt;&gt; https://www.reddit.com/r/devops/comments/125ezvw/comment/je3y741/?utm_source=share&amp;utm_medium=web2x&amp;context=3

These two tools are typically used for different purposes. Ansible is often used to manage software installation and configuration on hosts. Terraform is typically used to manage infrastructure resources like virtual machines, queues, message brokers etc. I think learning Terraform will provide useful. Terraform and CloudFormation/CDK are probably the leaders in tooling for managing e.g. AWS resources. You could learn Ansible, or alternatively, Chef or Puppet.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>sinofool
·
8 mo. ago</p>
<p>My personal solution is docker compose managed by ansible.</p>
<p>Home lab and similar small scale environments change more frequently. Honestly I think it needs virtualization not orchestration.</p>
<p>Kubernetes is designed to run a single distributed app on 100 physical servers. Not 10 different apps on 2 servers. Every additional layer of abstraction has a cost. I just can’t afford it at small scale.</p>
<p>Also came here to say this.</p>
<p>I run two swarms in my homelab. Even if you only deploy a single docker host, you should probably deploy it as a single-node swarm. It opens up so much more in Portainer, and will give you more &quot;training&quot; should you ever want to switch over to k8s.</p>
<p>vladimich
·
2 yr. ago</p>
<p>We've used Docker Swarm on-prem for a few years in production too, before moving to Kubernetes (EKS) and having used both systems extensively, yes, you can accomplish a lot in Swarm too but it's all hacked together and held together with duct tape.</p>
<p>Docker Swarm is dead</p>
<p>If you're forced to use Kubernetes and don't use the cloud managed (and vendor locked) variety, then consider something like K3s or even RKE with either Rancher or Portainer. You'll make your own life more tolerable. And don't get caught up in running software that's too complicated either: Caddy or even just Nginx with Certbot (or the Kubernetes variety of it) will be fully sufficient for ingress with SSL/TLS in most cases. NFS will be good enough for sharing files across multiple pods as well and so on...</p>
<p>https://www.reddit.com/r/docker/comments/oufvd8/comment/h72bhee/?utm_source=share&amp;utm_medium=web2x&amp;context=3</p>
<div style="break-before: page; page-break-before: always;"></div><p>Spark_77
·
3 yr. ago
· edited 3 yr. ago
Wholesome</p>
<p>Ok, here's my scenario.</p>
<p>I start a new development project that I'm going to deploy to the cloud (in my case, Azure). In order to test fully, I need to create various resources - a database, webservice, certificate store, firewall and so on in my development environment, all of which will need to be configured.</p>
<p>So lets say I do all of that manually. I develop my software, deploy it, test it. Great! but now i need to release it to my production environment, I've got no choice but to manually create all the resources and configure them again.</p>
<p>If I write a terraform script to create and configure all of my resources I can create the production einvironment in just a few minutes by running the script. Even better, I know that everything is configured properly, because its the same as my dev/test environment.</p>
<p>Now imagine if I sell my software to another 100 customers - I can re-use the script over and over. If make an update to the software that needs a new resource, I add it to the script and then when I upgrade each of my 100 systems I just run the terraform script again and it'll add the resource for me, again done correctly and configured ready to go.</p>
<p>https://www.reddit.com/r/explainlikeimfive/comments/hfkmya/comment/fvyewbz/?utm_source=share&amp;utm_medium=web2x&amp;context=3</p>
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><p>proxmox is basically debian</p>
<p>Rocky linux is basically a free slower updated version of RHEL</p>
<p>RHEL has a free developer subscription that allows up to 16 nodes</p>
<div style="break-before: page; page-break-before: always;"></div><p>Automate install of OS from the network</p>
<p>Use PXE</p>
<p>Set up PXE server</p>
<p>https://linuxhint.com/pxe_boot_ubuntu_server/</p>
<ul>
<li>Set up DHCP server on you server, you could use your router</li>
<li>or set it up on your pc, Ubuntu has dnsmasq which can act both as a DHCP server and TFTP server</li>
<li>Mine AiDisk which allows you to share files in the USB disk through the internet</li>
<li>Set up TFTP or a way to transfer data to the target</li>
<li>Get the boot images you want to use</li>
</ul>
<p>Set up the bare metal target</p>
<ul>
<li>
<p>The target needs to to have a NIC that's compatible with PXE check with manufacture.</p>
</li>
<li>
<p>PXE is usually disabled on default because it's usually not needed and slows down boot</p>
</li>
<li>
<p>Not the casre here for us</p>
</li>
<li>
<p>On mine, an Asus, its called Advanced &gt; Network Stack &gt; Enable</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><pre><code>Context: I  need to set up git

i need git

I use cgit

cgit needs web server

web server is nginx

nginx needs config

config nginx with bash

Problem: bash scripts are unmaintainable

devops suggests Ansible

why is ansible? ansible makes infrastructure easier to manage (after paying to get over the learning curve)

what is ansible? software, a bunch of programs written in Python by some smart people

how does ansible work mechanically? a bunch of Python, you can write Ansible scripts that auatomate everything

how does ansible work abstractly? infrastructure as code, nodes

Problem I  need to write reusable instructions for ansible
SOlution You need playbooks

ansible calls them playbooks
- ansible playbook = ansible script
- playbooks are expressed in [YAML](https://yaml.org/)
- playbooks consists of plays run in order of declaration

An assembly line is a production process that breaks the manufacture of a good into steps that are completed in a pre-defined sequence. Hey! A playbook is like an assembly line where the end product is the desired state of your computer.

playbook = [ play1, play2, ... ,playN ]

each play runs 1 or more tasks

play = [task1, task2, ..., ,taskN]

each task calls and Ansible.module 

so using above logic
Playbook = [
  play1 = [task1.1, task,1.2,... 1.N]
  play2 = [task2.1, task,2.2,... 2.N]
             ...
  playN = [task.M.1, task, M.2, ... taskM.N]
]
task - some_script.py

so 

Playbook = [
  play1 = [script1.1, script1.2,... script.N]
  play2 = [script2.1, script,2.2,... script2.N]
             ...
  playN = [script.M.1, , scriptM.2, ... scriptM.N]
]

so a playbook is a bunch of scripts called in order

This more elaborately answers the question of how Ansible works?
it's a bunch of scripts called in a well=defined order

ans since can be written in anything
Ansible can be used for anything that requires scripts to be called in order, kind of like Make

Ansible.module - (A module is a reusable, standalone script that Ansible runs on your behalf, either locally or remotely. Modules interact with your local machine, an API, or a remote system to perform specific tasks like changing a database password or spinning up a cloud instance.)

What can ansible modules be written in? ansible modules are independent scripts so they can be written in any lanaguage
Ansiblers prefer Python

Problem: my Ansible.playbook is getting too complex

You need Ansible.roles.

What is an ansible.role?
In Ansible, the role is the primary mechanism for breaking a Ansible.playbook into multiple files.

Why Ansible.role?
- The breaking of playbook allows you to logically break the playbook into reusable components.
- Ansible roles allow you to develop reusable automation components by grouping and encapsulating related 
i.e. roles are modules for playbooks

Others have written roles for you. YOu can find them at Ansible-Galaxy. It's a place to host Ansible roles. Galaxy provides pre-packaged units of work known to Ansible as roles and collections.

control nodes -- controls [ssh] --&gt; managed node

control node
-- requires UNIX-like OS

managed node
-- Python 3.5-3.11
-- SSH w/ user you can access w/ interactive POSIX shell 

https://www.ansible.com/blog/ansible-vs.-terraform-demystified
- The primary difference for their community versions is that Ansible is an multi-purpose automation tool, whereas Terraform is an infrastructure as code tool. 
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><pre><code>need git

cgit

cgit needs web server

web server is nginx

nginx needs config

config nginx with bash

bash is PITA

devops suggests Ansible

what is ansible?

why ansible? ansible makes infrastructure easier to manage (after paying to get over the learning curve)

what is ansible? a bunch of programs

how does ansible work mechanically? a bunch of Python

how does ansible work abstractly? infrastructure as code, nodes


control nodes -- controls [ssh] --&gt; managed node

control node
-- requires UNIX-like OS

managed node
-- Python 3.5-3.11
-- SSH w/ user you can access w/ interactive POSIX shell 

https://www.ansible.com/blog/ansible-vs.-terraform-demystified
- The primary difference for their community versions is that Ansible is an multi-purpose automation tool, whereas Terraform is an infrastructure as code tool. 
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="git"><a class="header" href="#git">Git</a></h1>
<p><img src="DevOps/git/data/git-logo-00-4x.png" alt="git logo" /></p>
<p>Version Control System</p>
<div style="break-before: page; page-break-before: always;"></div><p>Docker</p>
<p>Where is Docker?</p>
<p>Who is Docker?</p>
<p>I'll do better, why is Docker?</p>
<p><img src="DevOps/docker/data/monster_docker_whale_00.png" alt="docker" /></p>
<p>You see those boxes on that ship looking whale. They're called containers and they're very useful.</p>
<p><img src="DevOps/docker/data/containerize_all_the_apps_01.png" alt="containerize-all-the-apps" /></p>
<p><img src="DevOps/docker/data/docker_container_example_00.png" alt="docker" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="view-doc-archives"><a class="header" href="#view-doc-archives">View doc archives</a></h1>
<pre><code class="language-sh">`docker pull docs/docker.github.io`

# Get the main branch
`docker pull https://github.com/docker/docs/tree/main`

`docker run -ti -p 4000:4000 docs/docker.github.io`
</code></pre>
<h1 id="access-older-arvhived-documentation"><a class="header" href="#access-older-arvhived-documentation">Access older arvhived documentation</a></h1>
<ul>
<li>enter the version number and selecting it from the branch selection list of your repo</li>
<li>directly accessing the Github URL for your version e.g. https://github.com/docker/docs/tree/v1.9</li>
<li>run container of the specific tag for https://hub.docker.com/r/docs/docker.github.io in Docker Hub
access <code>v1.9 </code>docker run -it -p 4000:4000 docs/docker.github.io:v1.9`</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="docker-desktop"><a class="header" href="#docker-desktop">Docker Desktop</a></h1>
<p>Start on login</p>
<pre><code>$ systemctl --user enable docker-desktop
</code></pre>
<p>Update docker desktop</p>
<pre><code># Download new version
$ sudo apt-get install ./docker-desktop-&lt;version&gt;-&lt;arch&gt;.deb
</code></pre>
<p>When Docker starts -&gt; 
create context
set context_current to context</p>
<p>docker_cli targets a <a href="DevOps/docker/docker-context.html">docker_context</a></p>
<div style="break-before: page; page-break-before: always;"></div><pre><code class="language-dockerfile"># Copies new files or directories from &lt;src&gt;
# to the filesystem of the container at path &lt;dest&gt;
COPY . .
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="clean-up-old-versions-before-hand"><a class="header" href="#clean-up-old-versions-before-hand">Clean up old versions before hand</a></h1>
<ul>
<li>uninstall old versions: <code>for pkg in docker.io docker-doc docker-compose podman-docker containerd runc; do sudo apt-get remove $pkg; done</code></li>
<li>uninstall docker engine: <code> sudo apt-get purge docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin docker-ce-rootless-extras</code></li>
<li>delete all images, containers and volumes: </li>
</ul>
<pre><code>sudo rm -rf /var/lib/docker
sudo rm -rf /var/lib/containerd
</code></pre>
<p>https://docs.docker.com/engine/install/</p>
<p>https://download.docker.com/linux/static/stable/</p>
<p>NOTE <code>.tgz</code> is short for <code>.tar.gz</code></p>
<p>Since we're on PopOS! which is a Ubuntu derivative, I'm just going to install <a href="https://docs.docker.com/desktop/install/linux-install/">docker desktop for linux</a>
Docker engine comes bundled with Docker Desktop for Linux</p>
<h1 id="install-docker-desktop-on-linux"><a class="header" href="#install-docker-desktop-on-linux">Install docker desktop on linux</a></h1>
<p>We need to have kvm support</p>
<pre><code class="language-sh">modprobe kvm
# if you know your cpu has virtualization support and this command fails,
# it means the option is disabled in the BIOS, go check the BIOs and enable it
modprobe kvm_intel # or modprobe kvm_amd

# lsmod shows modules
# grep filters the text
lsmod | grep kvm
ls -al /dev/kvm
# Add your user to the kvm group so you can access the kvm device

# usermod - modifes systemaccounts
# -a / --append - add user to supplementary groups use only with -G
# -G / --groups - the supplementary group list

sudo usermod -aG kvm $USER
# tip to remove user, must be used with -G like -a
# don't run this, it's for FYI
sudo usermod -rG kvm $USER
# Sign out and sign back in

# Change current group id of login session
newgrp kvm

# Check which groups user is in
groups
</code></pre>
<p>Install Docker Desktop</p>
<pre><code class="language-sh"># Clean prior docker desktops
sudo apt remove docker-desktop
rm -r $HOME/.docker/desktop
sudo rm /usr/local/bin/com.docker.cli
sudo apt purge docker-desktop
</code></pre>
<p>Get the docker desktop package for your system</p>
<pre><code>sudo apt-get update
sudo apt-get install ./docker-desktop-&lt;version&gt;-&lt;arch&gt;.deb
</code></pre>
<p>NOTE if you have &gt;250 employers OR revenue &gt;=$10 million, you need to pay</p>
<p>NOTE do this if you don't want to use sudo or can't: https://docs.docker.com/engine/install/linux-postinstall/</p>
<p>the Docker daemon binds to a Unix socket that <code>root</code> user owns, so others can only use <code>sudo</code> to access</p>
<p>IF you don't want to use <code>sudo</code>, you have to make a <code>docker</code> group and add users to it</p>
<pre><code class="language-sh"># check if docker group exists
cat /etc/group | grep docker

if [ $? -eq 1 ];then
    echo 'ERR group not found: docker'
fi


#  Create docker group
sudo groupadd docker

# Add your user to the docker group
sudo usermod -aG docker $USER

# activate the change
newgrp docker

# verify docker command works
docker run hello-world

# WARN if you used sudo beforehand before adding your user to docker group you might get an error
# to fix remove ~/.docker/ or change owernship with the following commands
sudo chown &quot;$USER&quot;:&quot;$USER&quot; /home/&quot;$USER&quot;/.docker -R
sudo chmod g+rwx &quot;$HOME/.docker&quot; -R

# Configure docker to start on boot/not start on boot Optional
sudo systemctl &lt;enable | disable &gt; docker.service
sudo systemctl &lt;enable | disable &gt; containerd.service

# Configure logging
</code></pre>
<h1 id="configure-logging"><a class="header" href="#configure-logging">configure logging</a></h1>
<p>WARN! logs might take too much disk space because log rotation is not on by default ( this is for compatibility reasons)</p>
<p>WHAT IS log rotation?</p>
<ul>
<li>In IT log rotation is an automated processes where log files are processed after they become too big or too old like deleting or compressing them usually to save disk space</li>
</ul>
<p>To Turn on log rotation</p>
<pre><code># Go to /etc/docker/
# create the file daemon.json if it does not exist
if [ -f daemon.json ]; then
    touch daemon.json
fi

</code></pre>
<p>Use the local log driver which uses log rotation by default
<code>daemon.json</code></p>
<pre><code class="language-json">{
    &quot;log-driver&quot;: &quot;local&quot;
}
</code></pre>
<p>see: https://docs.docker.com/config/containers/logging/json-file/</p>
<ul>
<li>To enable log-rotation: Set the <code>max-size</code> and <code>max-file</code></li>
<li>Restart docker after you changed <code>daemon.json</code>
<code>daemon.json</code></li>
</ul>
<pre><code class="language-json">{
    &quot;log-driver&quot;: &quot;json-file&quot;,
    &quot;log-opts&quot;:{
        &quot;max-size&quot;: &quot;10m&quot;,
        &quot;max-file&quot;: &quot;3&quot;
    }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>Docker postgres image runs on top of Debian Bullseye or Alpine Linux</p>
<p>This is why this works:</p>
<pre><code>docker run --name some-postgres -e POSTGRES_PASSWORD=mysecretpassword -d -p 5432:5432 postgres
</code></pre>
<pre><code>docker ps
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                     NAMES
05b3a3471f6f        postgres            &quot;/docker-entrypoint.s&quot;   1 seconds ago       Up 1 seconds        0.0.0.0:5432-&gt;5432/tcp    some-postgres
</code></pre>
<pre><code class="language-sh">docker exec -it 05b3a3471f6f bash

root@05b3a3471f6f:/# psql -U postgres
postgres-# CREATE DATABASE mytest;
postgres-# \q

</code></pre>
<pre><code>psql -h public-ip-server -p 5432 -U postgres
</code></pre>
<p>(password mysecretpassword)</p>
<pre><code>postgres=# \l

                             List of databases
   Name    |  Owner   | Encoding |  Collate   |   Ctype    |   Access privileges
-----------+----------+----------+------------+------------+-----------------------
 mytest    | postgres | UTF8     | en_US.utf8 | en_US.utf8 |
 postgres  | postgres | UTF8     | en_US.utf8 | en_US.utf8 |
 template0 | postgres | UTF8     | en_US.utf8 | en_US.utf8 | =c/postgres  
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="docker-basics"><a class="header" href="#docker-basics">Docker Basics</a></h1>
<p>Why Docker?
Makes your life a whole lot easier?</p>
<p>What is Docker?
It is a technology that containerizes your applications.</p>
<p>WHy containerization?
It makes doing hard computer stuff much easier. </p>
<p>What's the price?
A whole lot. Jokes aside, you have to learn how Docker works and if you make mucho $$$ you have to pay the folks at Docker $$. In return, as menteioned  before investing time learning it will make your life much easier down the road.</p>
<h2 id="example"><a class="header" href="#example">Example:</a></h2>
<h3 id="no-docker"><a class="header" href="#no-docker">No Docker</a></h3>
<p>I is web dev, I needs to:</p>
<ul>
<li>Set up web service</li>
<li>I need web framework - <a href="https://rubyonrails.org/">Ruby on Rails</a></li>
<li>I need database - <a href="https://www.mysql.com/">SQL database</a></li>
<li>I need network proxy router - <a href="https://www.nginx.com/">Nginx</a></li>
</ul>
<p>Traditional way:</p>
<ul>
<li>Install <a href="https://en.wikipedia.org/wiki/Operating_system">OS</a></li>
<li>Set up Ruby on Rails</li>
<li>Set up SQL database</li>
<li>Set up Nginx</li>
<li>Wire them together - takes forever, PITA</li>
</ul>
<p>Now imagine doing that manually everytime for 100 servers with different OS and configurations. You're going to mess up. A lot.</p>
<pre><code>
APP = [RoR, SQL, Nginx]
OS_N = {Windows, Ubuntu, Arch, CentOS, Redhat, etc.}

APP  APP  APP  APP --&gt;  ERR! ERR! ERR! ERR!
---  ---  ---  ----
OS_1 OS_2 OS_3 OS_4 &lt;-- different OS and versions - incompatiblities galore

:(
</code></pre>
<h3 id="with-docker"><a class="header" href="#with-docker">With Docker:</a></h3>
<p>Docker's job is to abstract away the OS so you can focus on the application.</p>
<p>Apps run in <a href="https://www.docker.com/resources/what-container/">containers</a> managed by Docker</p>
<p>You can write <a href="https://docs.docker.com/engine/reference/builder/">dockerfiles</a></p>
<pre><code>With docker
Write dockerfile once
That dockerfile contains instructions to deploy the container
As long as the server can run Docker you can:
Deploy all containers to the cloud with `docker up dockerfile`
Much easier (assuming you took the time to learn docker)

Con(APP) = containerized app
DCK = Docker

Con(APP)  Con(APP)   Con(APP) Con(APP) --&gt; OK OK OK OK
---        ---       ---        ---
DCK        DCK       DCK       DCK &lt;--- Abstraction Layer
---         ---      ---        ---
OS_1        OS_2     OS_3       OS_4 &lt;-- OS: NO Problems

:)

</code></pre>
<h1 id="warning-technical-stuff-below"><a class="header" href="#warning-technical-stuff-below">WARNING! Technical Stuff below:</a></h1>
<h1 id="install-docker"><a class="header" href="#install-docker">Install docker</a></h1>
<h2 id="ubuntu"><a class="header" href="#ubuntu">Ubuntu</a></h2>
<h2 id="clean-up-old-versions"><a class="header" href="#clean-up-old-versions">Clean up old versions</a></h2>
<p><code>sudo apt remove docker docker-engine docker.io containerd runc</code></p>
<h2 id="get-rid-of-imagescontainers-volumes-custom-configs"><a class="header" href="#get-rid-of-imagescontainers-volumes-custom-configs">Get rid of images,containers, volumes, custom configs</a></h2>
<p>They aren't automatically removed</p>
<pre><code>sudo rm -rf /var/lib/docker
sudo rm -rf /var/lib/containerd
</code></pre>
<p><code>sudo apt update</code></p>
<pre><code>sudo apt install \
 ca-certificates \
 curl \
 gnupg 
</code></pre>
<p><code>sudo mkdir -m 0755 -p /etc/apt/keyrings</code></p>
<p><code>curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg</code></p>
<h2 id="set-up-repo"><a class="header" href="#set-up-repo">Set up repo</a></h2>
<pre><code>echo \
  &quot;deb [arch=&quot;$(dpkg --print-architecture)&quot; signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \
  &quot;$(. /etc/os-release &amp;&amp; echo &quot;$VERSION_CODENAME&quot;)&quot; stable&quot; | \
</code></pre>
<p><code>sudo apt update</code></p>
<pre><code>sudo apt install \
 docker-ce \
 docker-ce-cli \
 containerd.io \
 docker-buildx-plugin \
 docker-compose-plugin
</code></pre>
<h2 id="test-docker-installation"><a class="header" href="#test-docker-installation">Test docker installation</a></h2>
<p><code>sudo docker run hello-world</code></p>
<h1 id="install-docker-desktop-for-ubuntu"><a class="header" href="#install-docker-desktop-for-ubuntu">Install Docker desktop for Ubuntu</a></h1>
<h2 id="if-you-have-non-gnome-desktop-environment"><a class="header" href="#if-you-have-non-gnome-desktop-environment">If you have non-Gnome Desktop environment</a></h2>
<p><code>sudo apt install gnome-terminal</code></p>
<h1 id="clean-up-old-docker-desktop-if-any"><a class="header" href="#clean-up-old-docker-desktop-if-any">Clean up old docker desktop if any</a></h1>
<pre><code>sudo apt remove docker-desktop
rm -r $HOME/.docker/desktop
sudo rm /usr/local/bin/com.docker.cli
sudo apt purge docker-desktop
</code></pre>
<p>Set up Docker's package repository (you should have already done this)</p>
<p>Download: https://desktop.docker.com/linux/main/amd64/docker-desktop-4.17.0-amd64.deb?utm_source=docker&amp;utm_medium=webreferral&amp;utm_campaign=docs-driven-download-linux-amd64</p>
<p>install the package with apt</p>
<pre><code>sudo apt-get update
sudo apt-get install ./docker-desktop-&lt;version&gt;-&lt;arch&gt;.deb
</code></pre>
<h2 id="launch-docker-desktop"><a class="header" href="#launch-docker-desktop">Launch Docker Desktop</a></h2>
<p><code>systemctl --user start docker-desktop</code></p>
<h2 id="enable-docker-desktop-at-login"><a class="header" href="#enable-docker-desktop-at-login">Enable Docker Desktop at login</a></h2>
<p><code>systemctl --user enable docker-desktop</code></p>
<h2 id="stop-docker-desktop"><a class="header" href="#stop-docker-desktop">Stop Docker desktop</a></h2>
<p><code>systemctl --user stop docker-desktop</code></p>
<h1 id="docker-usage"><a class="header" href="#docker-usage">Docker Usage</a></h1>
<h2 id="running-image--container"><a class="header" href="#running-image--container">Running image == container</a></h2>
<p>You will need a docker image. Docker images are the code and data for containers.</p>
<p>A container is the running image.</p>
<p>OS Analogy</p>
<ul>
<li>Image ~ Program/Code/Data</li>
<li>Container ~ Process</li>
</ul>
<p>Get a docker image</p>
<p>The following will download IMAGE from <a href="https://hub.docker.com/">Docker Hub</a> <a href="https://docs.docker.com/registry/">Registry</a>. The Registry is where Docker Images are stored and distributed. You can set up your own local Registry if needed.</p>
<p><code>docker pull image IMAGE</code></p>
<p>Run the image:</p>
<p><code>docker run [OPTIONS] IMAGE [ARGS...]</code></p>
<p>A docker container will need to</p>
<p><a href="https://docs.docker.com/network/">network</a>:</p>
<ul>
<li>talk, communicate, transfer with other containers and services remotely</li>
</ul>
<p><a href="https://docs.docker.com/storage/">store_data</a>:</p>
<ul>
<li>read/write and persist data to memory</li>
</ul>
<h2 id="networking"><a class="header" href="#networking"><a href="https://docs.docker.com/network/">Networking</a></a></h2>
<p>Our containers need to talk to other containers and services on the internet and our loca networks.</p>
<p>A container will bind to a single network when it starts up. 
Add more network conncections with:</p>
<ul>
<li><code>docker network connect [OPTION] NETWORK CONTAINER</code></li>
</ul>
<h2 id="storing-data"><a class="header" href="#storing-data"><a href="https://docs.docker.com/storage/">Storing data</a></a></h2>
<p>We need our containers to manipulate and store data right? </p>
<p>We mount <a href="https://docs.docker.com/storage/volumes/">volumes</a> on containers.</p>
<p>You can use
volumes - </p>
<ul>
<li>preferred mechanism for persisting data generated and used by Docker containers</li>
<li>docker managed so is portable</li>
<li>types:
<ul>
<li>named - </li>
<li>anonymous - given a unique random name</li>
</ul>
</li>
<li>usage: <code>docker volume create VOLUME</code></li>
<li>TIP If you start a container with a volume that does not exist, it will be made for you</li>
</ul>
<p>bind_mounts </p>
<ul>
<li>a file or directory on the host machine, </li>
<li>is not Docker managed so is more performant, but is not portable because it relies on the specific host OS</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>https://superuser.com/questions/1559357/what-does-xdg-stand-for</p>
<p>using docker client rootless requires setting the socket path using $DOCKER_HOST explicitly</p>
<pre><code>echo $XDG_RUNTIME_DIR &gt;&gt; /run/user/1000
export DOCKER_HOST=unix//$XDG_RUNTIME_DIR/docker.sock

docker context ls
docker contest use rootless

# Current context is now rootless
docker run -d -p 8080:80 nginx
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>Aborting because rootful Docker (/var/run/docker.sock) is running</p>
<p>see: https://stackoverflow.com/questions/71949426/error-aborting-because-rootful-docker-var-run-docker-sock-is-running</p>
<p><code>sudo systemctl disable --now docker.service docker.socket</code></p>
<div style="break-before: page; page-break-before: always;"></div><p>https://registry.terraform.io/providers/kreuzwerker/docker/latest/docs</p>
<p>example usage </p>
<pre><code>terraform {
  required_providers {
    docker = {
      source  = &quot;kreuzwerker/docker&quot;
      version = &quot;3.0.2&quot;
    }
  }
}

provider &quot;docker&quot; {
  host = &quot;unix:///var/run/docker.sock&quot;
}

# Pulls the image
resource &quot;docker_image&quot; &quot;ubuntu&quot; {
  name = &quot;ubuntu:latest&quot;
}

# Create a container
resource &quot;docker_container&quot; &quot;foo&quot; {
  image = docker_image.ubuntu.image_id
  name  = &quot;foo&quot;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="docker-networking"><a class="header" href="#docker-networking">Docker Networking</a></h1>
<p>see: https://docs.docker.com/network/</p>
<p>Containers do not now the network context. Containers only see the network interface(ip_address, gateway, routing_tables, etc).</p>
<p><code>docker run -p [HOST_IP]:[CONTAINER_IP]</code></p>
<pre><code>docker run \
-p 8080:80 # Map host_tcp_port=8080 to container_port=80

-p 8080:80/udp # Map host=8080 -&gt; container_udp_port=80

-p 8080:80/tcp -p 8080:80/udp # host_tcp_port=8080-&gt; container_tcp_port=80
                              # host_udp_port=8080-&gt; container_udp_port=80
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="docker-backup-and-load-image"><a class="header" href="#docker-backup-and-load-image">Docker Backup and LOad image</a></h1>
<p>https://docs.docker.com/engine/reference/commandline/save/#create-a-backup-that-can-then-be-used-with-docker-load
https://docs.docker.com/engine/reference/commandline/load/</p>
<p>save image</p>
<pre><code>$ docker save busybox &gt; busybox.tar
$ ls -sh busybox.tar

$ docker save --output busybox.tar busybox
$ ls -sh busybox.tar

$ docker save -o fedora-all.tar fedora

$ docker save -o fedora-latest.tar fedora:latest

# compress gzip
$ docker save myimage:latest | gzip &gt; myimage_latest.tar.gz

# cherry pick tags
$ docker save -o ubuntu.tar ubuntu:lucid ubuntu:saucy
</code></pre>
<p>load image</p>
<pre><code>docker load &lt; image

docker load --input myimage:latest.tar.gz

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="docker-context"><a class="header" href="#docker-context">Docker Context</a></h1>
<p>define context: the circumstances that form the setting for an event, statement, or idea, and in terms of which it can be fully understood and assessed.</p>
<p>docker contextx make it easy for a single docker_cli to manage multiple docker nodes</p>
<p>each context contains </p>
<ul>
<li>info to endpoints</li>
<li>security info</li>
</ul>
<p>to manage different clusters of odes</p>
<p>usage:</p>
<ul>
<li><code>docker context</code></li>
<li><code>docker context use &lt;context-name&gt;</code></li>
<li><code>docerk context create &lt;context-name&gt;</code></li>
</ul>
<p>Where to find context files?
<code>~/.docker/contexts/</code></p>
<ul>
<li>each context gets it own <code>meta.json</code> in a dedicated sub-directory</li>
<li>NOTE! The default context does not have a <code>meta.json</code> so it cannot be configured manually</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>Docker is a container runtime that uses containerd as an internal runtime</p>
<p>dockerd is the persistent process that manages containers</p>
<p>containerd is a Docker-developed container runtime that manages the lifecycle of a container</p>
<p>by default, dockerd starts containerd automatically</p>
<p>Kubernetes vs Docker</p>
<p>Docker is a container runtime</p>
<p>Kubernetes (k8s) is a platform for running and managing containers from many container runtimes</p>
<ul>
<li>including Docker, containerd, CRI-O, K8s CRI(Container Runtime Interface)</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>Docker pull Rust</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="postgres-on-docker"><a class="header" href="#postgres-on-docker">Postgres on Docker</a></h1>
<p>https://hub.docker.com/_/postgres</p>
<p><code>docker run [OPTIONS] IMAGE [ARG...]</code></p>
<p>start postgres instance</p>
<pre><code class="language-sh"># OPTIONS
# -e --env -&gt; Set environment variables
# -d --detach -&gt; Run container in background and print container ID

docker run \
--name some-postgres \
-e POSTGRES_PASSWORD=pwd
-d postgres
</code></pre>
<pre><code class="language-sh">             [OPTIONS]                       IMAGE    [ARG...]
$ docker run -it --rm --network some-network postgres psql -h some-postgres -U postgres

# docker run
# see: https://docs.docker.com/engine/reference/commandline/run/
# [OPTIONS]
# -it -&gt; --interactive --tty
# -i -&gt; --interactive -&gt; keep STDIN open even if not attached
# -t -&gt; --tty -&gt; allocate a pseudo TTY
# --rm -&gt; automatically remove the container when it exits
# --network -&gt; Connect the container to a network

# IMAGE
# postgres

# [ARG...]
# psql
# see: https://www.postgresql.org/docs/current/app-psql.html
# -h/--host hostname / --host=hostname -&gt; specifies the host name of the machine on which the server is running. If values begins with slash, is is used as the directory for the Unix socket
# -U/--username username -&gt; connect the databases as the `username` instead of default

docker run \
 #[OPTION]
-it \
--rm \
--network  \
# IMAGE
postgres \ 
# [ARG...]
psql -h some-postgres -U postgres

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>Run scripts automatically at set times, also known as task scheduling</p>
<p>Linux:   cron tabs
Windows: task-scheduler</p>
<div style="break-before: page; page-break-before: always;"></div><p>https://crontab.guru/
https://www.hostinger.com/tutorials/cron-job</p>
<pre><code class="language-sh"># list scheduled tasks
crontab -l

# opens cron table
crontab -e

# if system has multiple users
sudo crontab -u username -l

# deletes all scheduled tasks
crontab -r
# crontab -r but asks for permission
crontab -i
</code></pre>
<pre><code>Separator (/). Use this operator to divide a value. For example, if you want to make a script run every twelve hours, write */12 in the Hour field.

---- minute (0-59)
| ---- hour (0-23)
| | ---- day_of_month (1-31)
| | | ---- Month (1-12)
| | | | ---- day_of_week (0-6) Sunday to Saturday
| | | | |
m h D M d
* * * * * command to execute 

*/10 * * * * cmd # run every 10 minutes

*/10 4 * * * At every 10th minute past 4
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><p>fixture (testing)</p>
<p>What is a test fixture?</p>
<p>A test fixture is a valid default state for running tests.</p>
<p>A test fixture is a fixed state of a set of object used as a baseline foor running tests.</p>
<p>A software test fixture sets up the system for testing process by providing initialization code.</p>
<p>https://code-craftsmanship-saturdays.gitbook.io/software-testing-fundamentals/test-fixtures</p>
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><p>Measuring a language by its popularity, in this case star count, stargazers on Github is a good proxy measure for what language you should learn</p>
<p>Lang</p>
<ul>
<li>Rust 85.9k</li>
<li>Zig 26.2k</li>
<li>Nim 15.6k</li>
<li>Odin 4.6k</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="c"><a class="header" href="#c">C#</a></h1>
<p><a href="https://learn.microsoft.com/en-us/dotnet/csharp/"><img src="Programming_Languages/cs/data/cs-logo-00.png" alt="c#-logo" /></a></p>
<p>Microsoft's Object-Oriented programming language.</p>
<div style="break-before: page; page-break-before: always;"></div><pre><code class="language-cs">class Program {
   static void Main() {
      #if DEBUG
      Console.WriteLine(&quot;You are in debug&quot;);
      #endif
      Console.ReadKey();
   }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/tokens/interpolated</p>
<pre><code class="language-c#">var name = &quot;Mark&quot;;
var date = DateTime.Now;

// Composite formatting:
Console.WriteLine(&quot;Hello, {0}! Today is {1}, it's {2:HH:mm} now.&quot;, name, date.DayOfWeek, date);
// String interpolation:
Console.WriteLine($&quot;Hello, {name}! Today is {date.DayOfWeek}, it's {date:HH:mm} now.&quot;);
// Both calls produce the same output that is similar to:
// Hello, Mark! Today is Wednesday, it's 19:40 now.

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>https://stackoverflow.com/questions/64785166/avoid-repeat-type-name-class-in-constructor</p>
<p>Unfortunately no.</p>
<div style="break-before: page; page-break-before: always;"></div><p>https://www.reddit.com/r/csharp/comments/15cx15v/whats_up_with_the_simplified_using_statement/</p>
<p>It's pretty common to want to create something disposable at the start of a method, then dispose of it at the end. This is a shortcut for that.</p>
<div style="break-before: page; page-break-before: always;"></div><pre><code class="language-cs">// The out keyword causes arguments to be pased by reference
// i.e. any operation on the parameter is made on the argument
// it is like `ref` except `ref` requires the variable be initialized before passing
// it is like `in` except `in` does not allow modification

// declared
int value;

// initialized
// init a variable with a value
int val_2 = 1; 

out_arg_example(value);  // value is now 44

Console.WritLine(initialize_in_method)// $ 44

out_arg_example(out int number)
{
    number = 44;
}

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="c-coding-conventions"><a class="header" href="#c-coding-conventions">C# Coding Conventions</a></h2>
<p>camelCase, PascalCase, kebab-case, snake_case</p>
<h4 id="pascalcase-for-public"><a class="header" href="#pascalcase-for-public">PascalCase for public</a></h4>
<p>PascalCase for <code>class</code> <code>records</code> or <code>structs</code></p>
<p><code>AClass</code>, <code>ARecord</code>, <code>AStruct</code></p>
<hr />
<h4 id="iinterface"><a class="header" href="#iinterface">IInterface</a></h4>
<p>prefix <code>I</code> to <code>interface</code>s</p>
<p><code>IAnInterface</code></p>
<p>PascalCase for <code>public</code> members of <code>types</code>, <code>fields</code>, <code>events</code>, <code>methods</code>, local <code>functions</code></p>
<hr />
<h4 id="camelcase-for-method-parameter"><a class="header" href="#camelcase-for-method-parameter">camelCase for method parameter</a></h4>
<pre><code>void someMethod (int someParam1 , int someParam2){} 
</code></pre>
<hr />
<h4 id="_camelcase-for-private"><a class="header" href="#_camelcase-for-private">_camelCase for <code>private</code></a></h4>
<p><code>static</code> field s_iAmStatic</p>
<p><code>thread static</code> t_iAmThreadStatic</p>
<hr />
<h4 id="string-performance"><a class="header" href="#string-performance"><code>string</code> performance</a></h4>
<p><code>string interpolation</code> for short strings</p>
<pre><code class="language-cs">string displayName = $&quot;{nameList[n].LastName, {nameLs[n].FirstName}&quot;;
</code></pre>
<p>use <code>StringBuilder</code> when working with a lot of strings</p>
<pre><code class="language-cs">phrase = &quot;aaaaa&quot;
StringBuilder sb = new();
for (var i=0; i&lt;10000; i++)
  sb.Append(phrase);
</code></pre>
<hr />
<h4 id="implicit-typing--var"><a class="header" href="#implicit-typing--var">Implicit typing / <code>var</code></a></h4>
<ul>
<li>use <code>var</code> when the type is clear</li>
</ul>
<h4 id="int--uint"><a class="header" href="#int--uint"><code>Int</code> &gt; <code>UInt</code></a></h4>
<p>prefer <code>Int</code> for max compatibility</p>
<hr />
<h4 id="arrays"><a class="header" href="#arrays">Arrays[]</a></h4>
<pre><code class="language-cs">string[] vowels = {&quot;a&quot;,&quot;e&quot;,&quot;i&quot;,&quot;o&quot;,&quot;u&quot;};
</code></pre>
<pre><code class="language-cs">var vowels2 = new string[] { &quot;a&quot;, &quot;e&quot;, &quot;i&quot;, &quot;o&quot;, &quot;u&quot; };
</code></pre>
<p>use implicit typing in <code>for</code> loops</p>
<pre><code class="language-cs">for(var i=0; i &lt; 100; i++) {}
</code></pre>
<p>use explicit typing in <code>foreach</code> loops</p>
<pre><code class="language-cs">foreach (char ch in chs){ }
</code></pre>
<hr />
<h4 id="write-using-to-shorten-try-finally"><a class="header" href="#write-using-to-shorten-try-finally">Write <code>using</code> to shorten <code>try-finally</code></a></h4>
<p>if <code>try-finally</code> statement only calls <code>Dispose</code> in <code>finally</code> block, shorten it with using</p>
<pre><code class="language-cs">object o = new Object();
try{

} finally {
  if (o != null){
    ((IDisposable)o).Dispose();
  }
}

using (object o = new Object(){
  //do something
}
</code></pre>
<hr />
<h4 id="and-"><a class="header" href="#and-"><code>&amp;&amp;</code> and <code>||</code></a></h4>
<p>Use <code>&amp;&amp;</code> and <code>||</code> to short-circuit and increase performance by skipping needless comparisons</p>
<hr />
<h4 id="new"><a class="header" href="#new"><code>new</code></a></h4>
<p>these are legal</p>
<pre><code class="language-cs">var instance1 = new AClass();
AClass instance1 = new();
// both above are equivalent to
AClass ac = new AClass();
// use object initializer to simplify object creation
var ac = new AClass { f1 = &quot;field1&quot;, f2=&quot;field2&quot;
f3=&quot;field3&quot; };
</code></pre>
<hr />
<h4 id="call-static-members-by-explicitly-calling-the-class-name-classnamestaticmember"><a class="header" href="#call-static-members-by-explicitly-calling-the-class-name-classnamestaticmember">Call static members by explicitly calling the class name: ClassName.StaticMember</a></h4>
<h4 id="closures--delegate"><a class="header" href="#closures--delegate">Closures / Delegate</a></h4>
<div class="table-wrapper"><table><thead><tr><th>term</th><th>def</th></tr></thead><tbody>
<tr><td><code>closure</code></td><td>- concept</td></tr>
<tr><td><code>delegate</code></td><td>- <code>C#</code>'s implementation of <code>closures</code></td></tr>
</tbody></table>
</div>
<p>Use <code>Func&lt;&gt;</code> and <code>Action&lt;&gt;</code> innstead of defining delegate types. In a class, define the delegate method.</p>
<p>func vs action: The difference between Func and Action is simply whether you want the delegate to return a value (use Func ) or not (use Action ). <a href="https://stackoverflow.com/questions/4317479/func-vs-action-vs-predicate">see</a></p>
<pre><code class="language-cs">Action&lt;string&gt; ActionExample1 = (x) =&gt; { };
ActionExample1();

Action&lt;string, string&gt; ActionExample2 = (x, y) =&gt;
    Console.WriteLine($&quot;x is: {x}, y is {y}&quot;);
ActionExample2();

Func&lt;string, int&gt; FuncExample1 = x =&gt; Convert.ToInt32(x);
Console.WriteLine($&quot;The value is {FuncExample1(&quot;1&quot;)}&quot;);

Func&lt;int, int, int&gt; FuncExample2 = (x, y) =&gt; x + y;
Console.WriteLine($&quot;The sum is {FuncExample2(1, 2)}&quot;);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>Here's what you need to know about using <code>const</code>, <code>static</code>, and <code>readonly</code>:</p>
<p>If you know the value will never, ever, ever change for any reason, use <code>const</code>.</p>
<p>If you're unsure of whether or not the value will change, but you don't want other classes or code to be able to change it, use <code>readonly</code>.</p>
<p>If you need a field to be a property of a type, and not a property of an instance of that type, use <code>static</code>.</p>
<p>A <code>const</code> value is also implicitly <code>static</code>.</p>
<p>https://exceptionnotfound.net/const-vs-static-vs-readonly-in-c-sharp-applications/</p>
<div style="break-before: page; page-break-before: always;"></div><p>xmlns = xml namespace</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="c-1"><a class="header" href="#c-1">C</a></h1>
<p><a href="https://en.wikipedia.org/wiki/C_(programming_language)"><img src="Programming_Languages/c/data/c-logo-00.png" alt="c-logo" /></a></p>
<p>C is for classic.
Back to the basics</p>
<p>Collection of C notes and example source code.</p>
<p>Requirements:</p>
<ul>
<li>C compiler</li>
</ul>
<p>Code has been tested on Linux, specifically PopOS 22.04 with gcc version: <code>gcc (Ubuntu 11.3.0-1ubuntu1~22.04.1) 11.3.0</code></p>
<p>Table of Contents</p>
<ul>
<li><a href="Programming_Languages/c/"></a></li>
<li><a href="Programming_Languages/c/c_basics.html">Basics</a></li>
<li><a href="Programming_Languages/c/c_compilation.html">Compilation</a></li>
<li><a href="Programming_Languages/c/c_ptr.html">Pointers</a></li>
<li><a href="Programming_Languages/c/c_strings.html">C-Strings</a></li>
<li><a href="Programming_Languages/c/c_dynamic_allocation.html">Dynamic Memory Allocation</a></li>
<li><a href="Programming_Languages/c/c_linked_list.html">Linked Lists</a></li>
<li><a href="Programming_Languages/c/c_misc.html">Misc</a></li>
</ul>
<p>Example source files located in <code>src</code>.</p>
<p>Compile</p>
<p>On linux you can use GCC:</p>
<ul>
<li><code>gcc -o &lt;target file&gt; &lt;input.c&gt;</code></li>
</ul>
<p>You can also use zig as a drop-in C/C++ compiler</p>
<ul>
<li><code>zig cc -o &lt;target file&gt; &lt;input.c&gt;</code>s</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="c-basics"><a class="header" href="#c-basics">C Basics</a></h1>
<h2 id="header-files"><a class="header" href="#header-files">Header Files</a></h2>
<p>Why does c need header files(<code>.h</code>)?</p>
<p>Header files makes your life easier.</p>
<p>https://gcc.gnu.org/onlinedocs/cpp/Header-Files.html</p>
<p>Header files eliminate code redundancy (DRY).
With a header file, the related declarations appear in only one place.</p>
<p>'Including a header file produces the same results as copying the header file into each source file that needs it.'</p>
<h2 id="compile"><a class="header" href="#compile">Compile</a></h2>
<p>C programs need to be built/compiled before they are used like you need to build a house before you can live in it, or build a car before you can drive it. Fortunately, building a computer program, in C at least, takes from seconds-minutes(for small projects e.g. your barebones http server or console app) to hours (for large projects e.g. building the Linux Kernel).</p>
<p><img src="Programming_Languages/c/image/c_compilation_system.png" alt="c_compilation_system" /></p>
<p>Preprocessing</p>
<pre><code class="language-c">// Preprocess
// directives (#&lt;directive&gt;) are commands for the preprocessor
// NOTE: there are no semicolons after a directive
</code></pre>
<p><code>include</code> header</p>
<pre><code class="language-c">// The #include directive tells the preprocessor to open a specified file and
// copy the header file into each source file that needs it
</code></pre>
<p>// The <code>include</code> directive has two forms:</p>
<pre><code class="language-c">#include &lt;filename&gt; // for C's own std library
// For example, the compiler will look inside `usr/include`

#include &quot;path/to/filename&quot; // for our own headers
// The compiler looks in the current directory
// Then the default system header locations

</code></pre>
<pre><code>The places that will be searched for can be altered with `-I path`.
It is best not to put absolute paths in the #include directives
For max portability use relative paths
</code></pre>
<pre><code class="language-c">// stdio.h is a header file
// it defines variable types, macros, and functions for input/output
#include &lt;stdio.h&gt;
</code></pre>
<p>Compile: This program will become machine instructions (object code)
Object files have .o extension in UNIX in .obj in Windows</p>
<p>Link: The object code will be linked together into a executable</p>
<p><code>gcc</code> is one of the most popular C compilers and is supplied with Linux</p>
<p>Fun fact: For a cross-platform solution, you can use the <a href="https://ziglang.org/">Zig</a> compiler as a drop in replacement:</p>
<p><code>zig cc -o my_code my_code.c</code></p>
<p>https://stackoverflow.com/questions/3375697/what-are-the-useful-gcc-flags-for-c</p>
<p><strong>naming conventions</strong></p>
<ul>
<li>see: https://stackoverflow.com/questions/1722112/what-are-the-most-common-naming-conventions-in-c</li>
</ul>
<h1 id="language-features"><a class="header" href="#language-features">Language Features</a></h1>
<h2 id="comments"><a class="header" href="#comments">Comments</a></h2>
<p>Use them</p>
<pre><code class="language-c">// This is a single line comment

/*
    This is a multi-line comment
*/
</code></pre>
<h2 id="structs-vs-typedef"><a class="header" href="#structs-vs-typedef">Structs vs Typedef</a></h2>
<p>Structs When we need to store a collection of data items: use structs</p>
<p>struct variables</p>
<pre><code class="language-c">struct {
    int   id;
    char *name;
} struct_var1, struct_var2;
</code></pre>
<p>struct tags</p>
<pre><code class="language-c">struct struct_1 {
    int   id;
    char *name;
}; // &lt;-- note the semicolon

// initialization
struct struct_1 s1 = { 1, &quot;struct with tag&quot; };
</code></pre>
<p>typedef</p>
<ul>
<li>Note: use <code>struct tags</code> for linked lists, not typedef</li>
</ul>
<pre><code class="language-c">typedef struct {
    int  id;
    char *name;
} struct_t;

struct_t s_t1 = {1, &quot;struct as type&quot; };
</code></pre>
<p>Array of Structures</p>
<pre><code class="language-c">struct dialing_code {
    char *country;
    int code;
};

const struct dialing_code country_codes[] = 
{
    {&quot;Argentina&quot;, 54}, {&quot;Bangladesh&quot;, 880},
    {&quot;Brazil&quot;, 55}, {&quot;Myanmar&quot;, 95},
    ...
    {&quot;US&quot;, 1}, {&quot;Vietnam&quot;, 84}
};
</code></pre>
<h1 id="unions"><a class="header" href="#unions">Unions</a></h1>
<p>unions consist of a group of members</p>
<p>the compile only allocates the enough space for the largest member in that group, because only one type of that set can be used</p>
<pre><code class="language-c">union {
    int    i;
    double d;
} u;

struct {
    int    i;
    double d;
} s;

Memory difference

* members of s are stored at different addresses
* members of u are stored at the same addresses
* this means that unions take up less memory BUT they can only store one of the members at a time

Assume that: 
- int    takes 2 bytes
- double takes 4 bytes

Structure     Union
i []          i[]d
i []          i[]d
d []           []d          
d []           []d
d []
d []

</code></pre>
<h2 id="enums"><a class="header" href="#enums">Enums</a></h2>
<p>enums are enumerations which means countable</p>
<p>in the context of programming enumerated means: a discret set of meaningful values</p>
<p>E.g. </p>
<ul>
<li>Boolean = {T, F}</li>
<li>Color = {r,g,b}</li>
<li>Representing the suits of a card = {Hearts, Spade, Club, Diamon}</li>
<li>States of a Finite State Machine = {Go, Slow, Stop}</li>
</ul>
<p>Implementation in C:</p>
<p>You can use macros (not recommended b/c verbosity, but possible)</p>
<pre><code class="language-c">#define SUIT     int
#define CLUBS    0
#define DIAMONDS 1
#define HEARTS   2
#define SPADES   3

SUIT s;
s = HEARTS
</code></pre>
<p>Or you can use <code>enumerated type</code>:</p>
<pre><code class="language-c">// enum variable
enum {CLUBS, DIAMONDS, HEARTS, SPADES} s1,s2;

// enum type
enum suit {CLUBS, DIAMONDS, HEARTS, SPADES};
suit s1,s2;
</code></pre>
<p>Bool is just an enum with two values</p>
<pre><code>typedef enum {TRUE, FALSE} Bool;
</code></pre>
<p><strong>You can assign your own constants</strong></p>
<p>By default the compiler assigns the first enum as 0 then counts upward, i.e. {0,1,2,...} so:</p>
<pre><code class="language-c">===
enum suit {CLUBS, DIAMONDS, HEARTS, SPADES};
suit s1,s2;
===

is the same as

===
enum suit {CLUBS=0, DIAMONDS=1, HEARTS=2, SPADES=3};
suit s1,s2;
===

but this is legal too

===
enum suit {CLUBS=1000, DIAMONDS=99, HEARTS=23, SPADES=321};
suit s1,s2;
===

you can assign your enum any constant you wish

</code></pre>
<p>WARNING: Although in C, enums are just thinly disguised integers, treating them as just integers defeats their purpose. Treat enum members as a discrete type.</p>
<p>E.g.</p>
<p>Using enums for error codes</p>
<pre><code class="language-c">
=== NO ENUMS

fn do_something(){
    printf(&quot;I did something&quot;);
    return 0;
}

fn got_error() {
    printf&quot;I erred&quot;);
    return 1;
}

=== YES ENUMS

enum err {NO_ERROR=0, AN_ERROR=1};

fn do_something_e() { 
    printf(&quot;I did something&quot;);
    return NO_ERROR;
}

fn got_error_e() {
    printf&quot;I erred&quot;);
    return AN_ERROR;
}

See how these functions are mechanically the same, but to the programmer one set is more descriptive.
</code></pre>
<h2 id="functions"><a class="header" href="#functions">Functions</a></h2>
<p>Unlike languages like Javascript, Java, C#, where functions can be declared anywhere in the source (JS has hoisting and Java, C# don't require header files) function order does matter in C. C needs to functions to be declared at the top or in header files (<code>.h</code>) before they can be used.</p>
<pre><code class="language-c">// # Function Prototypes
// This is a prototype
// You need to declare a function prototype in the header
void read_an_int();

void initialization_example() {
    // We can give a variable an intial value when it is declared
    // The value 8 is said to be an initializer
    int init1=8;
}

// Run: gcc a.c -o a
// Run: ./a
int main(void) {
    printf(&quot;Hello world! I C you.\n&quot;);
    read_an_int();
    return 0;
}


// WARN: If the function prototype was not declared on top, this function will cause an implicit declaration error
void read_an_int() {
    // declare i
    int i; 
    
    // the d is called a format specifier
    // C: https://en.wikipedia.org/wiki/C_data_types
    scanf(&quot;%d&quot;, &amp;i); // read an integer store into i
    printf(&quot;You entered: %d\n&quot;, i);
}
</code></pre>
<p>See: <a href="Programming_Languages/c/src/basic.c">basic C source example</a></p>
<h2 id="type-aliasing"><a class="header" href="#type-aliasing">type aliasing</a></h2>
<ul>
<li>redefine name of already existing data type</li>
<li>i.e. type alias</li>
<li><code>typdef unsigned char byte_t</code></li>
</ul>
<h2 id="arrow-operator"><a class="header" href="#arrow-operator">arrow operator</a></h2>
<p><code>foo-&gt;bar</code> is equivalent to <code>(*foo).bar</code>, i.e. it gets the <em>member</em> called <code>bar</code> from the <em>struct</em> that <code>foo</code> points to.</p>
<p>see: https://stackoverflow.com/questions/2575048/arrow-operator-usage-in-c</p>
<p><strong>indirection with pointers example</strong></p>
<pre><code class="language-c">#include &lt;stdio.h&gt;  
int main()  {  
    // Create an int binding/container and attach/store it with value 1
    int x=1;
    
    // Create ptr to int, pointers have types too
    int *ptr;
    
    // Store the address of x into ptr, NOTE: we're storing the address which is distinct from the value
    // think of this as creating a link to endpoint x with the entry `ptr`
    ptr=&amp;x;
    
    // Dereference the address to get to the value value, i.e *(address) -&gt; value
    *ptr=8;
    printf(&quot;value of x is : %d&quot;, x);  
    return 0;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="c-memory-management"><a class="header" href="#c-memory-management">C Memory Management</a></h1>
<p>Higher level languages like Python, Java, C#, Javascript hide memory management from us. It makes our programming lives easier, but it comes with a steep price. That price is primarily of performance and binary sizes.</p>
<p>Compiled languages that don't use garbage collectors are usually faster because they run less code, and because they use less memory.</p>
<p>Most of the time, languages like Python and Java are fast enough for most applications.</p>
<p>When you have to write instructions for Operating Systems which require explicit memory management or embedded systems which are computationally and memory constrained you'll have to bust out the more performant system languages: C, C++ , Rust, Assembly (not actually a language). These take more effort to design and write.</p>
<p>Why is C/C++ code considered unsafe?</p>
<ul>
<li>C is “unsafe” in the sense that it allows you to do things that make your program crash and won't do any implicit sanity or consistency checks.</li>
<li>In C, neither compile-time nor run-time checks prevent a variable of one type being changed to, or interpreted as, another type; thus, there are no guarantees on the kinds of data that a given variable might hold, the allowed set of values, their representation, or the operations that may be carried out on the data.</li>
</ul>
<p>see:</p>
<ul>
<li>https://www.reddit.com/r/cpp/comments/jzo1yz/c_is_unsafe/</li>
<li>https://www.reddit.com/r/cpp_questions/comments/dph2py/does_cs_potential_for_unsafe_code_make_life_more/</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="c-miscellania"><a class="header" href="#c-miscellania">C Miscellania</a></h1>
<p>Put uncategorized info here. Sort them when you can.</p>
<h5 id="top"><a class="header" href="#top">top</a></h5>
<p>Table of Contents</p>
<ul>
<li><a href="Programming_Languages/c/c_misc.html#global-variables-in-resource-constrained-environments">globals in resource constrained environments</a></li>
</ul>
<p><a href="Programming_Languages/c/c_misc.html#top">top</a></p>
<h2 id="global-variables-in-resource-constrained-environments"><a class="header" href="#global-variables-in-resource-constrained-environments">global variables in resource constrained environments</a></h2>
<p><code>Global variables: just don't use global variables. They are evil.</code> - unless you are working on embedded project and you have 1024 bytes of RAM and 8MHz CPU.</p>
<p>Yes @Kamil, that can be painful. But even in that case, it is a good practice to create a static global struct variable with all the global context, create a pointer as local variable in the main function and pass that pointer only to the functions that need to access the global data. </p>
<p>see: https://stackoverflow.com/questions/1722112/what-are-the-most-common-naming-conventions-in-c</p>
<p><a href="Programming_Languages/c/c_misc.html#top">top</a></p>
<p><a href="https://gist.github.com/cellularmitosis/9db34df37d3df91709ad3e4faf93c417">implement hash table</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="linked-lists"><a class="header" href="#linked-lists">Linked Lists</a></h2>
<p>First see: <a href="Programming_Languages/c/c_dynamic_allocation.html">dynamic allocation</a></p>
<p>Dynamic storage allocation is useful for building lists, trees, graphs and other linked data structures.</p>
<p>The most basic linked data structure: a linked list.</p>
<p>Fun fact: Although C programmers love linked lists, Rust programmers are not so enthusiastic (follow the link to learn even more about linked lists and Rust): <a href="https://rust-unofficial.github.io/too-many-lists/">Learning Rust With Entirely Too Many Linked Lists</a></p>
<pre><code>[ ][*]--&gt;[ ][*]--&gt;[ ][/]
The last node in the list has a null pointer
</code></pre>
<p>Linked lists are more flexible than arrays:</p>
<ul>
<li>can more easily insert, delete nodes in a linked list, allowing it to grow or shrink</li>
<li>BUT: you lose random access, you must traverse the list to see it all, <a href="Programming_Languages/c/c_linked_list.html#miekagure">analogy</a></li>
<li>any element in an array can be accessed in the same amount of time, so O(1) by moving the pointer</li>
<li>moving a pointer = changing pointer value in memory (CPU register)</li>
<li>accessing a node is fast if node is close to beginning, BUT: slow if node is close to n, average search time = O(n/2)</li>
</ul>
<p>Declare (simple) Node type</p>
<pre><code class="language-c">struct node {
  int value;
  struct node *next;
};
</code></pre>
<p>Now we need a way to keep track of where the list begins:</p>
<pre><code class="language-c">struct node *first = NULL;
</code></pre>
<p>How to create a node:</p>
<ol>
<li>Allocate memory for the node</li>
<li>Store data in the node</li>
<li>Insert node into the list</li>
</ol>
<p>code:</p>
<pre><code class="language-c">struct node *new_node;

new_node = malloc(sizeof(struct node));
</code></pre>
<p>memory:</p>
<pre><code>new_node [*] --&gt; [     ][    ]
                  value  next
</code></pre>
<p>code:</p>
<pre><code class="language-c">(*new_node).value = 10; // notice that we applied indirection operator(*) to new_node
                        // the parentheses around around *new_node are mandatory  because the
                        // . operator would otherwise take precedence
</code></pre>
<p>memory:</p>
<pre><code>new_node [*] --&gt; [  10 ][    ]
                  value  next
</code></pre>
<p>Shorcut:
Use <code>-&gt;</code> (right arrow selection) operator if you don't want deref(*) and dot(.)</p>
<div class="table-wrapper"><table><thead><tr><th>traditional</th><th><code>-&gt;</code></th></tr></thead><tbody>
<tr><td><code>(*new_node).value = 10</code></td><td><code>new_node-&gt;value = 10;</code></td></tr>
</tbody></table>
</div>
<p>Read into your linked list :</p>
<p><code>scanf(&quot;%d&quot;, &amp;new_node-&gt;value);</code></p>
<p>Notice that <code>&amp;new_node-&gt; value === &amp;(*new_node).value</code>. We do this because we're trying to pass the pointer to value not value itself.</p>
<p>Let's use linked lists to ability to insert anywhere to our advantage which is something arrays can't do.</p>
<p>new_node-&gt;next = first;</p>
<p>first = new_node;</p>
<p>Let's trace the process of inserting two nodes into an empty list. Null pointers are represented as diagonal lines (/)</p>
<pre><code class="language-c">struct node {
  int value;
  struct node *next;
};
</code></pre>
<pre><code>
[/]      null pointer
[*] ---&gt; pointer

first = NULL;                           first    [/] &lt;-- null pointer
                                        new_node [ ]

new_node = malloc(sizeof(struct node)); first    [/]
                                        new_node [*] --&gt; [ ][ ]

new_node-&gt;value = 10                    first    [/]
                                        new_node [*] --&gt; [10][ ]

new_node-&gt;next = first;                 first    [/]
                                        new_node [*] --&gt; [10][/]

first = new_node;
                                        first[*]
                                                \
                                                 v
                                                [10][*]
                                                 ^
                                                /
                                        new_node

new_node = malloc(sizeof(struct node)); first[*] ---&gt; [10][/]
                                        
                                        new_node[*] ---&gt; [ ][ ]

new_node-&gt;value = 20;                   first[*] ---&gt; [10][/]
                                        
                                        new_node[*] ---&gt; [20][/]

new_node-&gt;next = first;                 first[*] --------------
                                                               \
                                                              [10][/]
                                                               /
                                        new_node[*]--&gt;[20][*]--


first = new_node;                       first[*]
                                                \
                                                 v
                                                [20][*]---&gt;[10][*]
                                                 ^
                                                /
                                        new_node
</code></pre>
<p>Inserting a node is such a common operation we should turn it into a function:</p>
<pre><code>struct node* add_to_list(struct node *list, int n) {
  struct node *new_node;

  new_node = malloc(sizeof(struct node));
  if (new_node == NULL) {
    printf(&quot;[Error]: malloc failed in add_to_list\n&quot;);
    exit(EXIT_FAILURE);
  }

  new_node-&gt;value = n;
  new_node-&gt;next = list;
  return new_node;
}
</code></pre>
<pre><code>struct node* read_numbers(void){
  struct node *first = NULL:
  int n;

  printf(&quot;Enter a series of integers ( 0 to terminate ): *);
  for (;;) {
    scanf(&quot;%d&quot;, &amp;n);
    if (n==0) {
      return first;
    }
    first = add_to_list(first,n);
  }
}
</code></pre>
<h2 id="searching-a-linked-list"><a class="header" href="#searching-a-linked-list">Searching a Linked List</a></h2>
<p>idiom <code>for (p=first; p != null; p = p-&gt;next)</code></p>
<p>The assignment p = p-&gt;next advances the <code>p</code> pointer from one node to the next.</p>
<h2 id="deleting-a-node-from-a-linked-list"><a class="header" href="#deleting-a-node-from-a-linked-list">Deleting a Node from a Linked List</a></h2>
<ol>
<li>Search for the node to be deleted</li>
<li>Alter the previous node so it &quot;bypasses&quot; the deleted node</li>
<li>Call <code>free</code> to reclaim space occupied by the deleted node</li>
</ol>
<p>Step 1 is harder than it looks bc if we search the list in obvious way we end up with pointer to node to be deleted. We won't have data to change the previous node.</p>
<p>There are various solution. One we can used is the &quot;trailing pointer&quot;.</p>
<ul>
<li>Keep a pointer to previous node (prev)</li>
<li>Keep a pointer to current node (cur)</li>
</ul>
<p>If <code>list</code> points to the list to be searched, and <code>n</code> is the integer to be deleted. The following loop implements step 1</p>
<pre><code class="language-c">for (cur = list; prev=NULL; cur != NULL &amp;&amp; cur-&gt;value != n; prev=cur, cur=cur-&gt;next)
</code></pre>
<p>Let's break it down:</p>
<pre><code>cur != NULL &amp;&amp; cur-&gt;value != n; prev=cur,cur=cur-&gt;next

NOTICE: cur-&gt; value, points to a value
        cur-&gt; next,  points to a pointer

idiom: -&gt; to a value gets us that value
       -&gt; to a pointer gets us to another location in memory

if there is a value at `cur` and its not n, move to the next node (set previous to current then push current to next)

prev, cur, next
 ^     ^    ^
prev  cur   |  1
      prev cur 2
</code></pre>
<p>This is how to perform the bypass.
code:
<code>prev-&gt;next = cur-&gt;next</code>, this makes the pointer in the previous node point to the node <em>after</em> the current node</p>
<pre><code>                    prev       cur
                     [*]       [*]
                      |         |
                      v         v
list [*]--&gt;[30][*]--&gt;[40][*]  [20][*]--&gt; ([10][/])
                          \                ^
                           \______________/
</code></pre>
<p>Now we can release memory occupied by the current node:
<code>free(cur)</code></p>
<p>Let's put it all together in <code>delete_from_list</code>:</p>
<pre><code>struct node* delete_from_list(struct node *list, int n){
  struct node *cur, *prev;

  for (cur = list, prev = NULL;
    cur != NULL &amp;&amp; cur-&gt;value != n;
    prev = cur, cur = cur-&gt;next)
  ;

  if (cur == NULL)
    return list;             // n not found
  if (prev == NULL)
    list = list-&gt;next;
  else
    prev-&gt;next = cur-&gt; next; // do bypass
  free(cur)
  return list;
}
</code></pre>
<p>Appendix:</p>
<h5 id="miegakure"><a class="header" href="#miegakure"><em>miegakure</em></a></h5>
<pre><code>Okay, time for our vacation to Japan. First stop is a Japanese garden. See it in your head. 

The green bushes, the babbling brook, the little bridge ahead of you. Can you see all of it?

No, you can’t. 
That’s not a fault of your imagination, that’s by design. 
Japanese gardens are fashioned using a principle called miegakure. That translates as “hide and reveal.” The path is structured so there’s no single point from which you can see the entire garden. 
You have to keep walking to reveal new stuff. 
You can hear the water running but you can’t see it until you turn the corner. You smell the flowers but they’re not visible until you get past the trees.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>https://www.cs.yale.edu/homes/aspnes/pinewiki/C(2f)Debugging.html</p>
<p>install gfb on debian: <code>sudo apt install gdb</code></p>
<p>gdb commands</p>
<pre><code>help
    Get a description of gdb's commands. 
run
    Runs your program. You can give it arguments that get passed in to your program just as if you had typed them to the shell. Also used to restart your program from the beginning if it is already running.

quit
    Leave gdb, killing your program if necessary.

break
    Set a breakpoint, which is a place where gdb will automatically stop your program. Some examples:

        break somefunction stops before executing the first line somefunction.

        break 117 stops before executing line number 117. 

list
    Show part of your source file with line numbers (handy for figuring out where to put breakpoints). Examples:

        list somefunc lists all lines of somefunc.

        list 117-123 lists lines 117 through 123. 

next
    Execute the next line of the program, including completing any procedure calls in that line. 

step
    Execute the next step of the program, which is either the next line if it contains no procedure calls, or the entry into the called procedure. 
    
finish
    Continue until you get out of the current procedure (or hit a breakpoint). Useful for getting out of something you stepped into that you didn't want to step into. 
    
cont

    (Or continue). Continue until (a) the end of the program, (b) a fatal error like a Segmentation Fault or Bus Error, or (c) a breakpoint. If you give it a numeric argument (e.g., cont 1000) it will skip over that many breakpoints before stopping. 
print

    Print the value of some expression, e.g. print i. 
display

    Like print, but runs automatically every time the program stops. Useful for watching values that change often.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>C Compilation</p>
<h2 id="compilation-steps"><a class="header" href="#compilation-steps">Compilation Steps</a></h2>
<p>Compiling a C program comes in multiple steps.</p>
<p>Preprocess </p>
<ul>
<li>the program is given to the preprocessors which obey commands that begin with <code>#</code> called <code>directives</code></li>
<li>a preprocessor acts like an editor, it can modify the program before going to the next step</li>
</ul>
<p><code>main.c</code></p>
<pre><code>#include &lt;stdio.h&gt; // &lt;-- These are the directives

void main(){

}
</code></pre>
<p>Compile</p>
<ul>
<li>the modified program is given to the <code>compiler</code> which translate it into machine instructions(<code>object code</code>)</li>
<li>object code files end with <code>.o</code> on Linux and <code>.obj</code> on Windows</li>
</ul>
<pre><code>program.c program2.c --&gt; [compiler] --&gt; program.o program2.

[c,c,c,c,c]
     |
     V
[Compiler] 
     |
     V
[o,o,o,o,o]
</code></pre>
<p>Link</p>
<ul>
<li>In the final step, the <code>linker</code> combines the compiler's <code>object code</code> and additional code needed to make a complete executable program.</li>
<li>This additional code can include library functions like <code>printf</code></li>
</ul>
<p>Link object files visual</p>
<pre><code>o   = object(.o) files
exe = executable file 

[o,o,o,o,o,o,o,o,o] &lt;-- list of object files
     |
     v
 [Linker]
     |
     v
  o--o--o
  |  |  |
  o--o--o 
  |  |  |
  o--o--o
     |
     V
   [exe] &lt;-- this is the binary/ machine code that the CPU '(exe)cutes'
</code></pre>
<p>Big picture</p>
<pre><code>C Compilation

[c,c,c,c,c] &lt;-- c files you wrote, and libraries you #included
     |
     V
[Compiler] 
     |
     V
[o,o,o,o,o,o] &lt;-- list of object files
     |
     v
 [Linker]
     |
     v
  o--o--o
  |  |  |
  o--o--o 
     |
     V
   [exe] &lt;-- this is the binary/ machine code that the CPU '(exe)cutes'
</code></pre>
<p>What are <code>.o</code>, <code>.a</code>, <code>.so</code> files.</p>
<ul>
<li>https://stackoverflow.com/questions/7718299/whats-an-object-file-in-c</li>
<li>https://stackoverflow.com/questions/9809213/what-are-a-and-so-files</li>
</ul>
<p><code>.o</code>, object file = result of the compilation step</p>
<p><code>.a</code>, archive file = statically linked libraries</p>
<p><code>.so</code>, shared object file = dynamically linked libraries, they are linked during runtime, after the creation of <code>.o</code> files, so if there are any changes in <code>.so</code> no recompile is needed.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="c-dynamic-memory-allocation"><a class="header" href="#c-dynamic-memory-allocation">C Dynamic Memory Allocation</a></h1>
<h2 id="dynamically-allocate-strings"><a class="header" href="#dynamically-allocate-strings">Dynamically allocate strings</a></h2>
<p>It is sometimes impossible to to anticipate how long an array of chars(strings) can be. We can allocate strings dynamically and determine how long a string needs to be at runtime.</p>
<p><strong>Using malloc to allocate memory for string</strong></p>
<p><code>malloc</code> prototype:</p>
<p><code>void* malloc(size_t size);</code></p>
<p><code>malloc</code> allocates block of <code>size</code> bytes and returns a <a href="https://stackoverflow.com/questions/11626786/what-does-void-mean-and-how-to-use-it">generic pointer(void *)</a> to it.</p>
<p><strong>Remember to account for the null char</strong></p>
<pre><code class="language-c">p = malloc(n+1); // this can be used without casting
</code></pre>
<pre><code class="language-c">p = (char *) malloc(n+1); //  but explicit casting to char* could make your code easier to maintain
</code></pre>
<p>Warning: Memory allocated using <code>malloc</code> isn't cleared or initialized, so <code>p</code> will point to an uninitialized array of <code>n+1</code> characters</p>
<pre><code>p[*]
  |
  v
 [ ][ ][ ][ ][...][ ]
  0  1  2  3   4   n
</code></pre>
<p>Calling <code>strcpy</code> is one way to init an array:
<code>strcpy(p, &quot;abc&quot;)</code></p>
<pre><code>p[*]
  |
  v
 [a][b][c][\0][...][ ]
  0  1  2  3   4    n
</code></pre>
<h2 id="dynamically-allocate-arrays"><a class="header" href="#dynamically-allocate-arrays">Dynamically allocate arrays</a></h2>
<pre><code class="language-c">int *a;

a = malloc(n * sizeof(int));

// Now you can treat `a` as an array name even though it technically is a pointer

// Initialize the `a` &quot;array&quot; with initial value 0 (since its an int array)
for (i=0; i&lt;n;  i++){
    a[i] = 0;
}

</code></pre>
<p>WARN: Always use <code>sizeof</code> when calculating how much space is needed for an array.</p>
<h2 id="deallocating-storage-to-avoid-memory-leaks"><a class="header" href="#deallocating-storage-to-avoid-memory-leaks">Deallocating Storage (to avoid memory leaks)</a></h2>
<pre><code>p = malloc(...);
q = malloc(...);

</code></pre>
<p>This is what the memory looks like</p>
<pre><code>p[*] --&gt; [ ]
q[*] --&gt; [ ]
</code></pre>
<pre><code>p = q;
</code></pre>
<pre><code>p[*] [ ]&lt;-- this block of memory is now garbage
   \______ 
          |
          v 
p[*] --&gt; [ ]   
</code></pre>
<p>A block of memory that is no longer accessible is <strong>garbage</strong>.</p>
<p>Unlike Java or C# programs which have automatic <strong><em>garbage collection</em></strong>. C programs,  do not automatically clean garbage for you. That is the programmer's job. This adds maintainence difficulty in return for performance gains.</p>
<p>You have to call the <code>free</code> function to release memory.</p>
<p><code>free</code></p>
<p><code>void free(void *ptr)</code></p>
<pre><code class="language-c">p = malloc(...);
q = malloc(...);
free(p);
p = q;
</code></pre>
<h2 id="dangerous-dangling-pointers"><a class="header" href="#dangerous-dangling-pointers">Dangerous &quot;Dangling Pointers&quot;</a></h2>
<p>Reusing a piece of memory that previously <code>free</code>d is an error.</p>
<pre><code class="language-c">// Bad code
char *p = malloc(4); // allocate memory for a string of len 3
...
free(p); // p's memory has been released into the , p is now a dangling pointer
...
strcpy(p, &quot;abc&quot;); // ** WRONG ** , try to use dangling pointer p, you're trying to use memory that's no longer yours, this is a programming crime so the OS will crash and yell at you
</code></pre>
<h2 id="linked-lists-1"><a class="header" href="#linked-lists-1"><a href="Programming_Languages/c/c_linked_list.html">Linked Lists</a></a></h2>
<p>For example of how dynamic memory allocation is used for data structures</p>
<p>see: <a href="Programming_Languages/c/c_linked_list.html">Linked Lists</a></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="c-oop"><a class="header" href="#c-oop">C OOP</a></h2>
<p>Notes on implementing OOP from scratch in C as an education exercise.</p>
<p>Prereqs:</p>
<ul>
<li>understand pointers: <a href="Programming_Languages/c/c_ptr.html">here</a></li>
</ul>
<p>OOP is taught exceptionally poorly because it glosses over the fact that all its concepts can be implemented from a procedural language like C.</p>
<p>read http://staff.washington.edu/gmobus/Academics/TCES202/Moodle/OO-ProgrammingInC.html</p>
<p>Before you can grasp OOP, you need to know the basics of data structures and (late binding)/(higher order functions).</p>
<p>higher order functions take functions as arguments and return functions.</p>
<ul>
<li><code>fn_1(fn_2,...,fn_n) -&gt; fn_result</code></li>
</ul>
<p>For example it's hard to grok polymorphism which is basically passing around a pointer to data and a bunch of functions that operate on the data.
Or understanding the concept of structuring data instead of just using primitives to and passing around (higher order functions)/(pointers to functions).</p>
<p><code>higher order function == pointer to functions</code></p>
<p>Stack Overflow example:</p>
<p>Here's a way to do OOP in C if you want to avoid C++:</p>
<p>I would amend S. Lott's answer to use an <a href="http://en.wikipedia.org/wiki/Opaque_pointer#C">opaque pointer(wikipedia)</a>, to perform data hiding of the members of the struct:</p>
<ol>
<li>Define your class however you want using normal OO design.</li>
<li>Member variables of your class go into a C language struct.</li>
<li>you do not want to expose the member variables of your object (since these would be &quot;private&quot; in an OO language)
<ul>
<li>In the header file, declare an opaque pointer, i.e. <code>typedef struct mystruct_s *mystruct_t; // first argument to all your methods</code></li>
<li>the  type <code>mystruct_t</code> which is a pointer to the opaque structure <code>mystruct_s</code>, anything you declare as <code>mystruct_t</code> will be an opaque pointer</li>
<li>example definition of <code>mystruct_s</code>:</li>
</ul>
</li>
</ol>
<pre><code class="language-c">
struct mystruct_s {
    uint16_t *data;     // a pointer to the actual data array of uint16_t.
    size_t sz;          // the allocated size of data.
    size_t used;        // number of segments of data in use.
    int sign;           // the sign of the number (-1, 0, 1).
};

// users of the header file canno see this
</code></pre>
<ol start="4">
<li>For all the methods you want to be &quot;public&quot;, put their signatures in your .h file. Method bodies should go into the .c file, and &quot;private&quot; methods should be only defined in the .c file and also declared static so their symbols do not collide with symbols defined in other files.</li>
</ol>
<p>Clever naming conventions like underscores are unnecessary using this method, but it means that all your member variables will be private. Functions can be public or private, although public functions they are part of a global namespace so you might want to qualify their names with a &quot;package&quot; name like mystruct_push(), mystruct_pop(), etc.</p>
<p>You also need to make it clear if the caller or the library is responsible for calling malloc() and free(). Most likely you will have mystruct_t *create() and void destroy(mystruct_t *target) methods.</p>
<p>Notes:</p>
<pre><code>https://www.reddit.com/r/C_Programming/comments/m0ui5i/why_use_c_instead_of_c/

Learn to add function pointer members to structs.

Another similar approach is for an object to have a single pointer to a separate (often constant and statically-allocated) structure of function pointers. That way multiple objects with a common set of methods can share the same set of function pointers.

This mirrors C++'s per-object vtable pointer used for virtual function dispatch.
</code></pre>
<pre><code>I once had a professor describe the development of C++ as &quot;trying to make an octopus by stapling more legs to a dog&quot;
</code></pre>
<p>https://stackoverflow.com/questions/897366/how-do-pointer-to-pointers-work-in-c-and-when-might-you-use-them/897414#897414</p>
<p>function factories are examples of higher order functions</p>
<pre><code>// this is a function called functionFactory which receives parameter n
// and returns a pointer to another function which receives two ints
// and it returns another int
int (*functionFactory(int n))(int, int) {
    printf(&quot;Got parameter %d&quot;, n);
    int (*functionPtr)(int,int) = &amp;addInt;
    return functionPtr;
}```

see:
- http://staff.washington.edu/gmobus/Academics/TCES202/Moodle/OO-ProgrammingInC.
- https://stackoverflow.com/questions/351733/how-would-one-write-object-oriented-code-in-c
- https://softwareengineering.stackexchange.com/questions/16025/why-is-oop-difficult
- https://stackoverflow.com/questions/674722/struggling-with-c-coming-from-object-oriented-land
- opaque pointers - https://stackoverflow.com/questions/7553750/what-is-an-opaque-pointer-in-c
- example heap size java: https://stackoverflow.com/questions/4667483/how-is-the-default-max-java-heap-size-determined</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="c-strings"><a class="header" href="#c-strings">C-strings</a></h1>
<p>Strings in C are complex beasts. Tread with caution.</p>
<h2 id="always-leave-room-for-the-null-character-0"><a class="header" href="#always-leave-room-for-the-null-character-0">Always leave room for the null character '\0'</a></h2>
<p>If we need to store a string of 80 characters.
Create an array of 81 characters to store the null character at the end.</p>
<p>WARN: Failing to leave room for the null character may cause unpredictable behavior. Functions in the C library assume strings are null-terminated.</p>
<pre><code>#define STR_LEN 80
...
char str[STR_LEN+1] 
</code></pre>
<p>NOTE: declearing a char array with length <code>STR_LEN+1</code> doesn't mean it will always contain <code>STR_LEN</code> characters.</p>
<ul>
<li>The length of the string depends on the position of the terminating <code>null character</code>, not on the length of the array.</li>
<li>An array of length <code>STR_LEN+1</code> can hold an <code>empty string</code> or string of length <code>STR_LEN</code></li>
</ul>
<h2 id="character-arrays-s--vs-character-pointers--s-"><a class="header" href="#character-arrays-s--vs-character-pointers--s-">Character Arrays( s[] ) vs Character Pointers ( s* )</a></h2>
<p>&quot;The devil's in the details&quot;. - Satan, probably</p>
<p>Although they can be similar and can usually be used interchangeably in functions, they are not the same.</p>
<p>E.g.</p>
<pre><code>char  date[] = &quot;July 4&quot;;

char* date = &quot;June 14&quot;;
</code></pre>
<p>In the array version the characters can be modified.
In the pointer version <code>date</code> points to a string literal. string literals cannot be modified.</p>
<div class="table-wrapper"><table><thead><tr><th>Character Array (char[])</th><th>Character Pointer ( char* )</th></tr></thead><tbody>
<tr><td>In the array version the characters can be modified.</td><td><code>date</code> points to a string literal; string literals cannot be modified</td></tr>
<tr><td>In the array version <code>date</code> is an array name,</td><td><code>date</code> is a variable that can be made to point to any other <code>char *</code></td></tr>
</tbody></table>
</div>
<pre><code>char *p    // This only sets aside enough memory for a pointer
           // We still need to allocate space for the string

char str[STR_LEN+1];

p = str;
</code></pre>
<p>WARN: The code below will cause undefined behavior.</p>
<pre><code>char *p; 

p[0] = 'a';  // NO! We haven't allocated any space for the string yet!
p[1] = '\0'; // :(
</code></pre>
<h2 id="assigning-strings-to-arrays-isnt-simple"><a class="header" href="#assigning-strings-to-arrays-isnt-simple">Assigning strings to arrays isn't simple</a></h2>
<p>Let's assign some strings.</p>
<p>Here's how it works in Python:</p>
<pre><code>a_var = &quot;a string&quot;
print(a_var)
a_var = &quot;another string&quot;
print(a_var)
</code></pre>
<p>Simple isn't?</p>
<p>Here's how it might work in C</p>
<pre><code>char a_var[] = &quot;a string&quot;;
printf(&quot;%s&quot;, a_var);
a_var = &quot;another string&quot;; // &lt;-- PROBLEM
printf(&quot;%s&quot;, a_var);
</code></pre>
<p>This won't compile. What the heck? What is this BS? WHY?</p>
<p>Initializing an array is legal:</p>
<pre><code>// LHS            RHS
char an_var[] = &quot;a string&quot;;
</code></pre>
<p>Unlike higher-level languages, Copying strings into a character array with <code>=</code> is not possible:
because the array name is a pointer to the first element of the array</p>
<pre><code>// because the array name is a pointer the first element of an array
// here, we're trying to shove a multicharacter string into a single-character slot
// you're going to end up with a bad time
a_var = &quot;another string&quot;; 
</code></pre>
<p>Then how are we supposed to reuse array names if needed?
The standard C library's <code>&lt;string.h&gt;</code> has functions to deal with strings.</p>
<p><code>strcpy</code> copies characters from <code>s2</code> into the array pointed to <code>s1</code></p>
<pre><code>char *strcpy(char *s1, const char *s2)
</code></pre>
<p>Here's how to fix the prior problem</p>
<pre><code>#include &lt;string.h&gt;

// assume this code inside main()

char a_var[] = &quot;a string&quot;;
printf(&quot;%s&quot;, a_var);
strcpy(a_var, &quot;another string&quot;)
printf(&quot;%s&quot;, a_var);
</code></pre>
<h2 id="concatenating-strings"><a class="header" href="#concatenating-strings">Concatenating Strings</a></h2>
<p>Note: When we use <code>strcat()</code>, the size of the destination string should be large enough to store the resultant string. If not, we will get the segmentation fault error.</p>
<h2 id="the-hazard-of-reading-strings"><a class="header" href="#the-hazard-of-reading-strings">The Hazard of Reading Strings</a></h2>
<p>&quot;String input is like a box of chocolates, you'll never what you're going to get.&quot; - Forrest Gump, probably</p>
<p>Reading strings can be problematic because you might get a bigger string than the string variable can store.</p>
<p><a href="https://stackoverflow.com/questions/804288/creating-c-formatted-strings-not-printing-them">create c formatted strings (not printing them)</a></p>
<ul>
<li>More knowledgable folks recommend using <code>asprintf</code>, <code>snprintf</code> whenever possible</li>
</ul>
<p>see:</p>
<ul>
<li>https://stackoverflow.com/questions/398395/why-is-the-asterisk-before-the-variable-name-rather-than-after-the-type</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="c-pointers"><a class="header" href="#c-pointers">C Pointers</a></h1>
<p>What's the point of pointers?</p>
<p>Why use them?</p>
<p>What are they? variables that store memory address </p>
<p>What they do? a whole damn lot</p>
<p>Fun experiment:</p>
<ul>
<li>Avoid using pointers completely and see how far you can get in C. Avoid them until you hit a wall.</li>
</ul>
<p>Pointers, it's that elephant in the memory buffer that is seldom taught well but probably should be.</p>
<p>Ever see some nerd hacking on his computer and seeing crap like this</p>
<pre><code>0xFFFFA9840324  IM_A_DUMB_HACK
0x32489f980082  321083021
0x343249809ab3  210320183
0x97496abcdeff  PASSWORD_SECRET
</code></pre>
<p>The gibberish that begins with <code>0x</code> actually means something. They're memory addresses represented in <a href="https://en.wikipedia.org/wiki/Hexadecimal">hexadecimal</a>.</p>
<p>What does that gibberish have to do with pointers?</p>
<p>References:</p>
<ul>
<li>See: <a href="https://en.wikipedia.org/wiki/Pointer_(computer_programming)">wikipedia</a></li>
<li>Watch: https://www.youtube.com/watch?v=fpnE6UAfbtU</li>
</ul>
<p>We have to answer some questions to understand why pointers are important.</p>
<p>Why are pointers so important?</p>
<ul>
<li>Understanding them is fundamental for any programmer who actually cares about how their programs function</li>
<li>Pointers can improve performance.</li>
<li>Pointers allow OOP to be implemented</li>
</ul>
<p>What would programming be like without pointers?</p>
<p>Error-prone. Imagine trying to find a needle in a haystack 1000 times a day, every day for the rest of your career. If that thought doesn't make you want to shoot yourself in the face, then nothing will.</p>
<p>How are pointers implemented in hardware?</p>
<p>We need to visualize what pointers represent at the machine level.</p>
<p>In modern computers, main memory is divided into bytes. 1 byte = 1 bit, 1 bit = enum(0|1)</p>
<pre><code>[0] &lt;-- 1 bit

[0][1][0][1][0][1][0][1] &lt;-- 8 bits = 1 byte
or
[01010101]
</code></pre>
<p>Each byte has a unique <em><strong>address</strong></em> to distinguish it from other bytes in memory.</p>
<p>Define <strong>address</strong>: the specific place where a person, business, or organization can be found and where mail can be received, therefore a memory address is a particular location where some bytes can be found</p>
<p>A computer proram consists of code(machine instructions) and data(variables).</p>
<pre><code>Address  Contents
   0     [00110101]
   1     [00000000]
   2     [11110000]
   3     [11100101]
             .
             .
             .
  n-1    [01010100]
</code></pre>
<pre><code>variables occupy one or more **bytes** of memory.

             .
             .
             .
  2000   [        ]  \
  2001   [        ]   ----&gt; i               i (variable) occupies the bytes at address 2000-2002
  2002   [        ]  /                      i's address is 2000
             .
             .
             .
</code></pre>
<p>What does pointing have to do with addressing?</p>
<ul>
<li><em>Pointers store addresses</em></li>
</ul>
<p>If we store the address of variable <code>i</code> in the pointer variable <code>p</code>, we say <code>p</code> &quot;points to&quot; <code>i</code></p>
<p>What do pointers have to do with memory?</p>
<ul>
<li><em>Pointers store memory locations</em></li>
</ul>
<p>What are pointers?
Variables that store memory locations.</p>
<p>A pointer can therefore be thought of as an address.</p>
<p>Addresses are represented by numbers, integers</p>
<p>So what can a pointer be thought as? How can we model pointers?</p>
<p>As arrows (--&gt;)! Arrows point. For an arrow to have some significance, it has to point to something. In programming these pointers usually point to a (location in memory)/ (memory address).</p>
<p>To computers pointers are basically addresses, just a bunch of numbers in memory that point to location in memory that allow you to find some bytes. We come up with the arrow as an abstraction to make the addressing easier to understand.</p>
<p>To monkeys like us, the arrow points. Computers only understand numbers and bits in memory</p>
<p>Model:</p>
<pre><code>Computer visual
0 [10101110]

Monkey Visual
You show the content of `p`(the pointer variable) as an arrow directed towards `i`:

p [*]---&gt; [   ]i  
</code></pre>
<p>What is a pointer again?
A variable that points/leads to something.</p>
<p>If pointers are just memory addresses which are themselves represented as numbers, pointers have to be stored somewhere too right? Yes. They're variables with special and important semantics.
https://superuser.com/questions/1480913/how-are-memory-location-addresses-actually-stored-in-the-cpu</p>
<h2 id="pointer-syntax"><a class="header" href="#pointer-syntax">Pointer syntax</a></h2>
<p>&quot;To point or not to point, that is the question.&quot; - Hamlet, probably</p>
<p>c: https://stackoverflow.com/questions/3280729/in-c-what-is-the-correct-syntax-for-declaring-pointers</p>
<p>Is it <code>int* p</code> or is it <code>int *p</code>?</p>
<ul>
<li>It depends on who you ask and at what time of day you ask them.</li>
<li>Jokes aside, it's preference</li>
<li>For C++ <code>int* p</code> is preferred because the typeness is emphasized</li>
<li>In C <code>int *p</code>, b/c &quot;The syntax of the declaration for a variable mimics the syntax of expressions in which the variable might appear.&quot;</li>
</ul>
<p>Pointer variables hold an address.</p>
<p>A type and a pointer to that type are not the same thing even though they almost look the same.</p>
<pre><code class="language-c">int i = 0; // This is an integer type

int* i_ptr; // This is a pointer to an integer type. It is not an integer
</code></pre>
<p>Confusing pointers to a type with the type itself is a common mistake and sometimes dangerous mistake.
Stupid but funny analogy</p>
<pre><code>typedef struct {
  char species[10];
} Animal;

Animal wolf-&gt;species = &quot;wolf&quot; ;
Animal2;

Animal* sheep;

sheep = &amp;wolf; // A wolf in sheep's clothing
Animal2 = *sheep; // that ain't no sheep

</code></pre>
<h2 id="multiple-assignments"><a class="header" href="#multiple-assignments">Multiple assignments</a></h2>
<p><code>int *p1, p2</code>, one is a pointer, one is not</p>
<p>is not the same as</p>
<p><code>int *p1, *p2</code></p>
<h2 id="pointer-assignment"><a class="header" href="#pointer-assignment">Pointer Assignment</a></h2>
<p>variable declaration</p>
<pre><code>int i, j, *p, *q;
</code></pre>
<p>Give <code>p</code> the <em>address</em> of <code>i</code></p>
<pre><code>p = &amp;i; // Give p the _address_ of i


</code></pre>
<pre><code>
q = p; // copy the contents of `p` ( the address of `i`) into `q`, 
       // i.e. p and q point to the same place

p[*]
    \
     v
   [ ? ] i 
     ^    
    /  
q[*]
</code></pre>
<h2 id="number-of-addresses-in-32-bit-vs-64-bit"><a class="header" href="#number-of-addresses-in-32-bit-vs-64-bit">Number of addresses in 32-bit vs 64-bit</a></h2>
<p>Virtually all modern systems are byte addressed.</p>
<p>Each byte has its own address so:</p>
<ul>
<li>32-bit systems have: 2^32 -&gt; 4,294,967,296 bytes or ~ 4Gb</li>
<li>64-bit sytsems have: 2^64 -&gt; 1.84e19 bytes</li>
</ul>
<p>64 bits have 2^32 times the addressing space of 32 bit systems
64-bit systems can theoretically reference 18,446,744,073,709,551,616 bytes, or 17,179,869,184 GB (16 exabytes) of </p>
<p>More reading:</p>
<ul>
<li>https://www.reddit.com/r/C_Programming/comments/uqkp8q/why_would_anybody_use_pointers/</li>
<li>https://www.reddit.com/r/learnprogramming/comments/kzbn6/whats_the_point_of_pointers/</li>
</ul>
<p>pointer synonyms</p>
<ul>
<li>arrow</li>
<li>reference</li>
<li>handle</li>
</ul>
<p>Proper use of pointers save cpu time and memory.</p>
<p>Improper use of pointers will lead to segfaults and crashes.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="javascript"><a class="header" href="#javascript">Javascript</a></h1>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript"><img src="Programming_Languages/js/data/js-logo-00.png" alt="js-logo" /></a></p>
<p>The language of the web.</p>
<p>Also see:</p>
<p><a href="https://www.typescriptlang.org/"><img src="Programming_Languages/js/data/ts-logo-00.png" alt="ts-logo" /></a></p>
<p>The language of the web with types.</p>
<div style="break-before: page; page-break-before: always;"></div><p>x is array
y is tuple</p>
<pre><code class="language-ts">interface test {
  a: string;
  b: string;
}

const x: test[] = [{a: &quot;aaaa&quot;, b: &quot;bbbb&quot;}]
const y: [test] = [{a: &quot;aaaa&quot;, b: &quot;bbbb&quot;}]

x.push({a: &quot;a1&quot;, b: &quot;b1&quot;});  // works fine
y.push({a: &quot;a1&quot;, b: &quot;b1&quot;});  // works fine

const a = x[1]; // works fine 
const b = y[1]; // compilation error 
                // Tuple type '[test]' of length '1' has no element at index '1'.
</code></pre>
<p>see: https://stackoverflow.com/questions/66026450/square-brackets-around-vs-after-expression-in-typescript</p>
<div style="break-before: page; page-break-before: always;"></div><pre><code>    
    
    someFile.js
    
    
    IMPORT = {import {someValue as remappedValue} from &quot;path/to/module.js&quot;;}
    _____________
    |           |
[IMPORT]---&gt;    |
    |           |
    |           |
    |           |
    |           |
    |       [EXPORT]---&gt; {export {someValue1, someValue2,...};}
    |__________ |
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>// How do I resolve namespace collisions/conflicts in Javascript?</p>
<ul>
<li>remap it with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules#importing_modules_using_import_maps">import_maps</a></li>
<li>https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules#renaming_imports_and_exports</li>
</ul>
<pre><code class="language-js">
// import {myVar} from &quot;./myModule.js&quot;; &lt;-- collision !

// Solution: remap with import maps
import {myVar as myOtherVar } from &quot;./myModule.js&quot;;

let myVar = 1;

</code></pre>
<pre><code>    IMPORT = {import {someValue as remappedValue} from &quot;path/to/module.js&quot;;}

    _____________
    |           |
[IMPORT]---&gt;    |
    |           |
    |           |
    |           |
    |           |
    |       [EXPORT]---&gt; {export {someValue1, someValue2,...};}
    |__________ |
</code></pre>
<h1 id="create-your-own-namespace-by-creating-a-module-object"><a class="header" href="#create-your-own-namespace-by-creating-a-module-object">Create your own namespace by creating a module object</a></h1>
<pre><code>import * as Module from &quot;./modules/module.js&quot;
</code></pre>
<p>This grabs all exports available inside <code>module.js</code> and makes them available as members of an object <code>Module</code>, i.e. giving them a namespace.</p>
<pre><code>Module.function1();
Module.function2();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>Is javascript event-driven?</p>
<p>JavaScript, itself, is not inherently event-driven. JavaScript on browsers, and in environments like NodeJS, is event-driven, but note that the language is something in and of itself, independent of the environments. 
T.J. Crowder
Jan 26, 2012 at 9:12 <a href="https://stackoverflow.com/questions/9015836/why-doesnt-javascript-need-a-main-function">src</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>What does e mean in js?</p>
<p>see e everywhere in function parameters and don't know what it means, this should help</p>
<p>https://stackoverflow.com/questions/10323392/in-javascript-jquery-what-does-e-mean</p>
<p>https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener</p>
<p>https://developer.mozilla.org/en-US/docs/Web/Events</p>
<p>https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures</p>
<p>https://developer.mozilla.org/en-US/docs/Web/API</p>
<p>https://developer.mozilla.org/en-US/docs/Web/API/Event</p>
<p>Event.target Read only</p>
<pre><code>A reference to the object to which the event was originally dispatched.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="net"><a class="header" href="#net">.NET</a></h1>
<p><a href="https://dotnet.microsoft.com/en-us/learn/dotnet/what-is-dotnet"><img src="Programming_Languages/dotnet/data/dotnet-logo-00.png" alt=".net-logo" /></a></p>
<p>It's not really a progrsmming language but a programming framework.</p>
<p>Package Manager</p>
<p><img src="Programming_Languages/dotnet/data/nuget-logo-00-4x.png" alt="nuget-logo" /></p>
<p>Nuget</p>
<p>Mascot</p>
<p><img src="Programming_Languages/dotnet/data/monster_dotnet-bot_01.png" alt="dotnet-bot" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="testing-net"><a class="header" href="#testing-net">Testing (.NET)</a></h1>
<p><a href="https://xunit.net/"><img src="Programming_Languages/dotnet/data/xunit-logo-00-4x.png" alt="xunit-logo" /></a></p>
<div style="break-before: page; page-break-before: always;"></div><pre><code>csproj vs sln

csproj contain info ab projects, sln contain files ab all proj

 sln___________
  / \_____      |
 /        |     \
csproj csproj csproj  
</code></pre>
<p>see:</p>
<ul>
<li>https://www.reddit.com/r/dotnet/comments/i6nw0w/solution_files_are_a_nightmare_that_has_to/</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><pre><code>.net vs c#

.net = runtime + libraries, c# (language) runs on top of .net(runtime+libraries)

c# is not the only language that can run on .net, e.g. F# and Visual_Basic(VB)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="testing"><a class="header" href="#testing">Testing</a></h1>
<p><a href="https://xunit.net/">xunit</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="bash-unix-shell"><a class="header" href="#bash-unix-shell">Bash (Unix shell)</a></h1>
<p><a href="https://en.wikipedia.org/wiki/Bash_(Unix_shell)"><img src="Programming_Languages/bash/data/bash-logo-00.png" alt="bash-logo" /></a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ifsinternal_field_separator"><a class="header" href="#ifsinternal_field_separator">IFS=Internal_Field_Separator</a></h1>
<p>bash uses IFS to recognize word boundaries</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="bash-arrays"><a class="header" href="#bash-arrays">Bash Arrays</a></h2>
<div class="table-wrapper"><table><thead><tr><th>bash</th><th>meaning</th></tr></thead><tbody>
<tr><td><code>A[@]</code></td><td>return contents of array A</td></tr>
<tr><td><code>:$idx:$len</code></td><td>start at <code>idx</code>, take slice of length <code>len</code></td></tr>
<tr><td><code>:1:2</code></td><td>start at index 1, take a slice of length 1</td></tr>
<tr><td><code>:-1:1</code></td><td>start at last element, take a slice of length 1</td></tr>
<tr><td><code>A[@]:1:2</code></td><td>for array A, start at index 1, with a slice of length 2</td></tr>
</tbody></table>
</div>
<pre><code class="language-sh">#!/bin/bash

#  &gt;&gt; i  0 1 2 3 4
#               -1   -i &lt;&lt;
A=(      0 1 2 3 4     )

# A[@] returns content of array A
# :1:2, start at index 1, take a slice of length 2
# A[@]:1:2, for array A, start at index 1, with a slice of length 2

array_slice(){
    # see: https://stackoverflow.com/questions/1335815/how-to-slice-an-array-in-bash
    #   0   1   2        3
    A=( foo bar &quot;a  b c&quot; 42 )
    # start at index 1, take slice of length 2
    B=(&quot;${A[@]:1:2}&quot;)

    # start at index 1, take slice to the end
    C=(&quot;${A[@]:1}&quot;)       # slice to the end of the 
    
    echo &quot;${B[@]}&quot;        # bar a  b c
    echo &quot;${B[1]}&quot;        # a  b c
                          # 1   2      3
    echo &quot;${C[@]}&quot;        # bar a  b c 42

    echo &quot;${C[@]: -2:2}&quot;  # a  b c 42 # The space before the - is necesssary
}

array_of_array () {
    # See: https://tldp.org/LDP/abs/html/arrays.html
    # &quot;Nested&quot; array.
    
    #  Michael Zick provided this example,
    #+ with corrections and clarifications by William Park.
    AnArray=( $(ls --inode --ignore-backups --almost-all \
	--directory --full-time --color=none --time=status \
	--sort=time -l ${PWD} ) )  # Commands and options.

    # Spaces are significant . . . and don't quote anything in the above.

    SubArray=( ${AnArray[@]:11:1}  ${AnArray[@]:6:5} )
    #  This array has six elements:
    #+     SubArray=( [0]=${AnArray[11]} [1]=${AnArray[6]} [2]=${AnArray[7]}
    #      [3]=${AnArray[8]} [4]=${AnArray[9]} [5]=${AnArray[10]} )
    #
    #  Arrays in Bash are (circularly) linked lists
    #+ of type string (char *).
    #  So, this isn't actually a nested array,
    #+ but it's functionally similar.

    echo &quot;Current directory and date of last status change:&quot;
    echo &quot;${SubArray[@]}&quot;

    exit 0
}

main() {
    :
}

main

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="linux---how-to-redirect-to-stderr-to-terminal-and-log-to-file"><a class="header" href="#linux---how-to-redirect-to-stderr-to-terminal-and-log-to-file">Linux - how to redirect to <code>stderr</code> to terminal and log to file</a></h2>
<p>What does this mean?</p>
<ul>
<li>
<p><code>ls 2&gt;&amp;1 | tee /tmp/ls.txt</code></p>
</li>
<li>
<p><code>&amp;</code> works differently depending on the context</p>
</li>
<li>
<p><code>&amp;</code> is only interpreted to mean &quot;file descriptor&quot; in the context of redirections. Writing <code>command &amp;2&gt;&amp;1</code> is parsed as <code>command &amp;</code> and <code>2&gt;&amp;1</code></p>
</li>
</ul>
<div class="table-wrapper"><table><thead><tr><th>bash</th><th>english</th></tr></thead><tbody>
<tr><td><code>cmd &amp;</code></td><td>control operator, the shell executes command in background in subshell. shell exits immediately, returns 0.</td></tr>
<tr><td><code>&gt;&amp;</code></td><td>redirect operator</td></tr>
<tr><td><code>1&gt;&amp;2</code></td><td>redirect stdout to stderr</td></tr>
<tr><td><code>2&gt;&amp;1</code></td><td>redirect stderr to stdout</td></tr>
<tr><td><code>tee</code></td><td>read from stdin and write to both <code>stdout</code> and a <code>file</code></td></tr>
</tbody></table>
</div>
<p>Take <code>ls</code>'s <code>stderr</code> and output it to <code>stdout</code>, put that into <code>tee</code> which writes the outputs to both <code>stdout</code> and some <code>file</code></p>
<p>see:</p>
<ul>
<li>https://stackoverflow.com/questions/818255/what-does-21-mean</li>
<li>https://stackoverflow.com/questions/13591374/command-output-redirect-to-file-and-terminal</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>https://askubuntu.com/questions/1460967/how-to-create-multiple-files-with-different-names-in-a-specific-directory-all</p>
<p>use brace expansion</p>
<p>brace expansion is similar to filename expansion</p>
<pre><code>echo a{d,c,b}e
ade ace abe
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="create-multiple-nested-directories"><a class="header" href="#create-multiple-nested-directories">Create multiple nested directories</a></h1>
<p><code>mkdir -p /path/{to,a}/{lot,of}/directories</code></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rust"><a class="header" href="#rust">Rust</a></h1>
<p><a href="https://www.rust-lang.org/"><img src="Programming_Languages/rust/data/icon-rust-logo-00.png" alt="rust-logo" /></a></p>
<p>Not this <a href="https://rust.facepunch.com/">Rust</a>.</p>
<p>This <a href="https://www.rust-lang.org/">one</a>.</p>
<p>Install: 
<code>curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh</code></p>
<p><a href="https://rustacean.net/"><img src="Programming_Languages/rust/data/rust_ferris_00-8x.png" alt="ferris" /></a></p>
<div style="break-before: page; page-break-before: always;"></div><p>A rust box is a pointer. The pointer is stored on the stack but the data is allocated on the heap.</p>
<p>Written as <code>Box&lt;T&gt;</code>.</p>
<p>Boxes are pointers stored on the stack.</p>
<p>The Box points to data on the heap.</p>
<p>When to use:</p>
<p>Don't know compile time size but work in context that requres exact size</p>
<ul>
<li>When you have a type whose size can’t be known at compile time and you want to use a value of that type in a context that requires an exact size</li>
</ul>
<p>Transfer ownership with no copying</p>
<ul>
<li>When you have a large amount of data and you want to transfer ownership but ensure the data won’t be copied when you do so</li>
</ul>
<p>Only care the about the trait</p>
<ul>
<li>When you want to own a value and you care only that it’s a type that implements a particular trait rather than being of a specific type</li>
</ul>
<pre><code>enum List {
    Cons(i32, List),
    Nil,
}
</code></pre>
<p>VS</p>
<pre><code>enum List {
    Cons(i32, Box&lt;List&gt;), // Note that the list is being pointed at now instead of a direct object
    Nil,
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>The primary difference between them is that <code>use</code> imports a module from an external library, while <code>mod</code> creates an internal module that can only be used within the current file.</p>
<p>https://www.delftstack.com/howto/rust/rust-mod-vs-use/</p>
<div style="break-before: page; page-break-before: always;"></div><p>https://doc.rust-lang.org/book/ch07-01-packages-and-crates.html</p>
<p>Cargo follows a convention that: </p>
<ul>
<li>binary crate root = <code>src/main.rs</code></li>
<li>library crate root = <code>src/lib.rs</code> </li>
<li>both with same name as package</li>
</ul>
<p>Cargo passes the crate root files to <code>rustc</code> to build the library or binary.</p>
<p>A <em>crate</em> is the smallest amount of code that the Rust compiler considers at a time.</p>
<p>A <em>package</em> is a bundle of one or more crates that provides a set of functionality.</p>
<ul>
<li>A package contains a Cargo.toml file that describes how to build those crates.</li>
</ul>
<p><em>Binary crates</em> are programs you can compile to an executable that you can run and must have a function called <code>main()</code></p>
<p><em>Library crates</em> don’t have a main function, and they don’t compile to an executable. Instead, they define functionality intended to be shared with multiple projects.</p>
<p>Did you know?</p>
<ul>
<li>Cargo is actually a package that contains the binary crate for the command-line tool you’ve been using to build your code.</li>
</ul>
<p>How modules work:</p>
<ul>
<li>Compiler looks at crate root(<code>src/main.rs</code> or <code>src/lib.rs</code>) for code to compile.</li>
<li>look at crate root for module declarations
<ul>
<li>e.g. <code>mod garden</code> in <code>main.rs</code>
<ul>
<li>look inline</li>
<li>in file <code>src/garden.rs</code></li>
<li>in file <code>src/garden/mod.rs</code></li>
</ul>
</li>
</ul>
</li>
<li>look for submodules in files other than crate root
<ul>
<li>e.g. <code>mod vegetables</code> in <code>garden.rs</code>
<ul>
<li>inline</li>
<li><code>src/garden/vegetable.rs</code></li>
<li><code>src/garden/vegetable/mod.rs</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>A prelude is a collection of names that are automatically brought into scope of every module in a crate. </p>
<p>https://doc.rust-lang.org/reference/names/preludes.html</p>
<div style="break-before: page; page-break-before: always;"></div><pre><code class="language-rs">fn dice_roll(num_rolls: u32, num_sides: u32) -&gt; u32 {
    (0..num_rolls).fold(0, |sum, _| {
        sum + rand::thread_rng().gen_range(1..=num_sides)
    })
}
</code></pre>
<p>fold() takes two arguments, an initial value and a closure with two arguments: an 'accumulator' and an element, the closure returns the value that the accumulator should have for the next iteration</p>
<p>the initial value is the value the accumulator will have on the first call</p>
<p>after applying the closure to every element of the iterator, <code>fold()</code> returns the accumulator</p>
<div style="break-before: page; page-break-before: always;"></div><p>How to run rust basic-http-server</p>
<p>Install
cargo install basic-http-server</p>
<p>Run
basic-http-server</p>
<p>Listen/attach on localhost so no one else can connect</p>
<ul>
<li>this means only listen on this computer</li>
<li>localhost is useful for testing and development</li>
<li><code>basic-http-server -a 127.0.0.1:4000 # listen on this computer on port 4000</code></li>
</ul>
<p>Anyone can connect</p>
<ul>
<li>listen on the special address 0.0.0.0 which means accept all addresses</li>
<li>using this without protection is a security risk</li>
<li>only use this if you're behind a firewall or proxy
<code>basic-http-server -a 0.0.0.0:4000 # take any connection that arrives on port 4000</code> </li>
</ul>
<p>Connect to specific interface</p>
<ul>
<li>the server can listen to an interface that exists on your computer</li>
<li>ifconfig, ipconfig</li>
</ul>
<p>If you want to serve a file directory you have to add <code>-x</code></p>
<p><code>basic-http-server -x -a 127.0.0.1:4000</code></p>
<div style="break-before: page; page-break-before: always;"></div><p>Impl vs trait object</p>
<p>how to use traits to define functions that accept many different types?</p>
<p>Traits and trait bounds let us write code that uses generic type parameters to reduce duplication 
and also specify to the compiler that we want the generic type to have particular behavior. </p>
<p>generic type parameter</p>
<pre><code>pub trait Summary { ---------------------|
    fn summarize(&amp;self) -&gt; String;       |
}                            ____________|
                            |
                            V           
pub fn notify(item: &amp;impl Summary) { 
    println!(&quot;Breaking news! {}&quot;, item.summarize());
}

// No runtime cost, these are checked at compile time
// Monomorphization occurs on the generics so static dispatch can occur

// Monomorphization is the process of turning generic code into specific code 
// by filling in the concrete types that are used when compiled.
</code></pre>
<p>trait object</p>
<pre><code>pub trait Draw { _________________
    fn draw(&amp;self);              |
}                                |
                                 |
pub struct Screen {              v
    pub components: Vec&lt;Box&lt;dyn Draw&gt;&gt;,
}

// trait object perform dynamic dispatch, where the method table is searched at runtime: https://doc.rust-lang.org/beta/book/ch17-02-trait-objects.html

              ________&gt; data (e.g. instance of struct)
             /        \----&gt;
dyn trait ---
             \________&gt; map( 
                            method1 -&gt; fn_pointer1
                            method2 -&gt; fn_pointer2 &lt;--- this is the vtable / virtual_method_table,
                            method3 -&gt; fn_pointer3      map of method_call_names to function_pointers
                           )        ^
                                    |____ this has to be searched at runtime to know which method to call
                                          this lookup incurs a runtime cost
</code></pre>
<p>see: <a href="https://doc.rust-lang.org/std/keyword.dyn.html">dyn</a></p>
<pre><code>-A generic type parameter can only be substituted with one concrete type at a time, whereas 


-trait objects allow for multiple concrete types to fill in for the trait object at runtime.

trait object = Box&lt;dyn Trait&gt;
</code></pre>
<p>see: </p>
<ul>
<li><a href="https://doc.rust-lang.org/beta/book/ch10-01-syntax.html">generics</a></li>
<li><a href="https://doc.rust-lang.org/beta/book/ch10-02-traits.html">traits</a></li>
<li><a href="https://doc.rust-lang.org/beta/book/ch17-02-trait-objects.html">trait objects</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>https://doc.rust-lang.org/1.62.1/alloc/borrow/enum.Cow.html</p>
<p>enum alloc::borrow::Cow</p>
<p>Cow = clone on write smart pointer</p>
<p>can enclose and provide immutable access on borrowed data
and clone the data lazily when mutation or ownership ir requiered</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rust-terms"><a class="header" href="#rust-terms">Rust Terms</a></h1>
<h3 id="tools"><a class="header" href="#tools">Tools</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Term</th><th>Def</th><th>Links</th></tr></thead><tbody>
<tr><td><code>cargo</code></td><td><code>Rust's</code> package manager</td><td><a href="https://doc.rust-lang.org/cargo/">1</a></td></tr>
<tr><td><code>crates.io</code></td><td><code>Rust's</code> package registry</td><td></td></tr>
<tr><td><code>package</code></td><td>A Rust package is a bundle of one or more <code>crates</code></td><td><a href="https://doc.rust-lang.org/book/ch07-01-packages-and-crates.html">1</a></td></tr>
<tr><td><code>crate</code></td><td>smallest amount of code that the Rust compiler, <code>rustc</code> considers at a time, <code>crates</code> can contain many <code>modules</code></td><td><a href="https://doc.rust-lang.org/book/ch07-01-packages-and-crates.html">1</a></td></tr>
<tr><td><code>module</code></td><td>grouping of related code in a <code>crate</code>, let us organize code within a <code>crate</code> for readability and easy reuse, they also allow privacy control (rust code is private by defaul)</td><td><a href="https://doc.rust-lang.org/book/ch07-02-defining-modules-to-control-scope-and-privacy.html">1</a></td></tr>
</tbody></table>
</div>
<h3 id="environment-variables"><a class="header" href="#environment-variables">Environment Variables</a></h3>
<p>see: https://doc.rust-lang.org/cargo/reference/environment-variables.html</p>
<div class="table-wrapper"><table><thead><tr><th>Term</th><th>Def</th><th>Links</th></tr></thead><tbody>
<tr><td><code>MSRV</code></td><td>Minimum Supported Rust Version</td><td></td></tr>
<tr><td><code>CARGO_HOME</code></td><td>default is <code>~/.cargo</code>,  local cache of the registry index and of git checkouts</td><td></td></tr>
</tbody></table>
</div>
<h3 id="programming"><a class="header" href="#programming">Programming</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Term</th><th>Def</th><th>Links</th><th>Examples</th></tr></thead><tbody>
<tr><td><code>bit</code></td><td>basic unit of information in computing and digital communications (binary digit), 0/1, represents 2 states only</td><td>https://en.wikipedia.org/wiki/Bit</td><td><code>0</code> or <code>1</code></td></tr>
<tr><td><code>byte</code></td><td>unit of digital information, 8-bit</td><td>https://en.wikipedia.org/wiki/Byte</td><td><code>00000000</code> or <code>11111111</code></td></tr>
<tr><td><code>variable</code></td><td>an abstract storage location paired with an associated symbolic name, which contains some known or unknown quantity of information referred to as a value</td><td>https://en.wikipedia.org/wiki/Variable_(computer_science)</td><td></td></tr>
<tr><td><code>pointer</code></td><td>object that holds the address of some variable</td><td>https://en.wikipedia.org/wiki/Pointer_(computer_programming)</td><td></td></tr>
<tr><td><code>fat pointer</code></td><td>The term &quot;fat pointer&quot; is used to refer to references and raw pointers to dynamically sized types (DSTs) – slices or trait objects. A fat pointer contains a pointer plus some information that makes the DST &quot;complete&quot; (e.g. the length).</td><td>https://stackoverflow.com/questions/57754901/what-is-a-fat-pointer</td><td><code>Rust's</code> <a href="https://doc.rust-lang.org/book/ch15-00-smart-pointers.html">smart pointers</a></td></tr>
<tr><td><code>Vector</code></td><td>A contiguous growable array type</td><td>https://doc.rust-lang.org/std/vec/struct.Vec.html</td><td></td></tr>
<tr><td><code>str</code></td><td>string slice,  references to some UTF-8 encoded string data stored elsewhere</td><td>https://doc.rust-lang.org/book/ch08-02-strings.html</td><td></td></tr>
<tr><td><code>String</code></td><td>Wrapper around <code>Vector</code> of <code>bytes</code></td><td>https://doc.rust-lang.org/book/ch08-02-strings.html</td><td></td></tr>
</tbody></table>
</div>
<p>General Programming Terms: <a href="https://gist.github.com/tnn4/0c196cc38f6087feb4fa5e10830407a0">see</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rust-ronrusty-object-notation"><a class="header" href="#rust-ronrusty-object-notation">Rust ron(Rusty Object Notation)</a></h1>
<p>ron = rusty object notation</p>
<p>simple readable data serialization format that looks similar to rust's syntax</p>
<pre><code class="language-rs">GameConfig( // optional struct name
    window_size: (800, 600),
    window_title: &quot;PAC-MAN&quot;,
    fullscreen: false,
    
    mouse_sensitivity: 1.4,
    key_bindings: {
        &quot;up&quot;: Up,
        &quot;down&quot;: Down,
        &quot;left&quot;: Left,
        &quot;right&quot;: Right,
        
        // Uncomment to enable WASD controls
        /*
        &quot;W&quot;: Up,
        &quot;A&quot;: Down,
        &quot;S&quot;: Left,
        &quot;D&quot;: Right,
        */
    },
    
    difficulty_options: (
        start_difficulty: Easy,
        adaptive: false,
    ),
)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>https://doc.rust-lang.org/std/sync/struct.Arc.html</p>
<p>WTF is Rust Arc?</p>
<p>Arc = Atomically Reference Counted</p>
<p>A thread-safe reference counting pointer.</p>
<p>Unlike <code>Rc&lt;T&gt;</code>, <code>Arc&lt;T&gt;</code> use atomic operations for reference counting, so it is thread-safe.
But, this comes with the cost of more expensive memory access.</p>
<p>If you are not sharing reference-counted allocations between threads, consider <code>Rc&lt;T&gt;</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rust-macros"><a class="header" href="#rust-macros">Rust Macros</a></h1>
<p>macros are code that writes code</p>
<p>the ($) dollar sign : declares variable in macro system that contains Rust code matching the pattern</p>
<ul>
<li>the $ markes the variable as a (macro variable) and not a (regular variable)</li>
</ul>
<pre><code class="language-rs">#[macro_export]
macro_rules! vec {
    ( $( $x:expr ),* ) =&gt; {
        {
            let mut temp_vec = Vec::new();
            $(
                temp_vec.push($x);
            )*
            temp_vec
        }
    };
}
</code></pre>
<pre><code>$( $x:expr ),*
$x:expr # matches any Rust expression and gives the expression name $x
, the comma following $() indicates a literal comma could optionally appear after the code that matches the code in $()
* specifies that the pattern matches zero or more of whatever precedes *
with vec![1,2,3], the $x matches three(3) times with 1, 2, and 3
</code></pre>
<p>generated code </p>
<pre><code class="language-rs">{
    let mut temp_vec = Vec::new();
    temp_vec.push(1);
    temp_vec.push(2);
    temp_vec.push(3);
    temp_vec
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>https://doc.rust-lang.org/book/ch13-01-closures.html</p>
<p>Rust closures are anonymous functions that you can save in variables, or
pass as arguments to other functions. </p>
<p>You can create a closure in one place and then call the closure to evaluate it in a different context.</p>
<p>Closures can capture the values from the scope they are defined.</p>
<p>Which one are closure and which ones are function definitions?</p>
<pre><code class="language-rs">fn  add_one_v1   (x: u32) -&gt; u32 { x + 1 }
let add_one_v2 = |x: u32| -&gt; u32 { x + 1 };
let add_one_v3 = |x|             { x + 1 };
let add_one_v4 = |x|               x + 1  ;
</code></pre>
<pre><code class="language-rs">#[derive(Debug, PartialEq, Copy, Clone)]
enum ShirtColor {
    Red,
    Blue,
}

struct Inventory {
    shirts: Vec&lt;ShirtColor&gt;,
}

impl Inventory {
    fn giveaway(&amp;self, user_preference: Option&lt;ShirtColor&gt;) -&gt; ShirtColor {
        user_preference.unwrap_or_else(|| self.most_stocked()) // &lt;-- closure defined here
        // The closure captures an immutable reference to the self Inventory instance 
        // and passes it with the code we specified to the unwrap_or_else method.
    }

    fn most_stocked(&amp;self) -&gt; ShirtColor {
        let mut num_red = 0;
        let mut num_blue = 0;

        for color in &amp;self.shirts {
            match color {
                ShirtColor::Red =&gt; num_red += 1,
                ShirtColor::Blue =&gt; num_blue += 1,
            }
        }
        if num_red &gt; num_blue {
            ShirtColor::Red
        } else {
            ShirtColor::Blue
        }
    }
}

fn main() {
    let store = Inventory {
        shirts: vec![ShirtColor::Blue, ShirtColor::Red, ShirtColor::Blue],
    };

    let user_pref1 = Some(ShirtColor::Red);
    let giveaway1 = store.giveaway(user_pref1); //&lt;-- closure called here
    // This is interesting because we’ve passed a closure that calls self.most_stocked() on the current Inventory instance.

    // The closure captured an immutable reference to the self Inventory instance and passed it with the code we specified to the unwrap_or_else method.

    // functions cannot capture their environment like this

    println!(
        &quot;The user with preference {:?} gets {:?}&quot;,
        user_pref1, giveaway1
    );

    let user_pref2 = None;
    let giveaway2 = store.giveaway(user_pref2);
    println!(
        &quot;The user with preference {:?} gets {:?}&quot;,
        user_pref2, giveaway2
    );
}

</code></pre>
<pre><code class="language-rs">
let example_closure = |x| x; // toy closure returns valus it received as a parameter 
</code></pre>
<p>This example also illustrates that a variable can bind to a closure definition, and the closure can later be called by using the variable name and parentheses as if the variable name were a function name:</p>
<pre><code class="language-rs">fn main() {
    let list = vec![1, 2, 3];
    println!(&quot;Before defining closure: {:?}&quot;, list);

    let only_borrows = || println!(&quot;From closure: {:?}&quot;, list);

    println!(&quot;Before calling closure: {:?}&quot;, list);
    only_borrows(); // the variable name is called !!!
    println!(&quot;After calling closure: {:?}&quot;, list);
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rust-pointers"><a class="header" href="#rust-pointers">Rust Pointers</a></h1>
<pre><code>fn main() {
    let x = 5;
    let y = &amp;x; // let y = -&gt;(x) // ptr_to_(x) // ref(x)
    // y is a pointer to x
    // * means follow the pointer / deref
    
    assert_eq!(5, x);
    assert_eq!(5, *y);
    assert_eq!(5, y) // ERROR, note that y is a pointer and not an int : type mismatch
}
</code></pre>
<p>You can use deref on Box<T> the same way as you can regular pointers!
Listing 15-9</p>
<pre><code>
fn main() {
    let x = 5;
    let y = Box::new(x); // here we set y to be an instance of a box 
                         // pointing to a copied value of x 
                         // rather than a reference pointing to the value of x

    assert_eq!(5, x);
    assert_eq!(5, *y); // &lt;-- y  is boxed
                       // *y = *(y.deref())
}

</code></pre>
<p>When we entered *y in Listing 15-9, behind the scenes Rust actually ran this code:</p>
<p><code>*(y.deref())</code></p>
<p>Turn a type into a Reference by Implementing Deref</p>
<pre><code>use std::ops::Deref;

impl&lt;T&gt; Deref for MyBox&lt;T&gt; {
    type Target = T;

    fn deref(&amp;self) -&gt; &amp;Self::Target {
        &amp;self.0 // .0 accesses the first value in a tuple struct, 
                /
    }
}
// https://doc.rust-lang.org/book/ch05-01-defining-structs.html#using-tuple-structs-without-named-fields-to-create-different-types
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p><a href="https://doc.rust-lang.org/book/ch07-00-managing-growing-projects-with-packages-crates-and-modules.html">Rust Module System</a></p>
<p><img src="Programming_Languages/rust/data/rust-module-system-00.png" alt="rust-module-system" /></p>
<div style="break-before: page; page-break-before: always;"></div><p>MSRV = oldest rust version an application will support</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rust-traits"><a class="header" href="#rust-traits">Rust traits</a></h1>
<p>https://blog.rust-lang.org/2015/05/11/traits.html</p>
<p>Defining and implementing a trait is really nothing more than abstracting out a common interface satisfied by more than one type.</p>
<p>e.g. </p>
<p>fn print_hash&lt;T: Hash&gt;(t: &amp;T)
The function print_hash function is generic over an unknown T, but:</p>
<p>&lt;T: Hash&gt; , read as T must implement the Hash trait</p>
<p>static dispatch = direct static calls improve performance</p>
<div style="break-before: page; page-break-before: always;"></div><p>Associated functions are functions that are defined on a type generally, </p>
<p>Methods are associated functions that are called on a particular instance of a type and take <code>&amp;self</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><p>Rust is much harder to learn than go but it scales better in the long term.
Rust is a better long-term investment.</p>
<p>https://www.reddit.com/r/rust/comments/u3l869/comment/i4qneid/?utm_source=share&amp;utm_medium=web2x&amp;context=3</p>
<p>Had a very quick look at the code and from what I can tell:</p>
<p>Both versions listen on a socket, once they get a request they grab a global mutex lock and then their behavior diverges.</p>
<p>The go program writes a message to a channel, and drops the mutex. The message then gets processed somewhere else.</p>
<p>The rust version grabs a lock multiple times to access all the current game states.</p>
<p>This is going to lead to a lot more contention in the rust program than the go version so is not surprising to see the rust one perform worst as you increase the number of threads.</p>
<p>The rust version processes the whole gameloop while the mutex is still live.</p>
<p>This is a MASSIVE difference in behaviour. And I am not surprised by his results. The more you add concurrent access to the rust version the more that lock is going to be in contention. This whole application is barely more then single threaded, possibly worst with all the context switching between threads that cannot run at the same time.</p>
<p>Yes rust is going to be more effort to write and is harder to get into. It is a more expressive and complex language than go. Tests like this are IMO unfair and will always favor go.</p>
<p>But most programmers are not learning a language to run benchmarks and then moving on to other stuff. But instead will learn to properly use and utilize the language they are using. And I fairly sure that anyone that had spent some time learning rust properly would be able to write a better server than this.</p>
<p>Tests like this really lean into Gos strengths (quick to learn and good enough for simple stuff) and rub against rusts pain points.</p>
<p>But I still prefer rust over go for almost all projects. As the Kubernetes developers put it:</p>
<pre><code>To put it succinctly, when writing large Kubernetes projects in Go, the code quickly becomes unwieldy and hard to read. Whereas with Rust, the code stays much cleaner and more readable.
</code></pre>
<p>https://deislabs.io/posts/kubernetes-a-rusty-friendship/</p>
<p>And I agree, the more I use go the more painful it becomes. But the more I use rust the less painful it becomes.</p>
<p>Conclusion:</p>
<p>Keep learning Rust, you'll get it eventually.</p>
<div style="break-before: page; page-break-before: always;"></div><p>How to lock version in projecct?</p>
<p>cargo --lock</p>
<p>Why? </p>
<p>locks dependency version  for stability for reproducibility :)</p>
<p>BUT you cannot receive any fixes / updates because you locked it :c</p>
<p>IMPL <code>--lock</code> forces use of <a href="https://doc.rust-lang.org/cargo/guide/cargo-toml-vs-cargo-lock.html"><code>Cargo.lock</code></a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rust-rcreference-count"><a class="header" href="#rust-rcreference-count">Rust Rc(Reference Count)</a></h1>
<p>https://doc.rust-lang.org/std/rc/struct.Rc.html</p>
<p>A single-threaded reference-counting pointer. 
‘Rc’ stands for ‘Reference Counted’.</p>
<div style="break-before: page; page-break-before: always;"></div><p>Rust Basics</p>
<p>namespacing operator -&gt; <code>::</code></p>
<p>associate code with a type -&gt; <code>impl</code></p>
<p><code>enums</code> hold one thing with size of the biggest type</p>
<p><code>structs</code> hold many things</p>
<p>ownership with methods</p>
<pre><code>fn foo(self, arg2: Type2) -&gt; ReturnType {

}
</code></pre>
<ul>
<li><code>self</code> -&gt; true ownership</li>
<li><code>&amp;mut self</code> -&gt; exclusive access</li>
<li><code>&amp;self</code> -&gt; shared access</li>
</ul>
<p><code>self</code> - most methods don't want <code>self</code>,it would suck trying to work with a list made it go away</p>
<ul>
<li><code>self</code> can be thought of as consuming the value</li>
</ul>
<p><code>&amp;mut self</code> - the only thing you can't do with exclusive access is move the value out with no replacement</p>
<p><code>&amp;self</code> - you're generally not allowed to mutate, you want to observe <code>self</code>, think of it as putting the value on display in a museum</p>
<ul>
<li>you can look but you can't touch</li>
</ul>
<p>FYI: mutable references should actually be called unique references</p>
<div style="break-before: page; page-break-before: always;"></div><p>Send Sync Traits</p>
<p>send - means data can be sent between threads</p>
<ul>
<li>ownership of values can be transferred between threads</li>
</ul>
<pre><code>
Thread1  &lt;-- Send --&gt;   Thread2 :)

</code></pre>
<p>thread - sequence of instructions</p>
<p>send -&gt; send data between sequence of instructions</p>
<p>threads have:</p>
<ul>
<li>scheduling priority</li>
<li>execution context</li>
</ul>
<p>so when you're doing a <code>send</code> you're transferring data between execution contexts</p>
<p>Sync - the type is safe to reference by multiple threads</p>
<pre><code>        Sync 
          |
      ___/|\______
     /    |       \
 thread1 thread2 thread3
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><pre><code class="language-rs">
// rust provides loop keyword to indicate infinite loop
// the break statement can be uses to exit a loop at anytime
// the continue statement can be used to skip the rest of an iteration

fn main(){
    let mut count = 0u32;
    let count_to_break = 10000;
    println!(&quot;Let's count until infinity!&quot;);
    
    // infinite loop
    loop {
        count += 1;
        if count == 3{
            println!(&quot;three&quot;);
            //skip the rest of this iteration
            continue;
        }
        println!(&quot;{}&quot;, count);

        if count == count_to_break{
            println!(&quot;OK, that's enough&quot;);

            //Exit this loop
            break;
        }
    }
}

#![allow(unreachable_code)]
// nested loops require  'labels
fn nesting_and_labels(){
    'outer: loop{
        println!(&quot;In the outer loop&quot;);

        'inner: loop{
            println!(&quot;Entered inner loop&quot;);

            // break 'label
            break 'outer;
        }

        // This point will never be reached because of the break

    }
    println!(&quot;Just exited the outer loop!&quot;);
}

// you can return values from loops
// put the value _after_ the break

fn return_value_after_loop_break(){
    let mut counter = 0;
    let result = loop{
        counter += 1;
        
        if counter == 10 {
            break counter * 2
        }
    };

    assert_eq!(result, 20);
}

// the while keyword can be used to run a loop while a condition is true
fn while_example(){
    let mut n = 1;
    let x = 3;
    let y = 5;
    while n &lt; 101{
        // do something here
        if n &lt; 101 {
            if n % (x*y) == 0{
                println!(&quot;fizzbuzz&quot;);
            }
            else if n % x == 0 {
                println!(&quot;fizz&quot;);
            }
            else if n % y == 0 {
                println!(&quot;buzz&quot;);
            }
        }
        // increment counter
        n += 1;
    }
}

// the for in construct can be used to iterate through an interator
// the range notation a..b creates an iterator
// [a..b) a inclusive, b exclusive
// [a..b] = a..=b, b will be included, inclusive on both ends
fn for_and_range01(){
    for n in 1..101{
        // fizzbuzz
    }
}

// for and iterators
// there are different types of iterators
// iter = borrows each element so the collection is untouched and available for reuse after the loop

// into_iter - the collection is consumes, in other words the data has been 'moved' into the loop

// iter_mut - the elements of the collection are mutably borrowed, so the collection can be modified in place

// How do you pass iterators to a function?
// Use generics
fn find_min&lt;'a, I&gt;(vals: I) -&gt; Option&lt;&amp;'a u32&gt;
where
    I: Iterator&lt;Item = &amp;'a u32&gt;,
{
    vals.min()
}


// Additionally, you often want to take something that implements IntoIterator as this can make the code calling your function nicer:
fn find_min2&lt;'a, I&gt;(vals: I) -&gt; Option&lt;&amp;'a u32&gt;
where
    I: IntoIterator&lt;Item = &amp;'a u32&gt;,
{
    vals.into_iter().min()
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>Rust Module System - Crates, Modules, Package </p>
<p>crate</p>
<ul>
<li>smallest amount of code Rust compiler considers at a time</li>
</ul>
<p>the compiler considers the single source file as a crate</p>
<p>crates contain: </p>
<ul>
<li>modules</li>
</ul>
<p>modules allow privacy control/visibility management
modules allow hierarchically splitting code into logical units
modules are collections of items: functions, structs, traits, <code>impl</code> blocks, even other modules</p>
<p>modules are private by default</p>
<p>2 types of crates:</p>
<ul>
<li>binary crate, has <code>main</code> </li>
<li>library crate, for sharing</li>
</ul>
<p>Rustaceans &quot;crates&quot; are &quot;libraries&quot;</p>
<p>package: set of crates</p>
<ul>
<li>package = {c1,c2,..,cn} where cn is crate n</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>rust:Option represents optional value</p>
<p>Options are either Some or None</p>
<pre><code>      [Some]
      /
Option
      \ 
    [None]
</code></pre>
<p>Why? Rust does not support &quot;safe&quot; use of NULL pointers.
None gives you a safe way of dealing with nulls.</p>
<p>It is represented as an enum:</p>
<p>Module std::option</p>
<p>Enum std::option::Option</p>
<p>Example</p>
<pre><code class="language-rs">fn get(&amp;self, index: usize) -&gt; Option&lt;&amp;T&gt;
</code></pre>
<p>returns an <code>Option</code> defined like:</p>
<pre><code class="language-rs">pub enum Option&lt;T&gt; {
    None,
    Some(T),
}
</code></pre>
<p><code>None</code> and <code>Some</code> are <em>variants</em> of the enum</p>
<div style="break-before: page; page-break-before: always;"></div><pre><code>pub fn notify(item: &amp;impl Summary) 

// same as

pub fn notify&lt;T: Summary&gt;(item: &amp;T)


// examples

// Two parameters that take the same Summary trait
// WARN this only implies that the types implement Summary trait, not that they are the same types, although they could be
pub fn notify(item1: &amp;impl Summary, item2: &amp;impl Summary)

// Two parameters that take the same Type
// NOTE if we want to force both params to have the same type
// we have to say that the params are the same T, not that they have the same trait
pub fn notify&lt;T: Summary&gt;(item1: &amp;T, item2: &amp;T)

these are the same
---------------------------------------------------------
pub fn notify(item1: &amp;impl Summary, item2: &amp;impl Summary)
pub fn notify&lt;T: Summary&gt;(item1: &amp;T, item2: &amp;T)
---------------------------------------------------------

Conclusion
</code></pre>
<p>sharing traits does not imply you share the same type</p>
<pre><code>P --&gt; Q
P | Q | P --&gt; Q
---| --- | ---
if Trait -&gt; | then Type | False

many types can have the same trait

Context:
T1_impls_t1 AND T2_impls_t1

item1_is_T1 AND item2_is_T2

if item1_impls_t1 AND item2_impls_t1 --&gt; True?(item1_is_T1 AND item2_is_T1) -&gt; false  

Contradiction
item1_is_T1 AND item2_is_T2 != item1_is_T1 AND item2_is_T1
we already stated that item2 is T2 not T1


Q | P | Q --&gt; P
--- | --- | ---
if Type -&gt; | then Trait | True

Does param1 and param2 impl the same trait (t1)?

same type implies same traits

T1_impls_t1
item1_is_T1 AND item2_is_T1 --&gt; item1_impls_t1 AND item2_impls_t1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><pre><code>
zip
zip two iterators into one iterator of pairs

zip  list1.zip(list2) -&gt; list12

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>Rust: functions that never return</p>
<p><code>nevermore</code> is an example of a diverging function, a function that <em>never</em> returns</p>
<p><code>!</code> is an empty type, also known as a <code>never</code> type because you can't return any types when your function never returns</p>
<pre><code class="language-rs">fn nevermore() -&gt; ! {
  println!(&quot;Leave this place, and never return!&quot;);
}
</code></pre>
<p>see: <a href="https://doc.rust-lang.org/nightly/book/ch19-04-advanced-types.html#the-never-type-that-never-returns">never return</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="whats-the-point-of-borrowing"><a class="header" href="#whats-the-point-of-borrowing">What's the point of borrowing?</a></h1>
<p>The borrowing is what keeps code safe and performant.</p>
<p>It's about memory management.</p>
<p>Good memory management keeps your program performant and safe.</p>
<p>Rust enforces proper memory management with the borrow checker.</p>
<p>Pros of the Rust Model:</p>
<ul>
<li>the borrow checker makes creating data race conditions harder so concurrency is easier</li>
</ul>
<p>Cons:</p>
<ul>
<li>certain data structures that are simple to create in other languages are hard to get right in Rust </li>
</ul>
<p>If you can't copy, clone. Clone is expensive.</p>
<p>Don't clone if you can let someone else borrow it.</p>
<p>Borrowing is cheap and allow other functions to temporarily use the data and return it when done.</p>
<p><a href="https://blog.logrocket.com/introducing-the-rust-borrow-checker/">introducing the rust borrow checker</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="java"><a class="header" href="#java">Java</a></h1>
<p><img src="Programming_Languages/java/data/monster_java_duke_00.png" alt="duke" /></p>
<div style="break-before: page; page-break-before: always;"></div><p><strong>GMNightmare</strong>
There are three basic concepts that fuel most concepts and provides the strong basis for them.</p>
<ol>
<li>Minimize scope and really encapsulate. (no.15)</li>
</ol>
<p>Everything that can be private should be, in fact, the majority of fields you create anywhere should be private. And I don't mean leak them out through getters and setters, keep them truly private. Then provide functions that do what you want with the data, as opposed to having other objects grab the data and do something with it.</p>
<ol start="2">
<li>Strive for immutability. (no.17)</li>
</ol>
<p>Variables ideally shouldn't change. Everything that can be marked final, should be. Set your data in the constructor than do not change it. Immutability solves a lot of challenges and potential problems, as well as making the logic far more clearer.</p>
<ol start="3">
<li>Favor composition over inheritance. (no.18)</li>
</ol>
<p>Don't just make subclasses willy-nilly. It's very easy to abuse inheritance, but you should only use it when necessary. Composition is almost always the better choice. If you don't have an abstract method or your subclass doesn't override a method, there is probably no reason for it to be a subclass of the parent.</p>
<p>...</p>
<p>If you simply follow these three concepts a lot of the rest will simply fall in line. The problem often with a lot of patterns in the book is that it doesn't go over when to NOT use them. I'll give an example, the builder pattern (which you use when you have too many parameters for your constructor). The problem with the builder pattern often is that it skips the real problem, which is that the object is likely trying to store or do too much. The big constructor is just the symptom, solving that just hides the problem. If you've fully encapsulated everything (all those parameters aren't being written to public fields) then you'll likely be able to notice a pattern in how the fields are used. Thus, you can create different objects containing each set of data that is relevant to each other and pass those, thus reducing the number of parameters naturally.</p>
<p>And that's why I state these three basic concepts are the ones you want to stick to. Not only are they things you can apply to all the code you write and are easy to remember, but they resolve a lot of issues that patterns attempt to solve naturally with better design.</p>
<h4 id="item-15-minimize-accessibility-of-classes-and-members"><a class="header" href="#item-15-minimize-accessibility-of-classes-and-members">Item 15: Minimize accessibility of classes and members</a></h4>
<h4 id="item-17-minimize-mutability"><a class="header" href="#item-17-minimize-mutability">Item 17: Minimize mutability</a></h4>
<ul>
<li>Classes should be immutable unless there’s a very good reason to make them mutable. </li>
<li>If a class cannot be made immutable, limit its mutability as much as possible. </li>
<li>declare every field <code>private</code> <code>final</code> unless there’s a good reason to do otherwise</li>
<li>Constructors should create fully initialized objects with all of their invari-
ants established.</li>
</ul>
<p>Immutable objects provide safety guarantees at the potential cost of memory.</p>
<p>They're safe to work with, you always know their state is valid because it never changes, This simplifies program logic.</p>
<p>They can be shared between threads easily because their state is always valid.</p>
<p>The major disadvantage of immutable classes is that they require a
separate object for each distinct value. Creating these objects can be costly,
especially if they are large.</p>
<h4 id="item-18-favor-composition-over-inheritance"><a class="header" href="#item-18-favor-composition-over-inheritance">Item 18: Favor composition over inheritance</a></h4>
<p>Inheritance violates encapsulation
Changing a super class will affect the subclass, something you may not intended.</p>
<p>Use wrapper classes instead of inheritance.</p>
<h4 id="item-24-favor-static-member-classes-over-nonstatic"><a class="header" href="#item-24-favor-static-member-classes-over-nonstatic">Item 24: Favor static member classes over nonstatic</a></h4>
<p>If you declare a member class that does not require access to an enclosing
instance, always put the static modifier in its declaration</p>
<p>Item 25: Limit source file to single top-level class
There are no benefits to defining mutiple top-level classes in a single source file.</p>
<p><code>Utensil.java</code></p>
<pre><code class="language-java">// Two classes defined in one file. Don't ever do this!
class Utensil {
static final String NAME = &quot;pan&quot;;
}
class Dessert {
static final String NAME = &quot;cake&quot;;
}
</code></pre>
<h4 id="item-29-favor-generic-types"><a class="header" href="#item-29-favor-generic-types">Item 29: Favor generic types</a></h4>
<p>Not type-safe, requires unsafe type-casting from <code>Object</code></p>
<pre><code class="language-java">public final class ThreadLocal {
    public ThreadLocal();
    public void set(Object value);
    public Object get();
}
</code></pre>
<p>Type-safe parameterized class</p>
<pre><code class="language-java">public final class ThreadLocal&lt;T&gt; {
    public ThreadLocal();
    public void set(T value);
    public T get();
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="python"><a class="header" href="#python">Python</a></h1>
<p><a href="https://www.python.org/"><img src="Programming_Languages/python/data/python_icon.png" alt="python-icon" /></a></p>
<p>A great language for beginners.</p>
<p>FYI python doesn't have constants</p>
<div style="break-before: page; page-break-before: always;"></div><p>How to get the first few or last few letters of a string. AKA: string-slicing.</p>
<pre><code class="language-py">a_string = 'This is a string'
</code></pre>
<p>First character:</p>
<pre><code class="language-py">first_letter = a_string[0]
</code></pre>
<p>First 4:</p>
<pre><code class="language-py">first_four_letters = a_string[:4]
</code></pre>
<p>Last 5:</p>
<pre><code class="language-py">last_five_letters = a_string[-5:]
</code></pre>
<p>Last character</p>
<pre><code class="language-py">last_letter  = a_string[len(a_string)-1] # OR
last_letter2 = a_string[-1]
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><pre><code class="language-py">while True:
    # Do something
    # update condition
    if condition:
        break
#loop
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>How to get the first few or last few letters of a string. AKA: string-slicing.</p>
<pre><code class="language-py">a_string = 'This is a string'
</code></pre>
<p>First character:</p>
<pre><code class="language-py">first_letter = a_string[0]
</code></pre>
<p>First 4:</p>
<pre><code class="language-py">first_four_letters = a_string[:4]
</code></pre>
<p>Last 5:</p>
<pre><code class="language-py">last_five_letters = a_string[-5:]
</code></pre>
<p>Last character</p>
<pre><code class="language-py">last_letter  = a_string[len(a_string)-1] # OR
last_letter2 = a_string[-1]
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>naive indexing like this works but it has performance overhead, not good for an already slow language</p>
<pre><code class="language-py">fruits = [&quot;apple&quot;, &quot;banana&quot;, &quot;cherry&quot;]

idx = 0
for fr in fruits:
    print(idx, fr)
    idx += 1
#rof
</code></pre>
<p>pythonic way with enumerate, with index</p>
<pre><code class="language-py">for idx, x in enumerate(xs):
    print(idx,x)
</code></pre>
<p>it is non-pythonic to manually index via </p>
<pre><code class="language-py">for i in range(len(xs)):
    x = xs[i]
#rof
</code></pre>
<p>Getting a count</p>
<pre><code class="language-py">count = 0
for count, item in enumerate(items,start=1):
    print(&quot;{0} items&quot;.format(count))

print()
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>Run: <code>python3 /path/to/the/file</code></p>
<pre><code class="language-py">import sqlite3

def reddit_db_eg():
    con = sqlite3.connect(&quot;reddit.db&quot;)
    cur = con.cursor()
    # try blocks let you test blocks of code for errors
    try:
        cur.execute(&quot;CREATE TABLE reddit(link, comment)&quot;)
    except:
        print(&quot;table already exists&quot;)
    #try
    result = cur.execute(&quot;SELECT name FROM sqlite_master&quot;)
    print(result.fetchone())
    _link=&quot;https://www.reddit.com/r/java/comments/10sj89l/comment/j73ig5q/?utm_source=share&amp;utm_medium=web2x&amp;context=3&quot;
    _comment=&quot;There's another very important bit: C# was designed to integrate with C++, just like how Java (being more unixy) was designed to interface with C. The microsoft ecosystem AND the gaming industry are built on top of c++, there are tons of existing libraries that games rely on written in C++. Making the engine in C# ensured you could still benefit from all the existing ecosystem.&quot;
    # error near s, it's because the ' acts as a unintended escape sequence
    _table_name='reddit'
    cur.execute(&quot;INSERT INTO {table_name} VALUES(?,?)&quot;.format(table_name=_table_name), (_link,_comment))
    # insert statement implicitly opens a transaction, which needs to be commited before changes are saved
    con.commit()
    result  = cur.execute(&quot;SELECT link FROM reddit&quot;)
    print(result.fetchall())
    result = cur.execute(&quot;SELECT comment FROM reddit&quot;)
    print(result.fetchall())
#fed

if __name__ == &quot;__main__&quot;:
    reddit_db_eg()
#endmain
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="go-"><a class="header" href="#go-"><em>GO ≡</em></a></h1>
<p><a href="Programming_Languages/go/!%5Bgopher%5D(data/monster_go_gopher_01.png)"><img src="Programming_Languages/go/data/monster_go_gopher_01.png" alt="gopher" /></a></p>
<p>The go programming language.</p>
<div style="break-before: page; page-break-before: always;"></div><p>jmoiron</p>
<p>Go is not a functional language, and these will perform very poorly compared to simple for loops. This isn't a knock against you or what you're trying to do; I did the same thing learning Go. But this kind of thing fits poorly with the language, and I think it's worth embracing the things Go does well and seeing where that takes you.</p>
<p>Reflection is generally not used as a replacement for generics; take a look at sort, for instance, which uses interfaces instead.</p>
<div style="break-before: page; page-break-before: always;"></div><p>faiface
·
4 yr. ago
Silver</p>
<p>In Go, you don't think too much in terms of files, but instead in terms of packages. Running go build will always treat all files in a directory as a part of the same package, same namespace.</p>
<p>For example, if your directory has two files: main.go and help.go, and help.go defines a function called help, all code from main.go can call this function without any imports. In other words: all files in the same directory &quot;see each other&quot;.</p>
<p>All .go files in a directory together make a package.</p>
<p>There are two kinds of packages.</p>
<p>The first kind is libraries. These are meant to be imported by other packages. Their package name should, by convention, be the same as their directory name. Their package name is what the importer will use to access the package. For example, all files in the &quot;fmt&quot; package begin with package fmt. That's why when you do import &quot;fmt&quot;, you use fmt.Println to access the Println function.</p>
<p>The second kind of packages is runnable programs. Their package name is always main, so all the files in this package start with package main. These packages cannot be imported and they must contain a main function. That means that exactly one file in the directory must contain it. Doesn't matter which one.</p>
<p>Hope this clarifies it. If not, please ask more questions.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="capitalizing-matters-in-go"><a class="header" href="#capitalizing-matters-in-go">Capitalizing matters in go</a></h2>
<p>Any variable name that starts with a Capital letter is public to the package.</p>
<p>If it is not, the it is not exposed.</p>
<div style="break-before: page; page-break-before: always;"></div><p>Warning: go will only recognize certain path prefixes for modules to use as local packages</p>
<p><code>test</code> for test modules</p>
<p><code>example</code> for Go documentation</p>
<p><code>example.com</code> exxample of published module</p>
<div style="break-before: page; page-break-before: always;"></div><p><code>go mod edit -replace example.com/greetings=../greetings</code></p>
<div style="break-before: page; page-break-before: always;"></div><p>path prefix</p>
<p><code>test</code> for modules part of a test</p>
<p><code>example</code> for tutorials</p>
<p><code>example.com</code> where example might be published module</p>
<div style="break-before: page; page-break-before: always;"></div><ul>
<li>executable commands must always use <code>package main</code></li>
<li>functions with upper-case are exported, i.e. used in other packages</li>
</ul>
<p>create directory for project</p>
<ul>
<li><code>mkdir &lt;project&gt;</code></li>
</ul>
<p>create go module</p>
<ul>
<li><code>go mod init &lt;module_name&gt;</code></li>
<li><code>go mod init example/module</code> -&gt; <code>go.mod</code></li>
</ul>
<p>create go file that matches module you want to create</p>
<ul>
<li>e.g. <code>go mod init example/hello</code></li>
<li>make <code>hello.go</code></li>
</ul>
<p><code>hello.go</code></p>
<pre><code class="language-go">package main

import(
    &quot;fmt&quot;
)

func main() {
    fmt.Println(&quot;Hello, world.&quot;)
}
</code></pre>
<p>get modules from git</p>
<ul>
<li><code>go mod tidy</code></li>
</ul>
<p>build module to binary/executable and install to GOBIN: <code>$HOME/go/bin/&lt;module&gt;</code> </p>
<ul>
<li><code>go install &lt;module&gt;</code></li>
</ul>
<p>you can use <code>go env</code> to portably set the default value for an environment variable</p>
<ul>
<li><code>go env -w GOBIN=/somewhere/else/bin</code>
unset previous variable</li>
<li>`go env -u </li>
</ul>
<p>run your module</p>
<ul>
<li>just run the binary that was created at gobin path</li>
<li>on linux: gobin = <code>$HOME/go/bin/&lt;module&gt;</code></li>
<li>on Windows: gobin = <code>%USERPROFILE%/bo/bin/&lt;module.exe&gt;</code></li>
</ul>
<p>To uninstall</p>
<ul>
<li>go has no uninstall command</li>
<li>this may seem incovenient but it helps makes it clear what's happening</li>
<li>just use rm</li>
<li><code>rm path/to/go/bin</code></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>linuxpiper
I built a service availability monitoring system that is now in use by several of the largest banks in the world. All built in Go with a web interface using Revel and MySql backend.</p>
<p>It's been in production for over 7 years and has built in apdex scoring, planned maintenance schedules, notifications (of course), reporting and a whole lot more. It's used by on-call support teams and SREs to monitor mission critical services. Many of them tie it to PagerDuty for on-call rotation schedules / phone notifications.</p>
<p>It was my first professional Go app and Go has proven incredibly stable and fast.</p>
<hr />
<p>asdfasdf666</p>
<p>I'm using Go for building my cross-platform desktop app and writing network-related code for it (pcap). Some REST API server stuff too, related to the app. Go is surprisingly a fantastic language for writing cross-platform desktop apps and low-level networking, and unsurprisingly good for server REST API.</p>
<p>I’m also thinking of moving some backend stuff, mostly payment-oriented code, currently written in NextJS (JS) to a Go microservice for improved safety and stability.</p>
<p>I’m loving Go so far and it has become my tool of choice for most general-purpose stuff. The most important factors for me are productivity and stability, both highly related to Go’s simplicity. Performance is important too, but Go is so fast performance is never a problem (unless writing hard real-time systems). Oh, and writing Go is a blast. Always looking forward to writing in Go, which I cannot say for all other languages.</p>
<p>My app was actually first written in Rust using a popular desktop app framework, but there were just too many problems and development was slow. Slow due to the framework having bugs and lacking features, and writing Rust takes more time in general. I made an alternative PoC in Go and it was a no-brainer for me. Much higher quality frameworks, faster development time and actually more stable product with less bugs. My theory is that since code is most of the time interacting with other systems, the security of Rust doesn’t make that much difference vs. also memory secure languages like Go. And since Go is so simple (read: easy to use) and productive, writing code with Go results in fewer bugs with higher productivity. Love it.</p>
<p>Shoutout to the fantastic cross-platform desktop app framework Wails.</p>
<hr />
<p>scruple</p>
<p>I've recently used it at work for a couple of tightly constrained internal backend services. These projects were a joy to work on. Outside of extending their primary function (adding HTML templates to one, etc.), they've required no maintenance and are humming along nicely, processing ~100k requests per day each.</p>
<p>I've been using it for personal projects, too. It's my opinion that Go is a very good package for web applications. With the embed package you can ship a full web application in a single binary. I'm using SQLite, too. This means that the entire application in my home lab is a single binary and a single database file. Backups are simple, deployments are simple. I also typically end up writing a CLI for these web applications for data entry and exporting.</p>
<p>I'm also co-founder to a small, self-sustaining startup, and I am going to be rewriting some of our backend services in Go over the coming year and change to simplify our system. Those backends are currently written in Ruby (off Rails -- Sinatra and Sequel power the main REST API layer) and Ruby on Rails.</p>
<p>I only wish that I had come around to the language sooner.</p>
<p>edit/ I wanted to add another point for consideration that I don't see discussed frequently. Go makes reproducible builds straightforward. This isn't important for everybody but it is becoming a more desirable trait recently due to notoriety of supply-chain attacks in the NodeJS / npm, etc., world.</p>
<p>On that same topic: I personally use very, very few dependencies in the Go applications that I've written so far. I just haven't had a need, the standard library is giving me practically everything that I need. When I do need to reach for an OSS package, I enjoy the fact projects like alice or pat can afford me a ton of flexibility in how I write my application in such a small, tight package. I can read and trivially understand every single line of code inside of both of these packages and have confidence that they are not doing anything that I don't expect. I can trivially vendor them and ship them around, etc.</p>
<p>edit 2/ I would also mention that the services I introduced at work that are written in Go, entirely new-to-Go team members are the ones who're running the extension of these services. I'm only tapped for code reviews because I had to move onto another project shortly after introducing these services. They're intermediate-level programmers but they've had absolutely no problem stepping into these projects (after a short, 90-minute primer) with the documentation that I generated and then extending them completely on their own. I cannot say the same thing about any other project that I have ever run and I think it's a testament to the simplicity of the Go language, it's tooling, and the ecosystem / community at-large.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="systems-programming"><a class="header" href="#systems-programming">Systems Programming</a></h1>
<p>&quot;No magic&quot;, said Prof. Perkins.</p>
<p>Seems like a dull unfun professor. Nope. He was one of the best professors I took a linux course with and one of the best professors in my college career. What he meant was understand the system at a fundamental level and use whatever resources you could to figure it out.</p>
<p>You don't know something? Google it! He backed up his words by allowing us to use Google on the tests. Make no mistake, the tests were still difficult. Google only helped if you had already prepared beforehand.</p>
<p>His enthusiasm for learning the system has never left me. I've had professors who worked in IT and a lot of certs but then ask them  what a BIOS was and their response was I don't know nor care about that. Whoa, his apathy for such a critical system confused me. I try not to be like that.</p>
<p>Understand the system as fundamentally as practical, and maybe we can do useful things with them.</p>
<p>Low-level programming.</p>
<p>Recommended language: <a href="Programming_Systems/../Programming_Languages/c/README.html">C</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>Linux = preemptive multitasking Operating System</p>
<p>preemptive - the kernel determines which processes to run when (process scheduling)
multitasking - multiple processes can reside in memory, and the kernel decides which process can use the CPU</p>
<div style="break-before: page; page-break-before: always;"></div><p>the os is instructions for the cpu that allows the user to run other instructions(programs) for the cpu</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mutex"><a class="header" href="#mutex">Mutex</a></h1>
<p>see: thread synchronization, multithreading</p>
<p>&quot;Sharing is caring&quot; - Some Kids Show Quote</p>
<p>Threads can share information via global variables, but how can this be a problem?</p>
<p>When multiple threads try to change the resource at the same time (simultaneously). Imagine two people sharing the driving wheel on a car or two people trying to &quot;share&quot; a Nintendo Switch, or two people trying to &quot;share&quot; a toilet at the same time. You get the idea.</p>
<p>In this case, sharing isn't all that great. What do we do?</p>
<p>Mutexes.</p>
<p>&quot;Life is a zero sum game.&quot; - Somebody</p>
<p>mutex = mutual exclusion</p>
<p>We apply mutexes to shared variables that should only be accessed by one thread at a time.</p>
<p>Critical section - Sections of code that asccess a shared resource where executions need  to be <strong>atomic</strong>, i.e. another thread cannot interrupt</p>
<p>A thread obtains the mutex from a shared resource and has a monopoly on it for the duration.</p>
<p>two states</p>
<ul>
<li>lock | unlock</li>
<li>acquired | released</li>
</ul>
<p>A thread owns a mutex when it  locks or acquires the mutex, and loses ownership once it has unlocked or released the mutex.</p>
<p>Algorithm</p>
<ol>
<li>lock the mutex of shared resource</li>
<li>access shared resource</li>
<li>unlock the mutex</li>
</ol>
<p>Now our variables are safe! Great, BUT notice that locking and unlock the mutex are extra instructions the computer must run.</p>
<p>Mutexes have performance costs.</p>
<p>But that may not be the worst cost.</p>
<p>Improper mutex use can lead to deadlock.</p>
<p>Imagine. Two gun enthusiasts head to a shooting range to shoot guns and exercise their 2nd amendment rights. They forget to bring their guns for some reason. The kind folks at the range tell them they can borrow a gun and have some ammo.
They head  to the armory. The gun and ammo are stored separately.
One guy gets the last gun. The other guy gets the last ammo.</p>
<p>They quickly find out that they can't get to their darn shooting because one guy doesn't have ammo and the other doesn't have gun. Being proud Americans, they won't back down. No one is willing to share because they locked their asset. </p>
<p>Whether they know it or not these two folks are now honorary members of the Deadlock gang. Welcome to American politics.</p>
<p>When a thread needs to access two or more different resources locked by different mutexes simultaenously deadlocks can happen.</p>
<p>T1 needs A and B.
T2 needs A and B.</p>
<p>T1 locks A and needs B. T2 locks B and needs A. They'll spend eternity waiting on each other.</p>
<pre><code>
T1--A    I need B you bastard!
  \/
  /\
T2--B    I need A you bastard!

Welcome to the  Deadlock gang. It ain't a pleasant group...
</code></pre>
<p>How to do you get out of this?</p>
<p>The simplest is perhaps a mutex hierarchy.
All Threads must lock mutexes in a well-defined order.</p>
<p>E.g. All threads must acquire Mutex_1 before Mutex_2</p>
<p>Shooting range rules says you got to acquire gun before being allowed to ammo storage.</p>
<p>Or try then back off (or the politeness strategy). If trying to acquire a resource fails, drop everything then wait and try again.</p>
<p>I can't get ammo! My gun is useless. I'll just drop the gun. Wow, you're so kind.</p>
<div style="break-before: page; page-break-before: always;"></div><p>Process</p>
<p>What is a process? </p>
<ul>
<li>instance of executing program</li>
</ul>
<p>program -&gt; CPU -&gt; process</p>
<p>process = CPU.executing(program)</p>
<p>Process</p>
<ul>
<li>the running program has state on cpu( that state trace over time is called a <a href="Programming_Systems/thread.html">thread</a>)</li>
<li>process - executing program
<ul>
<li>executing set of instructions</li>
</ul>
</li>
<li>processes have resources
<ul>
<li>(all threads in a process have same view of memory),file descriptors</li>
</ul>
</li>
<li>process can be seen as resource ownership or scheduling/execution</li>
</ul>
<p>Process State</p>
<ul>
<li>Process can have many <a href="Programming_Systems/thread.html">threads</a></li>
<li>Process can have many execution contexts</li>
<li>Process can have many different CPU register states
<ul>
<li>this means many threads can execute the same program</li>
</ul>
</li>
<li>MEM - a process has virtual address space </li>
<li>The execution of a process follows an execution path (trace) through one or more programs, this execution may be interleaved with that of other processes <a href="Programming_Systems/concurrency/concurrency.html">(concurrency)</a></li>
</ul>
<p>what is a program that is not running?</p>
<ul>
<li>not a process</li>
<li>just some data on the disk</li>
</ul>
<p>from a kernel view</p>
<ul>
<li>processes are entities that consume resources that need to be shared</li>
</ul>
<p>Why are processes important?</p>
<ul>
<li>By the abstractions they provide</li>
<li>Processes allow us to see programs as logical control flow on the CPU</li>
<li>MEM Processes have Private addresses spaces that allow us and the program the illusion of exclusive use of system memory</li>
</ul>
<h3 id="context--state-of-program"><a class="header" href="#context--state-of-program">Context = state of program</a></h3>
<p>Each program in the system runs in the <strong>context</strong> of some process.</p>
<pre><code>Process
    |
____V____
|Context | Context = state
|--------|
|program |
|data    |
|heap    |
|stack   |
----------

</code></pre>
<p>Processes are running programs.</p>
<pre><code>Process send threads/tasks to the CPU to work on.
CPUs can work on one thread at a time, so if many threads come at once, each thread has to  wait / take turns.
             _____________
            |  thread_A1 ~~~~~~~~~~~~~~~
Process_A = |                           \
            |  thread_A2 ~~~~~~~~  \     \
            _____________           \     \
                                     \     \
                                   [CPU_1] [CPU_2]
                                    /       /
            _____________          /       /
            |  thread_B1 ~~~~~~~~ /       /
Process_B = |                            /
            |  thread_B2 ~~~~~~~~~~~~~~~
             _____________
</code></pre>
<pre><code>What it looks like inside the CPU(s)

                
Concurrency                 Concurrency + parallelism
(Single-Core CPU)           (Multi-Core CPU)

[CPU_1]                     [CPU_1]+[CPU_2]
_|__                         _|____/_
|th1|                       |th1|th2|
|   |                       |   |___|                TIME
|___|___                    |   |___                  |
    |th2|                   |___|th2|                 |
 ___|___|                    ___|___|                 |
|th1|                       |th1|                     v
|___|___                    |   |___
    |th2|                   |   |th2|
</code></pre>
<pre><code>More granular look of threads in CPU.


IF thread = state of CPU registers over time THEN

CPU_state = [R1][R2]...[Rn] = Execution Context

thread = Vector of Vector of Registers

CAn = Context of Thread An

               Single-Core CPU                          |                Multi-Core CPU
                    [CPU_1]                             |      [CPU_1]                   [CPU_2]
                                                        |
Thread_A1                                               |      Thread_A1                    Thread_B1
                                                        |
CA1 = [R1][R2]...[Rn]                            TIME   |   CA1 = [R1][R2]...[Rn]     CB1 = [R1][R2]...[Rn]   TIME
CA2 = [R1][R2]...[Rn]                             |     |   CA2 = [R1][R2]...[Rn]     CB2 = [R1][R2]...[Rn]     |
CA3 = [R1][R2]...[Rn]                             |     |   CA3 = [R1][R2]...[Rn]     CB3 = [R1][R2]...[Rn]     |
...                                               |     |   ...                       ...                       |
CAn = [R1][R2]...[Rn]                             v     |   CAn = [R1][R2]...[Rn]     CBn = [R1][R2]...[Rn]     v
                                                        |
                                                        | 
                        Thread_B1                       |
                                                        |
                        CB1 = [R1][R2]...[Rn]     TIME  |
                        CB2 = [R1][R2]...[Rn]      |    |
                        CB3 = [R1][R2]...[Rn]      |    |
                        ...                        |    |
                        CBn = [R1][R2]...[Rn]      v    |

</code></pre>
<pre><code>Multi-Core CPU
IF thread = state of CPU registers over time THEN

CPU_state = [R1][R2]...[Rn] = Execution Context

thread = Vector of Vector of Registers

CAn = Context of Thread An

       [CPU_1]                   [CPU_2]

Thread_A1@[CPU_1]              Thread_B1@[CPU_2]

CA1 = [R1][R2]...[Rn]     CB1 = [R1][R2]...[Rn]   TIME
CA2 = [R1][R2]...[Rn]     CB2 = [R1][R2]...[Rn]     |
CA3 = [R1][R2]...[Rn]     CB3 = [R1][R2]...[Rn]     |
...                       ...                       |
CAn = [R1][R2]...[Rn]     CBn = [R1][R2]...[Rn]     v

</code></pre>
<pre><code>Analogy

kernel = govt
resources = food
processes = citizens
</code></pre>
<pre><code>Context / State 

text \____
----      \
data -------
----        \___ Context, i.e. state of Process
heap -------/ 
----   ____/
stack /


text - instructions of the program
data - static variables used by the program
heap - area where extra memory is dynamically allocated
stack - area that grows and shrinks as functions are called and returned, also to allocate local variables
</code></pre>
<p>process can create other process with fork() <a href="Programming_Systems/system_call.html">system call</a></p>
<p>fork()</p>
<p>program - a set of intruction for a computer to execute</p>
<h4 id="resources"><a class="header" href="#resources">resources</a></h4>
<ul>
<li>cpu time, memory</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="events"><a class="header" href="#events">Events</a></h1>
<h1 id="linux"><a class="header" href="#linux">Linux</a></h1>
<p>Eg! Linux event model</p>
<p>A signal is a notification to a process that event occurred.</p>
<ul>
<li>process can send signals to process
signals can be used as synhcronization primitives, for IPC</li>
</ul>
<pre><code>Process -&gt; signal -&gt; Process (IPC)
</code></pre>
<ul>
<li>usual source of signal is kernel</li>
</ul>
<pre><code>Kernel -&gt; signal -&gt; Process
</code></pre>
<p>IMPL! signals are defined as integers (with symbolic names)</p>
<ul>
<li>NOTE events generate signals</li>
<li>Signals are often described as “software interrupts.”</li>
<li>IF event = interruption
-&gt; linux software interrupts produce events</li>
</ul>
<pre><code>event -&gt; signal -&gt; process
</code></pre>
<p>signal_handler = function</p>
<h1 id="node"><a class="header" href="#node">Node</a></h1>
<p>Eg! Node event model <a href="https://nodejs.org/en/docs/guides/event-loop-timers-and-nexttick">see</a></p>
<p><a href="https://nodejs.org/api/events.html">Much of the Node.js core API is built around an idiomatic asynchronous event-driven architecture in which certain kinds of objects (called &quot;emitters&quot;) emit named events that cause Function objects (&quot;listeners&quot;) to be called.</a></p>
<p><img src="Programming_Systems/nodejs_event_loop_simplified.png" alt="node simplified event loop" /></p>
<pre><code>Eg! Node event loop

Eg! Node.event_handler = listener

                        NODE EVENT LOOP
-- 
--                        loop_________
--                        |            |
--                        |            v
[Emitter] -&gt; event -&gt; [event_queue]-&gt;  event_handler -&gt; [task (a fn() + state) | callback]
--                        ^            |
--                        |__________loop

</code></pre>
<p>NOTE functions with state( <code>fn() + state</code>) are called <a href="Programming_Systems/../Programming/closure.html">closures</a></p>
<p>event_handlers can invoke <a href="Programming_Systems/../Programming/closure.html">closures</a></p>
<pre><code>Events (like HTTP GET request) get queued into event_queue
Event_handler takes the first event and processes based on the task/callback it was mapped to

events produce tasks
tasks get routed/delegated to proper function by a listener/router

A router can be thought of as a map frome event to function pointer
    
    Router
event -&gt; function | callback
event -&gt; function | callback
event -&gt; function | callback

Router(event, callback) -&gt; Promise

Is this what is meant by node's single threaded async?
Th= [ta3,ta2,ta1]

</code></pre>
<h1 id="c-2"><a class="header" href="#c-2">C#</a></h1>
<p>Eg! <a href="https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/events/">C# event - enable class or object to notify when something of interest occurs</a></p>
<pre><code>C# Event Model

Class RAISE  EVENT = PUBLISHER

Class HANDLE EVENT = SUBSCRIBER


PUBLISHER --RAISE-&gt; EVENT -&gt; HANDLE--SUBSCRIBER
</code></pre>
<h1 id="smapi"><a class="header" href="#smapi">SMAPI</a></h1>
<p>Eg! <a href="https://stardewvalleywiki.com/Modding:Modder_Guide/APIs/Events">Stardew modding events</a></p>
<div style="break-before: page; page-break-before: always;"></div><p><a href="https://stackoverflow.com/questions/12966180/why-is-a-kernel-called-a-kernel">where does the name kernel come from?</a></p>
<p>kernel = nucleus = seed = core</p>
<p>the kernel is very important</p>
<p>in our case we will refer to the  kernel as an os</p>
<pre><code>os = kernel
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="green-thread-virtual-thread"><a class="header" href="#green-thread-virtual-thread">Green Thread (virtual thread)</a></h1>
<p>threads not handled natively by the OS but by a VM or runtime library</p>
<p>green threads can allow multithraeading in environments that do not have native thread support</p>
<ul>
<li><a href="https://docs.rs/tokio/latest/tokio/task/">rust task</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="cpu-speeds"><a class="header" href="#cpu-speeds">CPU Speeds</a></h2>
<p>typical cpu clock rate = 2.4 GHz = 2.4 * 10^9 Hz = 2.4E9 Hz</p>
<p>2.4E9 CPU clock cycles/ 1 sec = 2.4E9 clock cycles / 1E9 ns</p>
<p>Typical operation timings <a href="https://norvig.com/21-days.html">src</a></p>
<h2 id="memory-access"><a class="header" href="#memory-access">Memory Access</a></h2>
<ul>
<li>fetch RAM is measured in nano seconds</li>
<li>fetch disk is measured in milliseconds</li>
</ul>
<p>lesson: if performance is critical use an in-memory store like <a href="https://redis.io/">redis</a></p>
<p>1 s = 1e9 ns</p>
<div class="table-wrapper"><table><thead><tr><th>Operation</th><th>Time (ns)</th></tr></thead><tbody>
<tr><td>execute typical instruction</td><td>1 ns</td></tr>
<tr><td>fetch(L1)</td><td>0.5 ns</td></tr>
<tr><td>branch misprediction</td><td>5 ns</td></tr>
<tr><td>fetch L2</td><td>7 ns</td></tr>
<tr><td>mutex (un)lock</td><td>25 ns</td></tr>
<tr><td>fetch main memory</td><td>100 ns</td></tr>
<tr><td>send 2K bytes over 1Gbps network</td><td>20,000 ns</td></tr>
<tr><td>read 1MB sequentially from memory</td><td>250,000 ns  (.25 ms)</td></tr>
<tr><td>fetch from new disk location</td><td>8,000,000 ns (8 ms)</td></tr>
<tr><td>typical game frame @ 60 fps</td><td>16 ms</td></tr>
<tr><td>send packet from US to Europe and back</td><td>150,000,000 ns ( 150 ms )</td></tr>
</tbody></table>
</div>
<h4 id="1-intel-cpu-clock-speed-overview"><a class="header" href="#1-intel-cpu-clock-speed-overview">1: <a href="https://www.intel.com/content/www/us/en/gaming/resources/cpu-clock-speed.html">Intel CPU Clock Speed overview</a></a></h4>
<h4 id="2-pc-operation-timings"><a class="header" href="#2-pc-operation-timings">2: <a href="https://norvig.com/21-days.html">PC Operation timings</a></a></h4>
<p>Example Calculations</p>
<ul>
<li><code>2.4 billion clock cycles / sec = 2,400,000,000 cycles / sec = 2.4 clock cycles / ns</code></li>
</ul>
<p>clock cycles to execute typical instruction:
<code>1 ns * 2.4 clock cycles /ns = 2.4 cpu cycles</code></p>
<p>C = cpu_cyle</p>
<div class="table-wrapper"><table><thead><tr><th>Operation</th><th>Clock cycles</th></tr></thead><tbody>
<tr><td>fetch L1</td><td><code>0.5 ns * 2.4 cycles/ns = 1.2 cpu cycles</code></td></tr>
<tr><td>branch misprediction</td><td><code>7 ns * 2.4 cycles/ns = 15.4 cpu cycles</code></td></tr>
<tr><td>fetch from main memory</td><td><code>100 ns * 2.4 cycles/ns = 240 cpu cycles</code></td></tr>
</tbody></table>
</div>
<p>see: https://stackoverflow.com/questions/1371400/how-much-faster-is-the-memory-usually-than-the-disk</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="async-vs-concurrency-vs-parallelism"><a class="header" href="#async-vs-concurrency-vs-parallelism">Async vs Concurrency vs Parallelism</a></h2>
<p><a href="Programming_Systems/process.html">what is a process?</a></p>
<p>Normal programs run things sequentially (synchronously) i.e. blocking. </p>
<p>Once you start you must finish so others must wait for you i.e. blocking.</p>
<pre><code>## Synchronous Program Execution  ##

P{1,2,3} are Processes

Process that start first will finish first
CPU executes thread of process

n = thread_n, e.g. 1 = thread_1

P1
   \    
P2 --&gt;  3 3 3 3 2 2 2 2 1 1 1  [CPU_1]
   /
P3

</code></pre>
<pre><code>A async -&gt; concurrency
B concurrency -&gt; async

A &amp; B
concurrency &lt;-&gt; async

Does async imply concurrency? yes

if there is async there is concurrency

if there is concurrency there is async
</code></pre>
<p>async allows tasks to be executed concurrently</p>
<p>concurrent programming is a technique in which two or more processes start, run in an interleaved fashion through context switching</p>
<p>concurrency is the ability of different parts or units of a program, algorithm, or problem to be executed out-of-order</p>
<p>This out-of-order execution allows functions to be non-blocking. You can start a process, pause it, do something else, then come back to it. If you're taking too long the manager can delay your execution and allow someone else to take a turn. Other tasks are not 'blocked' by the current task.</p>
<p>NOTE how this involves the program having to remember where it was so it could come back</p>
<p><img src="Programming_Systems/concurrency_example_00.png" alt="concurrency_example_local" />
<img src="https://stackoverflow.com/questions/1050222/what-is-the-difference-between-concurrency-and-parallelism" alt="concurrency_example_web" /></p>
<pre><code>WARN! concurrency is distinct from parallelism

i.e. concurrent != parallel

BOTH involve task and time.

BUT 
concurrent -&gt; out of order
parallelism -&gt; simultaneous 

A program that can run tasks out-of-order does not have to run them simultaneously. 
In fact, simultaneous/parallel execution would be impossible on a single-core cpu which only allows 1 thread to run at a time. 

SO
1 cpu -&gt; concurrency ? yes
1 cpu -&gt; parallelism ? no

For parallelism there needs to be at least 2 cpus.
</code></pre>
<p>Concurrency is about multiple tasks which start, run, and complete in overlapping <strong>time periods</strong>, in no specific order. Parallelism is about multiple tasks or subtasks of the same task that literally run at the <strong>same time</strong> on a hardware with multiple computing resources like multi-core processor.</p>
<pre><code>concurrency -&gt; parallelism? no

multiple processes can run on one thread

Async example

Every thread runs on a separate cpu in a multicore cpu.

Pn = thread n

n = job/task n

concurrent - yes ( 1 3 2 )
parallel - no (1 cpu)

P1
   \                      t_begin       t_end
P2 ---&gt; [CPU_1] RUN thread 1 -&gt; 1 3 2 1 3 2 2 3 1 2 
   /
P3
</code></pre>
<pre><code>concurrency = time period [t1..t2] -&gt; interval
parallelism = exact time [t1] -&gt; slice
</code></pre>
<pre><code>parallelism -&gt; concurrency? no

Does parallelism imply concurrency? No

each process get there own thread and never have to run asynchronously so no concurrency exists in this context

concurrent - no
parallel - no

P1 -&gt; thread1 -&gt;[CPU_1] 1 1 1 1 1 1 1 1 

P2 -&gt; thread2 -&gt;[CPU_2] 2 2 2 2 2 2 2 2

P3 -&gt; thread3 -&gt;[CPU_3] 3 3 3 3 3 3 3 3
</code></pre>
<pre><code>concurrent - no
parallel - yes

P1 -&gt; thread1 -&gt;[CPU_1] 1 1 1 1 1 1 1 1 

P2 -&gt; thread2 -&gt;[CPU_2] 1 1 1 1 1 1 1 1 

P3 -&gt; thread3 -&gt;[CPU_3] 1 1 1 1 1 1 1 1 

</code></pre>
<pre><code>concurrent - yes
parallel - yes

P1 -&gt; thread1 -&gt; [CPU_1]1 1 1 1 1 1 1 1 1

P2 -&gt; thread2 -&gt; [CPU_2]2 3 1 2 3 1 2 3 1 &lt;-- concurrent / async

P3 -&gt; thread3 -&gt; [CPU_3]1 1 1 1 1 1 1 1 1
                     ^     ^     ^  
                     |_____|_____|_____ parallel
</code></pre>
<p>see: </p>
<ul>
<li><a href="https://stackoverflow.com/questions/5201852/what-is-a-thread-really">what is a thread?</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>terminal - ui - text input/output</p>
<ul>
<li>terminal runs shell</li>
<li>e.g. Gnome Terminal, Windows Terminal</li>
</ul>
<p>shell - command line interpreter</p>
<ul>
<li>e.g. Bash, Powershell, Python</li>
</ul>
<p>NOTE! there is a division of labor</p>
<pre><code>  user
key   text
       ^
|      |
V
 terminal (key-&gt; control sequence)
   ---
shell (job control) (control sequences -&gt; commands)

</code></pre>
<p>see</p>
<ul>
<li>https://askubuntu.com/questions/506510/what-is-the-difference-between-terminal-console-shell-and-command-line</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="socket"><a class="header" href="#socket">Socket</a></h1>
<p>sockets allow communication</p>
<ul>
<li>between what?</li>
</ul>
<p>applications, processes</p>
<p>client-server</p>
<pre><code>client --[SOCK] &lt;--&gt; [SOCK]-- server
</code></pre>
<p>Sockets exists in communication domains</p>
<ul>
<li>UNIX</li>
<li>Internet (INET)</li>
</ul>
<p>AF=Address_Family
Domain | between apps on |
--- | ---
AF_UNIX = UNIX_Domain_Socket | same host
AF_INET= UNIX_IPV4 | hosts on an IPV4 network
AF_INET6 = UNIX_IPV4 | hosts on an IPV4 network</p>
<h3 id="streamno-boundaries"><a class="header" href="#streamno-boundaries">Stream(no boundaries)</a></h3>
<p>Stream socket</p>
<p>byte-stream - no concept of message boundaries</p>
<pre><code>&gt;&gt; ByteByteByteByteByteByteByteByteByte &gt;&gt; 

&lt;&lt; ByteByteByteByteByteByteByteByteByte &lt;&lt;

NOTE how there's no separation between the data
</code></pre>
<ul>
<li>connection</li>
</ul>
<pre><code>SOCKET_A - [bytestream] -SOCKET_B

1 socket must connect to another socket
</code></pre>
<p>TIP! streams can be <a href="https://tokio.rs/tokio/tutorial/framing">framed</a>. Framing is the process of taking a byte stream and converting it to a stream of frames </p>
<h3 id="datagram-frames"><a class="header" href="#datagram-frames">Datagram (frames)</a></h3>
<p>Datagram socket - data is exchanged in the form of messages called datagrams, datagrams have message boundaries</p>
<pre><code>| datagram | datagram | datagram |
</code></pre>
<ul>
<li>connectionless, no need to connect to another socket</li>
<li>NOTE the sender needs to know the destination address to send the datagram, but its needs <strong>no connection</strong> to it</li>
<li>just think of it as a catapult that lobs it's &quot;message&quot; to its intended recipient, or a missile launcher sending it's &quot;message&quot; towards its destination</li>
</ul>
<pre><code>SOCKET_A &gt;&gt; [datagram]
</code></pre>
<pre><code>AF=Address_Family
AI=Address_Info
SOCK=socket
EAI=Error_Address_Info

Context
Code
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tasks-and-jobs"><a class="header" href="#tasks-and-jobs">Tasks and Jobs</a></h1>
<p>Processes are well defined, but tasks and jobs are ambiguous. We'll  try to make it more defined here.</p>
<h2 id="task"><a class="header" href="#task">Task</a></h2>
<p>A task is an executed function.</p>
<p>task = <code>fn() + state</code></p>
<ul>
<li>task = function</li>
<li>thread = state</li>
</ul>
<p>task</p>
<pre><code>    a unit of work
    future or promise
    something you want done
    asynchrony is about tasks -eric lippert
</code></pre>
<p>event = interruption</p>
<pre><code>Eg! Node event loop

What do tasks look like in the context of the Node event loop.
                                            
Eg! Node.event_handler = listener          
                                            
--                                         
--                        loop_________        ------ tasks are functions!
--                        |            |      /
--                        |            v      v
event -&gt; [event_queue]-&gt;  event_handler -&gt; [task (a fn() + state) | callback]
--                        ^            |
--                        |__________loop


Events (like HTTP GET request) get queued into event_queue
Event_handler takes the first event and processes based on the task/callback it was mapped to

events produce tasks
tasks get routed/delegated to proper function by a listener/router

A router can be thought of as a map frome event to function pointer
    
    Router
event -&gt; function | callback
event -&gt; function | callback
event -&gt; function | callback

Router(event, callback) -&gt; Promise

Is this what is meant by node's single threaded async?
Th= [ta3,ta2,ta1]
</code></pre>
<p>NOTE functions with state( <code>fn() + state</code>) are called <a href="Programming_Systems/../Programming/closure.html">closures</a></p>
<p>event_handlers can invoke <a href="Programming_Systems/../Programming/closure.html">closures</a></p>
<p><a href="Programming_Systems/thread.html">thread</a></p>
<pre><code>    threads fulfill tasks
    threads do work
    threading is about workers - eric lippert
    a way of fulfilling that promise
    one of possibly many workers performing that task
</code></pre>
<h2 id="job"><a class="header" href="#job">Job</a></h2>
<p>job = process group</p>
<pre><code>process(P) = [th1, th2, th3,...]
job = [P1, P2, P3,...]

J1 = [P11, P12, P13,...]
J2 = [P21, P22, P23,...]
J3 = [P31, P32, P33,...]

session = group of jobs = [ J1, J2, J3,...]
</code></pre>
<h1 id="jobs-vs-task"><a class="header" href="#jobs-vs-task">jobs vs task</a></h1>
<p>job = set of processes</p>
<p>task = process | thread | unit of work</p>
<p>a task(t) can be thought of as a unit of execution within a job</p>
<pre><code>JOB = [t1,t2,t3,...,tn]
</code></pre>
<p><a href="https://stackoverflow.com/questions/34680985/what-is-the-difference-between-asynchronous-programming-and-multithreading">difference between async and multithreading</a></p>
<p><a href="https://chromium.googlesource.com/chromium/src/+/main/docs/threading_and_tasks.md">task(chromium) - a unit of work ( a function pointer and some state )</a></p>
<p><a href="https://stackoverflow.com/questions/3073948/job-task-and-process-whats-the-difference">task vs job</a></p>
<p><a href="https://www.baeldung.com/cs/job-vs-task-vs-process">task vs job - baeldung</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>multi-threading = parallel processing</p>
<p>https://www.reddit.com/r/explainlikeimfive/comments/sw6c1k/eli5_what_is_multithreading_and_why_is_is/</p>
<p>https://www.reddit.com/r/explainlikeimfive/comments/sw6c1k/comment/hxk9cpn/?utm_source=share&amp;utm_medium=web2x&amp;context=3</p>
<pre><code>Multithreading is a modern buzzword for parallel processing in general. Parallel processing is when a computer executes multiple instructions at once, instead of just a single instruction one by one. A thread is a term used to describe an abstract thing executing instructions on the computer. Core is another term that refers to a physical component within the processor. A thread can be stopped and continued by the operating system at will and executed on any core, so the difference is basically that a thread is detached from being a physical component so theres more freedom for the operating system to decide when and where it runs. That's where the term multithreading comes from, using multiple threads to do computations.

The reason its faster is that somethings can be done at the same time, which is faster in terms of time, although it takes just as much resources, you're just distributing the work to many threads that can each individually do computations at the same time. Imagine for example that I want to sum the numbers from 1 to 100. I could do this by adding 1 and 2, then 3 to the result of that, then 4 to the result of that and so on. This would take me 100 calculations. However if you help me, i can sum the numbers from 1 to 50, and sum from 51 to 100. That'll only take each of us 50 calculations. Then we add both of our results together and get the final result. Now instead of me doing 100 calculations, we managed to do it with just 50 calculations each, and one more at the end. Therefore we actually used more resources (101 calculations total as opposed to 100), but in terms of time we were almost twice as fast if we assume that each addition takes the same time
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>Process vs Thread</p>
<pre><code>We treated process as both resource and task:
process as resource
process as schedule/execution



resources and tasks are distinct so we need to refine the model

process as resource (task as resource)
thread as (path of execution)


[1] process as unit of resource allocation
    - virtual address space holds process image(see docker_image)
[2] process as unit of resource protection
    - processes are associated with protected access to processors, other process(IPC), files, IO resources(/dev and channels)

Within the process:

thread has 
context:
- execution state (Running, Ready, etc.)
- thread context - one way to see this is as an independent program counter within a process
- execution stack
- per-thread static storage for local variable
- access to memory and resource of process


     PROCESS
-----------------
|    th1        |
|      context  |
|    th2        |
|      context  |
|    th3        |
|      context  |
---------------
</code></pre>
<p>Thread construct is also useful on a single processor to simplify the structure of a program that is logically doing many different functions.</p>
<p>the threading model can help you modularize your code</p>
<pre><code>What it looks like inside the CPU(s)

                
Concurrency                 Concurrency + parallelism
(Single-Core CPU)           (Multi-Core CPU)

[CPU_1]                     [CPU_1]+[CPU_2]
_|__                         _|____/_
|th1|                       |th1|th2|
|   |                       |   |___|                TIME
|___|___                    |   |___                  |
    |th2|                   |___|th2|                 |
 ___|___|                    ___|___|                 |
|th1|                       |th1|                     v
|___|___                    |   |___
    |th2|                   |   |th2|
</code></pre>
<p>see: OS Internal and Design Principles</p>
<p>Chromium defined task as a unit of work</p>
<p><a href="https://chromium.googlesource.com/chromium/src/+/main/docs/threading_and_tasks.md">task(chromium) - a unit of work</a></p>
<p>docker_image - A Docker image is a file used to execute code in a Docker container. Docker images act as a set of instructions to build a Docker container, like a template</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="thread-of-process"><a class="header" href="#thread-of-process">Thread (of Process)</a></h2>
<p>see: https://stackoverflow.com/questions/5201852/what-is-a-thread-really</p>
<p>Thread</p>
<ul>
<li>execution context (information a CPU needs to execute a stream of instructions)</li>
<li>thread - path of execution</li>
<li>thread = state of CPU registers</li>
<li>thread - independent program counter [PC] within a process</li>
<li>imperative running programs that run concurrently and share a memory space</li>
<li>lightweight process</li>
<li><a href="Programming_Systems/process.html">processes</a> can be made of N threads, where N =&lt; 1</li>
</ul>
<pre><code>    PROCESS
    -----
   | th1 |
   | th2 |
   | th3 |
   | th4 |
    -----
</code></pre>
<ul>
<li>threads can be thought of as sequence of <a href="Programming_Systems/task.html">tasks</a></li>
</ul>
<pre><code>thread = [TASK,TASK,TASK]
</code></pre>
<p>virtual thread = <a href="https://en.wikipedia.org/wiki/Green_thread">green_thread</a></p>
<ul>
<li>IMPL With Intel hyper-threading, the CPU can expose two(2) executon contexts per physical core so one core can run two threads.</li>
<li>IMPL modern CPUS like the i7 7700 can have 16 general purpose registers / core -&gt; 16*4 , at least 64 registers in a 4-core</li>
</ul>
<pre><code>Intel Hyper-Threading

             thread_1       thread_2
                |               |
                V               V
[core1] = [logical_core1, logical_core2] (2 execution contexts)

</code></pre>
<pre><code>    PROCESS
-------------------
|th1, th2, th3,...| 
|Shared Resources | --&gt; CPU
|                 |
-------------------
Shared Resources = code,  data, OS_resources(file descriptors, signals)
</code></pre>
<pre><code>CPU_state = [R1][R2]...[Rn] = Execution Context

thread = Vector of Vector of Registers

Thread_A1

CA1 = [R1][R2]...[Rn]     TIME
CA2 = [R1][R2]...[Rn]      |
CA3 = [R1][R2]...[Rn]      |
...                        |
CAn = [R1][R2]...[Rn]      v
                            \___________________
                                                \
                        Thread_A2                \
                                                  \
                        C1 = [R1][R2]...[Rn]     TIME
                        C2 = [R1][R2]...[Rn]      |
                        C3 = [R1][R2]...[Rn]      |
                        ...                       |
                        Cn = [R1][R2]...[Rn]      v

</code></pre>
<p>DIFF </p>
<ul>
<li>Thread = context of excution = state of CPU registers</li>
<li>Process is a bunch of resources associated w/ computation.</li>
<li>Processes can have many threads</li>
</ul>
<p>thread - unit of dispatching/ execution
thread - a relatively lightweight way to implement multiple paths of execution inside an application - Apple Developer</p>
<h2 id="threading-optimizations"><a class="header" href="#threading-optimizations">Threading Optimizations</a></h2>
<h3 id="multithreading"><a class="header" href="#multithreading"><a href="https://stackoverflow.com/questions/3780024/what-is-multithreading">Multithreading</a></a></h3>
<p>Why multithreading? </p>
<p>Multithreading can facilitate better code organization and modularity by dividing complex tasks into smaller, manageable units of execution.</p>
<p>Increases speed of programs by distributing threads over many CPUs. Many CPUs can work on each thread in parallel(simultaneously). Increase CPU efficiency, a CPU that waits is a wasted CPU.</p>
<p>This explains why it's useful to be able to think of a process with many threads. You can distribute each thread to the CPU.</p>
<p>multi(threading) - os can support multiple, concurrent paths of execution within a single process</p>
<p>thread -&gt; path of execution</p>
<p><a href="https://stackoverflow.com/questions/34680985/what-is-the-difference-between-asynchronous-programming-and-multithreading">async vs multithreading</a></p>
<h3 id="thread-pools"><a class="header" href="#thread-pools"><a href="https://softwareengineering.stackexchange.com/questions/173575/what-is-a-thread-pool">Thread Pools</a></a></h3>
<p>Why make thread pool?</p>
<p>Creating pre-defined of threads saves you overhead of constantly creating and removing them.</p>
<p>A thread pool is a group of pre-instantiated, idle threads which stand ready to be given work. 
see</p>
<p><a href="https://doc.rust-lang.org/book/ch20-02-multithreaded.html#improving-throughput-with-a-thread-pool">Rust HTTP Server Thread Pool example</a></p>
<p>see also:</p>
<ul>
<li>
<p><a href="Programming_Systems/process.html">process</a></p>
<p>process - executing program
process group - job - unit of work
task - unit of execution within a job
job = task1, task2, ..., taskn
session - collection of process group(job) - a group of a group of processes</p>
</li>
</ul>
<h2 id="task-vs-thread"><a class="header" href="#task-vs-thread">Task vs Thread</a></h2>
<p>What is a task?</p>
<p>chromium- A unit of work to be processed (a function pointer with optionally assocated state) <a href="https://chromium.googlesource.com/chromium/src/+/main/docs/threading_and_tasks.md">see</a></p>
<p>Tokio can run many tasks concurrently on a single thread <a href="https://tokio.rs/tokio/tutorial/spawning">concurrency</a></p>
<p>Is this what is meant by node's single threaded async being performant?</p>
<p>see:</p>
<ul>
<li>Guitar Hero</li>
</ul>
<pre><code>

</code></pre>
<ul>
<li>Factorio</li>
</ul>
<pre><code>transport_belt (&gt;) = thread
item (n)           = task
inserter (INS)       = cpu

1&gt;&gt;&gt;1&gt;&gt;&gt;1&gt; |[INS]&gt;

&gt;&gt;&gt;&gt;1&gt;&gt;&gt;&gt;&gt; |[INS]&gt;

2&gt;&gt;&gt;&gt;&gt;&gt;&gt;3&gt; |[INS]&gt;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>dependencies:</p>
<ul>
<li><a href="Programming_Systems/kernel.html">kernel</a></li>
<li><a href="Programming_Systems/process.html">process</a></li>
</ul>
<p>A system call is a controlled entry point into the kernel, allowing a process to
request that the kernel perform some action on the process’s behalf.</p>
<p>WARN! even for a simple system call, quite a bit of work must be done, and thus
system calls have a small but appreciable overhead.</p>
<pre><code>
the kernel provides a software layer to manage the limited resources of a computer

kernel - central software that allocated resources(i.e. CPU, RAM, devices)
process - instance of an executing program

kernel &lt;--[API] -- process

process: hey, kernel I need you to do something for me

kernel: the things I can do are listed on my API

kernel.API
    - create new process
    - perform I/O
    - create pipes for IPC (interprocess commmunication)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>Remember, await does not mean &quot;run this code asynchronously&quot;. The code is already running asynchronously by the time the await is reached! Await means &quot;I can't go on until this task is complete, so do something else while you're waiting&quot;.</p>
<p><a href="https://www.reddit.com/r/learnprogramming/comments/11wewfa/nodejs_how_does_node_achieve_async_behavior/">how does node achieve async behavior?</a></p>
<p><a href="https://nodejs.org/en/docs/guides/event-loop-timers-and-nexttick">how does node event loop work?</a></p>
<p><a href="https://tokio.rs">Rust async runtime - tokio</a></p>
<p>Deno uses <a href="https://tokio.rs">tokio</a> in various manners, primarily for:</p>
<ol>
<li>creating <a href="Programming_Systems/green_thread.html">green threads</a></li>
<li>extending Tokio's async capabilities to user space</li>
</ol>
<pre><code>I/O
timer
synchronization
scheduling
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><p>I await your promise to resolve.</p>
<p>await basically forces async functions to come back in the right order</p>
<p>etymology
wait is a verb
e.g. he waits is valid
await is a transitive and requires an object
e.g. <code>he waits</code> is valid, but <code>he awaits</code> is not valid because you need an object to use it
e.g. <code>he awaits a bus</code> is valid</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="async-concurrency-parallelism"><a class="header" href="#async-concurrency-parallelism">Async Concurrency Parallelism</a></h1>
<pre><code>Designing correct routines for controlling concurrent activities proved to  be one of the most difficult aspects of systems programming...
- The Computer Science and Engineering Research Study, MIT Press, 1980
</code></pre>
<p>WARN! Concurrency is hard. Do not get discouraged.</p>
<p>Concurrency - excecution of multiple tasks is interleaved</p>
<p>Can you have sync with concurrency?
yes, but it would be waste of cpu cyles
th1(task 1), th2(task 1)</p>
<p>Can you have async without concurrency?</p>
<p>Let's break this down</p>
<p>Async means - you can have tasks that can be split into subtasks that can be run in any order</p>
<p>Concurrent means you need many threads making progress.</p>
<p>Can you have async on a single thread making progress?
Yes</p>
<p>By this definition yes, you can have async without concurrency.</p>
<p>Async code <em>can</em> run concurrently.</p>
<p>task</p>
<ul>
<li>a unit of work </li>
<li>future or promise</li>
<li>something you want done</li>
<li>asynchrony is about tasks -eric lippert</li>
</ul>
<p>thread</p>
<ul>
<li>threads fulfill tasks</li>
<li>threads do work</li>
<li>threading is about workers - eric lippert</li>
<li>a way of fulfilling that promise</li>
<li>one of possibly many workers performing that task</li>
</ul>
<p>Can concurrency happen on a single core processor?</p>
<ul>
<li>Yes</li>
<li>The cpu can context-switch and progress many threads</li>
</ul>
<p>Can parallelism happen on a single core processor?</p>
<ul>
<li>No</li>
<li>Parallelism requires simultaneity</li>
</ul>
<p>Concurrency does not imply parallelism.
Parallelism fulfills the condition of concurrency.</p>
<p>This implies that Concurrency and parallelism are not the same even though they are intimately related.</p>
<pre><code>Concurrency                 Concurrency + parallelism
(Single-Core CPU)           (Multi-Core CPU)
 ___                         ___ ___
|th1|                       |th1|th2|
|   |                       |   |___|
|___|___                    |   |___
    |th2|                   |___|th2|
 ___|___|                    ___|___|
|th1|                       |th1|
|___|___                    |   |___
    |th2|                   |   |th2|
</code></pre>
<p>credit: stackoverflow: Phitikos</p>
<p>It just means being able to break a program into multiple parts and re-ordering them arbitrarily</p>
<ul>
<li>stackoverflow: aderchox</li>
</ul>
<p>In the context of programming, concurrency is the ability of your code to be &quot;composed&quot; into bits of logic that could be run at the same time. Parallelism (when combined with concurrency) is taking said code and running it on a 100-core machine. - stackoverflow:Frank Radocaj</p>
<p>concurrency - juggler juggling many balls with 1 hand (SO:bigtunacan)
parallelism - juggling many balls wih multiple (2) ands
SO:Thomas T</p>
<p>Sun's multithreaded programming guide</p>
<ul>
<li>concurrency - a condition that exists when at least two threads are making progress</li>
<li>parallelism - many threads are executing simultaneously</li>
</ul>
<p>Does async mean non-blocking?</p>
<ul>
<li>not necessarily, async means out-of-order</li>
<li>the programmer <em>can</em> implement non_blocking behavior my making the program run out of order, async by itself does not imply non-blocking behavior</li>
<li>async -&gt; non-blocking = false</li>
</ul>
<p><img src="Programming_Systems/concurrency/../prog.thread/thread-000.png" alt="threading" /></p>
<h2 id="process-thread"><a class="header" href="#process-thread">Process Thread</a></h2>
<p>program - a set of intruction for a computer to execute</p>
<p>process is an instance of an executing program</p>
<ul>
<li>process - executing program
<ul>
<li>executing set of instructions</li>
</ul>
</li>
<li>process have resources (separate memory page(all threads in a process have same view of memory),file descriptors)</li>
<li>process can be seen as resource ownership or scheduling/execution [1]</li>
<li>each process can have many threads
<ul>
<li>each process can have many execution contexts
<ul>
<li>each process can have many different CPU register states</li>
</ul>
</li>
</ul>
</li>
<li>this means many thread can execute the same program</li>
<li>a process has virtual address space [1]</li>
<li>The execution of a process follows an execution path(trace) through one or more programs, this execution may be interleaved with that of other processes [1]</li>
</ul>
<p>thread - execution context
execution context - information a CPU needs to execute a stream of instructions</p>
<ul>
<li>execution context consists of the values of a CPU's registers</li>
<li>execution context - state of CPU's registers
thread - unit of dispatching or lightweight process
thread - a relatively lightweight way to implement multiple paths of execution inside an application, Apple Developer
multi(threading) - os can support multiple, concurrent paths of execution within a single process</li>
</ul>
<h2 id="process-task-job-session"><a class="header" href="#process-task-job-session">Process Task Job Session</a></h2>
<ul>
<li>process - executing program</li>
<li>process group - job - unit of work</li>
<li>task - unit of execution within a job</li>
<li>job = task1, task2, ..., taskn</li>
<li>session - collection of process group(job) - a group of a group of processes</li>
</ul>
<p>the basic difference between a thread and process (and really the most important difference) </p>
<ul>
<li>is that two or more threads can share the same spaces in memory, i.e use the same resources, </li>
<li>whereas two processes must exist in different memory spaces. Does that make sense? – 
SO:Ikechukwu Anude</li>
</ul>
<h2 id="where-do-callbacks-fit-into-this"><a class="header" href="#where-do-callbacks-fit-into-this">Where do callbacks fit into this?</a></h2>
<p>So it's not running on a background thread, but it also doesn't block. This is possible due to asynchronous API's which use callbacks instead of juggling with threads. You initiate an (I/O, socket, ..) operation and return to doing your things. When the operation is done, the OS will invoke the callback. This is what Node.js or the Python Twisted framework does and they have some nice explanation, too. – 
Roman Plášil [2]</p>
<p>callback function - A callback function is a function passed into another function as an argument, which is then invoked inside the outer function to complete some kind of routine or action.</p>
<ul>
<li>synchronous callback - function executed immediately</li>
<li>asynchronous callback - used to continue code execution after an async operation is done, good example are callback functions excuted inside .then() block put on end of promise after the promise fulfills or rejects</li>
</ul>
<p>callbacks are used to implement state machines</p>
<p>state machines are used to implemtn asynchronous functions</p>
<p>When using <code>async</code> and <code>await</code> the compiler generates a state machine in the background. [2]</p>
<p>src</p>
<ul>
<li>[1](Operating System Internal and Design Principles)</li>
<li><a href="https://stackoverflow.com/questions/14455293/how-and-when-to-use-async-and-await">2</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="async-concurrency-parallelism-1"><a class="header" href="#async-concurrency-parallelism-1">Async Concurrency Parallelism</a></h1>
<p>Concurrency - excecution of multiple tasks is interleaved</p>
<p>Can you have sync with concurrency?
yes, but it would be waste of cpu cyles
th1(task 1), th2(task 1)</p>
<p>Can you have async without concurrency?</p>
<p>Let's break this down</p>
<p>Async means - you can have tasks that can be split into subtasks that can be run in any order</p>
<p>Concurrent means you need many threads making progress.</p>
<p>Can you have async on a single thread making progress?
Yes</p>
<p>By this definition yes, you can have async without concurrency.</p>
<p>Async code <em>can</em> run concurrently.</p>
<p>task</p>
<ul>
<li>a unit of work </li>
<li>future or promise</li>
<li>something you want done</li>
<li>asynchrony is about tasks -eric lippert</li>
</ul>
<p>thread</p>
<ul>
<li>threads fulfill tasks</li>
<li>threads do work</li>
<li>threading is about workers - eric lippert</li>
<li>a way of fulfilling that promise</li>
<li>one of possibly many workers performing that task</li>
</ul>
<p>Can concurrency happen on a single core processor?</p>
<ul>
<li>Yes</li>
<li>The cpu can context-switch and progress many threads</li>
</ul>
<p>Can parallelism happen on a single core processor?</p>
<ul>
<li>No</li>
<li>Parallelism requires simultaneity</li>
</ul>
<p>Concurrency does not imply parallelism.
Parallelism fulfills the condition of concurrency.</p>
<p>This implies that Concurrency and parallelism are not the same even though they are intimately related.</p>
<pre><code>Concurrency                 Concurrency + parallelism
(Single-Core CPU)           (Multi-Core CPU)
 ___                         ___ ___
|th1|                       |th1|th2|
|   |                       |   |___|
|___|___                    |   |___
    |th2|                   |___|th2|
 ___|___|                    ___|___|
|th1|                       |th1|
|___|___                    |   |___
    |th2|                   |   |th2|
</code></pre>
<p>credit: stackoverflow: Phitikos</p>
<p>It just means being able to break a program into multiple parts and re-ordering them arbitrarily</p>
<ul>
<li>stackoverflow: aderchox</li>
</ul>
<p>In the context of programming, concurrency is the ability of your code to be &quot;composed&quot; into bits of logic that could be run at the same time. Parallelism (when combined with concurrency) is taking said code and running it on a 100-core machine. - stackoverflow:Frank Radocaj</p>
<p>concurrency - juggler juggling many balls with 1 hand (SO:bigtunacan)
parallelism - juggling many balls wih multiple (2) ands
SO:Thomas T</p>
<p>Sun's multithreaded programming guide</p>
<ul>
<li>concurrency - a condition that exists when at least two threads are making progress</li>
<li>parallelism - many threads are executing simultaneously</li>
</ul>
<p>Does async mean non-blocking?</p>
<ul>
<li>not necessarily, async means out-of-order</li>
<li>the programmer <em>can</em> implement non_blocking behavior my making the program run out of order, async by itself does not imply non-blocking behavior</li>
<li>async -&gt; non-blocking = false</li>
</ul>
<h2 id="process-thread-1"><a class="header" href="#process-thread-1">Process Thread</a></h2>
<p>program - a set of intruction for a computer to execute</p>
<p>process is an instance of an executing program</p>
<ul>
<li>process - executing program
<ul>
<li>executing set of instructions</li>
</ul>
</li>
<li>process have resources (separate memory page(all threads in a process have same view of memory),file descriptors)</li>
<li>process can be seen as resource ownership or scheduling/execution [1]</li>
<li>each process can have many threads
<ul>
<li>each process can have many execution contexts
<ul>
<li>each process can have many different CPU register states</li>
</ul>
</li>
</ul>
</li>
<li>this means many thread can execute the same program</li>
<li>a process has virtual address space [1]</li>
<li>The execution of a process follows an execution path(trace) through one or more programs, this execution may be interleaved with that of other processes [1]</li>
</ul>
<p>thread - execution context
execution context - information a CPU needs to execute a stream of instructions</p>
<ul>
<li>execution context consists of the values of a CPU's registers</li>
<li>execution context - state of CPU's registers
thread - unit of dispatching or lightweight process
thread - a relatively lightweight way to implement multiple paths of execution inside an application, Apple Developer
multi(threading) - os can support multiple, concurrent paths of execution within a single process</li>
</ul>
<h2 id="process-task-job-session-1"><a class="header" href="#process-task-job-session-1">Process Task Job Session</a></h2>
<ul>
<li>process - executing program</li>
<li>process group - job - unit of work</li>
<li>task - unit of execution within a job</li>
<li>job = task1, task2, ..., taskn</li>
<li>session - collection of process group(job) - a group of a group of processes</li>
</ul>
<p>the basic difference between a thread and process (and really the most important difference) </p>
<ul>
<li>is that two or more threads can share the same spaces in memory, i.e use the same resources, </li>
<li>whereas two processes must exist in different memory spaces. Does that make sense? – 
SO:Ikechukwu Anude</li>
</ul>
<p>[1](Operating System Internal and Design Principles)</p>
<div style="break-before: page; page-break-before: always;"></div><p>https://www.reddit.com/r/rust/comments/u3w9pe/what_is_the_point_of_async_and_await/
https://www.reddit.com/r/rust/comments/u3w9pe/comment/i4saivg/?utm_source=share&amp;utm_medium=web2x&amp;context=3
https://www.reddit.com/r/explainlikeimfive/comments/2im996/eli5_what_is_the_difference_between_cooperative/
https://www.reddit.com/r/explainlikeimfive/comments/2im996/comment/cl3dyhk/?utm_source=share&amp;utm_medium=web2x&amp;context=3</p>
<div style="break-before: page; page-break-before: always;"></div><p>Tips for using async await.</p>
<p>async -&gt; awaiting</p>
<p>async implies awaiting</p>
<p>await iff async is present</p>
<p>await if and only if async is present</p>
<p>Does this function need to respond to external events or wait on external connections to get or send data?
Use an async function</p>
<p>example: wait on network i/o, client requests, database request</p>
<p>async run_async_fn() {}</p>
<p>fn main() {
loop {
run_async_fn().await;
}
}</p>
<p>By .await-ing the learn_song future, we allow other tasks to take over the current thread</p>
<div style="break-before: page; page-break-before: always;"></div><p>callbacks are used to implement state machines</p>
<p>state machines are used to implement asynchronous function</p>
<div style="break-before: page; page-break-before: always;"></div><p>CS Basics</p>
<p>one good way to understand an algorithm is to trace its behavior on a small example.</p>
<div style="break-before: page; page-break-before: always;"></div><p><strong>Hashing</strong></p>
<p>variable length value -&gt; Hash() -&gt; standard length value</p>
<p>used for</p>
<ul>
<li>in a word: security</li>
<li>price: upfront computation</li>
<li>e.g. checking for file integrity</li>
<li>e.g. protecting passwords</li>
</ul>
<p><strong>file_integrity</strong></p>
<p><code>file</code> -&gt; hash() -&gt; <code>QTRNF7</code> </p>
<p><code>file_corrupt</code> -&gt; hash() -&gt; <code>UEYRH3</code>, <code>file_corrupt</code> corrupted is corrupted by a single bit</p>
<p><code>hash(file) != hash(file_corrupted)</code></p>
<p><strong>password</strong> </p>
<p><code>my_password</code> -&gt; hash() -&gt; <code>7YUBNGY7</code> - Database( <code>7YUBNGY7</code> ) </p>
<p>database gets hacked, hacker only sees <code>7YUBNGY7</code>, and not the password itself so your password is safe </p>
<p><strong>Problem: Hash tables</strong></p>
<ul>
<li>hash tables precompute hashes for many values beforehand</li>
<li>hackers can use this to break systems that use hashing</li>
</ul>
<p>Solution? salt the hash</p>
<p>generate random one-time value to salt the password</p>
<p>salt:hash</p>
<p>e.g.
salt() + hash() -&gt; salted_hash</p>
<p><code>SALTITMYPASSWORD</code> -&gt; Hash() -&gt; <code>A_MORE_SECURE_HASH</code></p>
<div style="break-before: page; page-break-before: always;"></div><p>what are computers made of?</p>
<p>transistors</p>
<pre><code>https://www.quora.com/What-is-a-transistor-made-of
</code></pre>
<p>why and what are semiconductors?</p>
<pre><code>semiconductor act like a switch, they can conduct in some situations, and not-conduct in others
e.g. semiconductors can act as conductors based on temperature for example
</code></pre>
<p>why silicon? silicon is a semiconductor</p>
<p>what are transistors made of? silicon and some impurities like metal</p>
<p>what and why is a transistor?</p>
<pre><code>a current amplifier or switch
A transistor can act as a switch or gate for electronic signals, opening and closing an electronic gate many times per second.
If you lower the base current enough you can operate the transistor in its linear region (as an amplifier instead of a switch). see
Transistors (and any sort of valve or switch) can amplify. They do it by using a tiny wattage to control a power supply which can output a huge wattage. The large output comes from the power supply, while the input signal is valving the transistpr on and off. see
</code></pre>
<p>Computers are made up of logic_gates</p>
<p>basic CMOS inverter (logic_gate) made of 2 transistors</p>
<p>transistors make up logic_gates like NAND and inverter (NOT)</p>
<p>NAND can be used as the primitive to build all other logic gates</p>
<p>logic gates can be built up to do math(addition) and store state (RAM)</p>
<pre><code>math: build up ALU (combinational logic) in CPU and
store state: RAM (sequential logic)
</code></pre>
<p>data can be stored in RAM and interpreted in CPU which can be thought of as programs</p>
<div style="break-before: page; page-break-before: always;"></div><p>stacks</p>
<ul>
<li>The order in which plates are popped from the stack is the reverse
of the order in which they were pushed onto the stack, since only the top plate is
accessible.</li>
</ul>
<pre><code>push (ABCD)
pop  (DCBA)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>Computers execute algorithms.</p>
<p>Algorithms generate computation.</p>
<p>Computations cost resources --&gt; <em>running algorithms cost resources</em>.</p>
<p>Costs?</p>
<ul>
<li>How many steps does the algorithm need to execute to finish its task? <em>runtime complexity</em></li>
<li>How much space does a computer need? <em>space complexity</em></li>
<li>Computing running time is measured in <em>worst case</em> i.e. big O</li>
</ul>
<p>A computation is a transformation of representation.</p>
<p>Representations are structured by types.</p>
<p>If the computer is a machine, the algorithm is called a <em>program</em>.</p>
<p>The language the algorithm is described in is called a <em>programming language</em>.</p>
<div style="break-before: page; page-break-before: always;"></div><p>Algorithms generate computations.</p>
<p>There is no computation without represenation.</p>
<p>Computations are only as good as the representations they are based on.</p>
<p>Computations transform representations. This transformation costs resources.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="goal-oriented-action-programming"><a class="header" href="#goal-oriented-action-programming">Goal-Oriented Action Programming</a></h1>
<p>Why GOAP?</p>
<p>Do you wnat to learn how AIs work in games?</p>
<p>A* and FSMs are some of the most common AI techniques</p>
<ul>
<li>A* - graph search algorithm</li>
<li>FSM - A finite state machine(FSM) is a mathematical abstraction used to design algorithms. </li>
</ul>
<p>More details</p>
<ul>
<li><code>A*</code> is a specialized <code>Djikstra's Algorithm</code>(Uniform Cost Search), and <code>Djikstra's</code> is <code>BFS</code> on a <code>weighted</code> <code>graph</code>.</li>
<li><code>BFS</code> is a FIFO <code>queue</code> search.</li>
</ul>
<p>FSMs to control character behavior. A* to plan paths.</p>
<p>What is GOAP?</p>
<p>GOAP is basically a graph search algorithm where the nodes are states (a vector of variables).</p>
<p>What is GOAP used for?</p>
<ul>
<li>Usually, for game AI, but remember it's a general graph search algorithm.</li>
<li>Improving missile routes for blowing people up <a href="https://ieeexplore.ieee.org/document/4219083">see</a></li>
</ul>
<p>It's very useful.</p>
<h2 id="declarative-vs-procedural"><a class="header" href="#declarative-vs-procedural">Declarative vs Procedural</a></h2>
<p>GOAP is declarative. GOAP trades off runtime performance for code maintainability.</p>
<p>FSM = you give direct orders = procedural</p>
<ul>
<li>the programmer must tell the AI what to do at every step</li>
<li>simple for small cases but scales badly</li>
</ul>
<p>GOAP = you let the computer plan out a route = declarative</p>
<p>FSM(procedural) and GOAP (planning) are complementary</p>
<h2 id="representation-and-algorithm"><a class="header" href="#representation-and-algorithm">Representation and Algorithm</a></h2>
<p>GOAP is a planning system.</p>
<ul>
<li>data type: graph</li>
</ul>
<p>(state, goal) -&gt; GOAP() -&gt; plan(list of states)</p>
<p>Planning systems give AI the knowledge they need to make a decision to decide what state to transition to.</p>
<ul>
<li><code>planning</code> = processed of searching for sequence of actions to satisfy a <code>goal</code></li>
<li><code>goal</code> - desired set of variables</li>
</ul>
<p>We represent the <code>state</code> of the world as a conjunction of literals </p>
<p>i.e state of world = assignment of set of variables that collectively describe the world</p>
<p><code>state</code> = vector of variables</p>
<p>variables can be</p>
<ul>
<li>enumerated discrete (e.g. sunny or rainy) set of possible values</li>
<li>continous(e.g. number of lemons)</li>
</ul>
<pre><code>Reverse Pathfinding

In short, the purpose of the GOAP planner is to find a sequence of actions that will transform the current (actual) world states to the world states required by the goal. Each action modifies one or a few of the world states and together they complete the transformation. To accomplish that, the planner starts from the goal world states and works backwards towards the current world states, using a generic pathfinding algorithm such as A* or Dijkstra, where a collection of world states forms each node (containing a list of unsatisfied conditions and a list of satisfied conditions), and an action forms the link between two nodes. Following is a very high level pseudo-code:
</code></pre>
<h2 id="goap-with-lemonade"><a class="header" href="#goap-with-lemonade">GOAP with Lemonade</a></h2>
<p>E.g.
Lemonade State
goals: MAX $$
State</p>
<ul>
<li>weather: [Sunny | Rainy ]</li>
<li>Lemons: int</li>
<li>Money: int</li>
</ul>
<p><code>(Lemonade_world, Max:Money) -&gt; GOAP() -&gt; Plan(List of states to choose to get to MAX MONEY)</code></p>
<h2 id="tradeoffs"><a class="header" href="#tradeoffs">Tradeoffs</a></h2>
<ul>
<li>pros: declarative, scales well</li>
<li>costs:
<ul>
<li>since this is a search over state spaces, if state spaces are huge with a lot of variables to keep track of search time can exponentially increase, and take 'forever' if you're not careful</li>
</ul>
</li>
</ul>
<p>see:</p>
<ul>
<li><a href="https://alumni.media.mit.edu/~jorkin/goap.html">Jeff Orkin's GOAP</a></li>
<li><a href="https://www.redblobgames.com/pathfinding/a-star/introduction.html">Amit's A Star</a></li>
<li><a href="http://theory.stanford.edu/~amitp/GameProgramming/MapRepresentations.html">Amit's Graph Representations</a></li>
<li><a href="https://warzonegameblog.wordpress.com/2016/02/08/ai-implementation-using-goap-part-i/">Helpful Blog</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><pre><code>Data Type       Task
    ^             ^
    |             |
Data Structure  Solution
</code></pre>
<p>You can think of a data type as a description of a data management task and a data structure as a solution/implementation for that task.</p>
<p>Therefore, data types can be implemented by many data structures.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pointers"><a class="header" href="#pointers">Pointers</a></h1>
<p>&quot;What's the point of pointers&quot;</p>
<p>What is a pointer?
This is an extraordinarily loaded question, so I'll let people much more knowledgeable than me answer that question.</p>
<p>Algorithms 4th Edition, Sedgewick</p>
<pre><code>Q. What is a pointer ?
A. Good question. Perhaps that should be NullReferenceException. Like a Java reference, you can think of a pointer as a machine address. In many programming languages, the pointer is a primitive data type that programmers can manipulate in many ways. But programming with pointers is notoriously error-prone, so operations pro-
vided for pointers need to be carefully designed to help programmers avoid errors.
Java takes this point of view to an extreme (that is favored by many modern programming-language designers). In Java, there is only one way to create a reference (new) and
only one way to change a reference (with an assignment statement). That is, the only things that a programmer can do with references are to create them and copy them. In
programming-language jargon, Java references are known as safe pointers, because Java can guarantee that each reference points to an object of the specified type (and it can
determine which objects are not in use, for garbage collection). Programmers used to writing code that directly manipulates pointers think of Java as having no pointers at
all, but people still debate whether it is really desirable to have unsafe pointers.
</code></pre>
<p>C Programming - A Modern Approach, King devotes 3 whole chapters to pointers! That's how important they are.</p>
<p>when a parameter is passed by value - the caller and callee have two indepedent variables
pass by reference - the caller and callee use the same variable</p>
<p>Pointers can be represented with addresses or they can be represented with integers.</p>
<p>The high-level idea is that we will represent a &quot;pointer&quot; to a node or edge using an index. <a href="http://smallcultfollowing.com/babysteps/blog/2015/04/06/modeling-graphs-in-rust-using-vector-indices/">see</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>Why are array element access constant time?
you can directly access an element from its <em>index</em></p>
<p>Why are hash table access constant time?
you can directly access an element by <em>key</em></p>
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><h1 id="graph-algorithms"><a class="header" href="#graph-algorithms">Graph Algorithms</a></h1>
<h2 id="bfs"><a class="header" href="#bfs">BFS</a></h2>
<p>https://stackoverflow.com/a/6068257</p>
<p>the BFS algorithm is this:</p>
<pre><code>Initialise the search by placing the starting vertex in the queue.
While the queue is not empty.
  Remove the front vertex from the queue.
  If this is a solution then we're finished -- report success.
  Otherwise, compute the immediate children of this vertex and enqueue them.
Otherwise we have exhausted the queue and found no solution -- report failure.

</code></pre>
<p>Pseudo-code adapted from AIMA 3rd edition</p>
<pre><code class="language-rs">fn Tree_Search(problem) -&gt; [solution | failure]
    initialize frontier to initial state of problem
    do
        if frontier is empty -&gt; failure
        choose leaf node, then remove from frontier
        if node contains goal state -&gt; solution
        expand chosen node, then add resulting nodes to frontier        
    loop
end
</code></pre>
<pre><code class="language-rs">fn graph_search(problem) -&gt; [solution | failure]
    initialize frontier to initial state of problem
    initialize explored set to empty
    do
        if frontier is empty -&gt; failure
        choose leaf node, then remove from frontier
        if node contains goal state -&gt; solution
        add node to explored set
        expand chosen node, then add resulting nodes to frontier
    loop
end
</code></pre>
<p>MIT CLRS</p>
<pre><code>

G = (V,E)
V = set of Vertex/nodes
E = set of edges/connections

first-in, first-out queue Q

WHITE = UNKNOWN
GREY = VISITING
BLACK = EXPLORED


BFS(G,S)
# with the exception of source vertex s, paint every vertex white,
for each vertex u in G.V - {s}
    u.color = WHITE
    u.d = infinite
    u.PI = NIL
loop

s.color = GRAY # paint s gray, as we consider it to be discovered as the procedure begins
s.d = 0
s.PI = NIL # set predecessor of the source to NIL

Q = EMPTY # initialize Q
ENQUEUE(Q,s) # to contain only s

ENQUEUE(Q,s)
while Q != EMPTY
    u = DEQUEUE(Q)
    for each v in G.Adj[u]
        if v.color == WHITE
            v.color = GRAY
            v.d = u.d + 1
            v.PI = u
            ENQUEUE(Q,V)
        fi
    loop
    u.color = BLACK
loop

end

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="project-management"><a class="header" href="#project-management">Project Management</a></h1>
<ul>
<li><a href="Project_Management/project_definition.html">What is a Project?</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="wrap-framework-for-making-better-decisions"><a class="header" href="#wrap-framework-for-making-better-decisions">WRAP Framework for making better decisions.</a></h1>
<p>Helps avoid common decision-making biases.</p>
<h1 id="wrap"><a class="header" href="#wrap">WRAP</a></h1>
<ul>
<li>Widen your options</li>
<li>Reality-test assumptions</li>
<li>Attain distance</li>
<li>Prepare to be wrong</li>
</ul>
<h1 id="widen-your-options"><a class="header" href="#widen-your-options">Widen Your Options</a></h1>
<ul>
<li>expand your options</li>
<li>consider opportunity costs</li>
<li>run vanishing options test</li>
<li>think AND not OR / multitrack</li>
<li>toggle between abundance and crisis mindsets</li>
<li>find someone who has solved your problem</li>
<li>try laddering
<ul>
<li>look for current bright spots, local</li>
<li>best practices, regional</li>
<li>analogies from related domains, distant</li>
</ul>
</li>
</ul>
<h2 id="expand-your-options"><a class="header" href="#expand-your-options">Expand your options</a></h2>
<ul>
<li>could you locate someone who has broad knowledge of options in your domain?</li>
</ul>
<h2 id="vanish-your-options"><a class="header" href="#vanish-your-options">Vanish your options</a></h2>
<ul>
<li>imagine the options you were considering disappeared what would you do?</li>
</ul>
<h2 id="opportunity-costs"><a class="header" href="#opportunity-costs">Opportunity costs</a></h2>
<ul>
<li>think of a yardstick you can use to measure opportunity cost of time, money you are about to invest</li>
<li>e.g. Eisenhower, compared the cost of a new bomber vs new house, power plants, and hospitals</li>
<li>e.g. business investments, yardstick= additional marketing employees vs this investment</li>
<li>look outside your domain, and see what you're missing out</li>
</ul>
<h2 id="and-not-or--multitracking"><a class="header" href="#and-not-or--multitracking">AND not OR / multitracking</a></h2>
<ul>
<li>embrace one, sample others</li>
<li>describe all options in a single paper, choose the best ones</li>
<li>at least 3 high-quality alternatives</li>
<li>batch brainstorming, ask everyone to comes up with ideas, put them all on a whiteboard, only discuss afterwards
<ul>
<li>instead of being narrowed by one idea at a time</li>
</ul>
</li>
</ul>
<h2 id="toggle-between-abundance-and-starvation-mindsets"><a class="header" href="#toggle-between-abundance-and-starvation-mindsets">toggle between abundance and starvation mindsets</a></h2>
<ul>
<li>abundance = sudden windfall of money</li>
<li>25% cutback</li>
<li>how would you handle it?</li>
<li>toggling can help you spot options to handle both eventualities ( a good idea solves multiple problems)</li>
<li>SWOT framework (strength/weaknesses, opportunities/threats)</li>
</ul>
<h2 id="find-others-who-have-solved-your-problem"><a class="header" href="#find-others-who-have-solved-your-problem">Find others who have solved your problem</a></h2>
<ul>
<li>use the internet, 3-4 keywords for your predicament</li>
<li>send emails to people in your network, describe your dilemma and see if they have insights</li>
<li>encode playlists of important types of decisions
<ul>
<li>what's every technique you used with success in the past</li>
</ul>
</li>
</ul>
<h1 id="reality-test-assumptions"><a class="header" href="#reality-test-assumptions">Reality-test assumptions</a></h1>
<ul>
<li>fight confirmation bias</li>
<li>spark constructive disagreement</li>
<li>ask disconfirming questions</li>
<li>consider the opposite</li>
<li>make deliberate mistakes</li>
<li>zoom out: respect the base rates</li>
<li>zoom in: take a close-up</li>
<li>ooch, small low-risk experiments/tests</li>
</ul>
<h2 id="consider-the-opposite"><a class="header" href="#consider-the-opposite">Consider the opposite</a></h2>
<ul>
<li>if this job looks good, why might it be bad</li>
<li>if this market looks appealing, why might it be unappealing</li>
<li>these quick tests suggest new information to gather</li>
<li>find a group who's concerned about direction of plans or organization</li>
</ul>
<h2 id="spark-constructive-disagreement"><a class="header" href="#spark-constructive-disagreement">Spark constructive disagreement</a></h2>
<ul>
<li>can you find someone you trust to disagree with you?</li>
<li>in study of silicon valley firms, CEOs with senior counselors who were imprtial, and didn't have a personal agenda could provide unvarnished, trustworthy advice</li>
</ul>
<h2 id="ask-disconfirming-questions"><a class="header" href="#ask-disconfirming-questions">Ask disconfirming questions</a></h2>
<ul>
<li>Do not ask: do you like my idea?</li>
<li>Ask: what's the biggest problem with this idea</li>
</ul>
<h2 id="zoom-out-respect-the-base-rates"><a class="header" href="#zoom-out-respect-the-base-rates">Zoom out: respect the base rates</a></h2>
<ul>
<li>use statistics, Amazon, Yelp, TripAdvisors (big data sets) if you can to establish base rates</li>
<li>if there are no big samples, look for smaller ones</li>
<li>medical decisions, has anyone in your network faced a similar situation(or use the internet to send someone an email)</li>
<li>don't settle for intuition, look for experience, even if it's one or two people, little information is better than nothing</li>
</ul>
<h2 id="make-deliberate-mistakes"><a class="header" href="#make-deliberate-mistakes">Make deliberate mistakes</a></h2>
<ul>
<li>list your assumptions, pre-emptively make wrong decisions on purpose to test your assumptions</li>
</ul>
<h2 id="ooch-low-costrisk-tests"><a class="header" href="#ooch-low-costrisk-tests">Ooch, low cost,risk tests</a></h2>
<ul>
<li>sample your options</li>
<li>time: 1/2 day, cost: $50</li>
<li>do not argue, create an environment for low-risk experiments</li>
<li>don't predict when you can know</li>
</ul>
<h1 id="attain-distance"><a class="header" href="#attain-distance">Attain distance</a></h1>
<ul>
<li>If agonizing, gather more options</li>
<li>Try 10/10/10
<ul>
<li>How will I feel about this decision in 10 min/10 months/10 years</li>
</ul>
</li>
<li>fight the &quot;status quo bias&quot;(mere exposure + loss aversion)</li>
<li>shift perspectives to gain distance</li>
<li>identify and enshrine core priorities</li>
<li>go on offensive against lesser priorities</li>
<li>still agonizing? reiterate throught the WRAP framework</li>
</ul>
<h2 id="shift-perspectives-to-gain-distance"><a class="header" href="#shift-perspectives-to-gain-distance">shift perspectives to gain distance</a></h2>
<ul>
<li>what would I tell my best friend to do?</li>
<li>if I were replaced tomorrow, what would my successor do?</li>
</ul>
<h2 id="identify-and-enshrine-core-priorities"><a class="header" href="#identify-and-enshrine-core-priorities">Identify and enshrine core priorities</a></h2>
<ul>
<li>If it's not a &quot;Hell yes!&quot;, it's a &quot;No&quot;</li>
<li>If a person who's looking to build a social network should be more lax
<ul>
<li>If it's not &quot;Hell no!&quot; it's a yes</li>
</ul>
</li>
<li>Forensically analyze your calendar, what would an outside investigator conclude about your core priorities? -&gt; What activities should I stop to free up more time</li>
<li>Identify the core priority and make decision based solely on that variable, try using it as a tiebreaker</li>
<li>State your core priority explicitly</li>
<li>Ask employees what the toughest decision they made in the last six months, look for patterns, identify 3 most common decision types and make systems for resolving those decisions easier</li>
<li>start a meething by reminding everyone with the core priority(what are we trying to achieve? e.g. we're here to figure out a way to handle product returns to better satisfy customers)</li>
<li>return to your core priorities regularly</li>
</ul>
<h2 id="fight-the-status-quo-bias"><a class="header" href="#fight-the-status-quo-bias">Fight the status quo bias</a></h2>
<ul>
<li>The status quo is comfortable but it is unlikely to be the global maximum</li>
<li>Ask someone who's reluctant to sell their home: If you didn't own your home today would you buy it?</li>
<li>Ask someone who had troubled business with a vendor: If you weren't working with that firm, would you start the relationship from scratch?</li>
</ul>
<h1 id="prepare-to-be-wrong"><a class="header" href="#prepare-to-be-wrong">Prepare to be wrong</a></h1>
<ul>
<li>take the opportunity to plan for both good and bad scenarios</li>
<li>bookend the future</li>
<li>run premortem and preparade</li>
<li>use safety factor</li>
<li>create a &quot;realistic job preview&quot;</li>
<li>set a tripwire/automatic signals</li>
<li>use &quot;pattern matching&quot; tripwires</li>
</ul>
<h2 id="run-premortem--preparade"><a class="header" href="#run-premortem--preparade">Run Premortem / Preparade</a></h2>
<ul>
<li>Premortem: Ask people to brainstorm: if this venture fucked up bad, why did it happen</li>
<li>They'll start thinking of all the potential problems</li>
<li>Preparade: It's years from now and the venture was big success. How did we do it?</li>
<li>Consider the positives and negative separately</li>
</ul>
<h2 id="set-tripwires--automatic-signals"><a class="header" href="#set-tripwires--automatic-signals">Set tripwires / automatic signals</a></h2>
<ul>
<li>e.g. set a watch to beep every hour to ask: &quot;Are you doing what's most important right now?&quot;</li>
<li>e.g. use end of quarter, end of semester to trigger reflection</li>
<li>What's something in life you've always assumed you would do but didn't start? Can you set up a reminder</li>
<li>prioritize the factors that will help you decide whether your desired future was achieved</li>
<li>imagine you got stuck in a slowly changing environment that eventually killed you, if that were true, why would it be? what industry forces do you need to keep an eye one?</li>
</ul>
<h2 id="bookend-the-future"><a class="header" href="#bookend-the-future">Bookend the future</a></h2>
<ul>
<li>Treat the future as a spectrum of possibilities rather than a single point to plan for</li>
</ul>
<h2 id="use-safety-factors"><a class="header" href="#use-safety-factors">Use safety factors</a></h2>
<ul>
<li>Do not think your plan will go smoothly, and unfold more quickly than usual</li>
</ul>
<h2 id="use-pattern-matching-tripwires-signals"><a class="header" href="#use-pattern-matching-tripwires-signals">Use &quot;pattern matching&quot; tripwires/ signals</a></h2>
<ul>
<li>Can you provide a label for the kind of paterns your colleagues and employees should watch out for?</li>
<li>e.g. keeping an eye out for zealous users: say, &quot;pay special attention to extreme users&quot;</li>
</ul>
<p><a href="https://heathbrothers.com/wp-content/uploads/2013/03/HBDWB.pdf">src</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>PMI says:</p>
<p>project is a temporary endeavor undertaken to create a unique product, service or result</p>
<div style="break-before: page; page-break-before: always;"></div><p><img src="Cloud/data/what_is_the_cloud-00.png" alt="cloud?" /></p>
<p>Seriously what is it?</p>
<p>What is the cloud?</p>
<p><code>cloud</code> - a visible mass of condensed water vapor floating in the atmosphere, typically high above the ground</p>
<p>No, not that one.</p>
<p><code>cloud</code> - a distributed collection of servers that host software and infrastructure that is accessed over the internet</p>
<p>I think this might be closer.</p>
<div style="break-before: page; page-break-before: always;"></div><p>Amazon Web Services (AWS) Cloud Practitioner Essential Notes</p>
<p>Uncle Bezos needs a new yacht. Let's outsource our IT department to AWS.</p>
<h2 id="table-of-contents"><a class="header" href="#table-of-contents">Table of Contents</a></h2>
<ul>
<li><a href="Cloud/aws/module01_intro.html">Intro</a></li>
<li><a href="Cloud/aws/module02_cloud_compute.html"> Cloud Compute </a></li>
<li><a href="Cloud/aws/module03_global_infrastructure_reliability.html"> Global Infrastructure and Reliability </a></li>
<li><a href="Cloud/aws/module04_networking.html"> Networking </a></li>
<li><a href="Cloud/aws/module05_storage_database.html"> Storage and Database </a></li>
<li><a href="Cloud/aws/module06_security.html"> Security </a></li>
<li><a href="Cloud/aws/module07_intro.html"> Monitoring and Analytics </a></li>
<li><a href="Cloud/aws/module08_pricing_support.html"> Pricing </a></li>
<li><a href="Cloud/aws/module09_migration.html"> Migration </a></li>
<li><a href="Cloud/aws/module10_cloud_journey.html"> Cloud Journey </a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="intro"><a class="header" href="#intro">Intro</a></h1>
<p>AWS Cloud is big and flexible. Outsource your IT to make papa Bezos even richer.</p>
<p>Ok. Might as well. I admit, maintaining your own servers can be a PITA.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="global-infrastructure-and-reliability"><a class="header" href="#global-infrastructure-and-reliability">Global Infrastructure and Reliability</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="storage-and-databases"><a class="header" href="#storage-and-databases">Storage and Databases</a></h1>
<p>Amazon S3 (Simple Storage Service)</p>
<p>Amazon Redshift = data warehousing for big data analytics</p>
<p>data warehouse = core part of business intelligence, needed for data analysis</p>
<p>business intelligence = strategies and tech used by enterprises for data analysis</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cloud-computing"><a class="header" href="#cloud-computing">Cloud Computing</a></h1>
<p>Major Cloud Providers</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Microsoft_Azure">Microsoft Azure</a></li>
<li><a href="https://en.wikipedia.org/wiki/Amazon_Web_Services">Amazon Web Services</a></li>
<li><a href="https://en.wikipedia.org/wiki/Google_Cloud_Platform">Google Cloud Platform</a></li>
</ul>
<p>We're going to talk about AWS because it's the most popular. By what metric? <a href="https://www.statista.com/chart/18819/worldwide-market-share-of-leading-cloud-infrastructure-service-providers/">Revenue</a> as of 2023. Use whatever suits your fancy.</p>
<details>
    <summary>
        If you can run an interruptible service on EC2 which instance type would you use?
    </summary>
    A spot instance. Why? Since you're allowing inconvenience of interruptions the service can allow for cheaper rates to compensate.
</details>
<div style="break-before: page; page-break-before: always;"></div><p>Cloud Journey</p>
<p>Journey to the <del>West</del> Cloud young monkey and find your <del>destiny</del> profits. - A Wise Monk's advice to an IT monkey</p>
<p>NOTE: If you want your business to scale you should actually be maximizing Free Cash Flow(FCF).</p>
<p>This is our new religion.</p>
<p>AWS Well-Architected Framework</p>
<p>It consists of 6 pillars.</p>
<ul>
<li>Operational Excellence</li>
<li>Security</li>
<li>Reliability</li>
<li>Performance efficiency</li>
<li>Cost optimization</li>
<li>Sustainability</li>
</ul>
<p><a href="https://docs.aws.amazon.com/wellarchitected/latest/framework/welcome.html">WhitePaper</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>Networking</p>
<p>VPN = Virtual Private Network - a connection that encrypts your internet traffic from all other requests</p>
<p>Amazon VPC (Virtual Private Cloud)</p>
<p>Do you need boundaries around your vulnerable AWS resources?</p>
<p>Amzn VPC has you covered.</p>
<p>A:VPC lets you provision an isolated section of the AWS Cloud.</p>
<p><strong>Internet Gateway</strong></p>
<p>To allow public internet traffic to access your VPC, you attach an internet gateway to the VPC.</p>
<pre><code>                 ----------------------------------------------------
                 | AWS_Cloud                                         |
                 |        ---------------------------------------    |
                 |        | VPC                                  |   |
[Client] ----&gt; [Internet_Gateway] [Subnet [EC2] [EC2] [EC2]]     |   |
                 |        |                                      |   |
                 |        ---------------------------------------|   |
                 |                                                   |
                 -----------------------------------------------------
</code></pre>
<p>AWS Direct Connect - a service that lets you make a dedicated private connecion between your data center and VPC</p>
<p>ACL = (Network) Access Control List</p>
<p>stateless = no memory
stateful = remembers previous decisions</p>
<p>ACL = stateless, has to check packet inbound and outbound</p>
<p>Security groups = stateful, virtual firewall, by default: denies all inbound, allows all outbound</p>
<p>Amazon Route 53 = DNS web service</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="monitoring-and-analytics"><a class="header" href="#monitoring-and-analytics">Monitoring and Analytics</a></h1>
<p>Do you need to monitor and manage various metrics and configure alarms or actions that react on data from those metrics?</p>
<p>Amazon CloudWatch</p>
<p>Do you need to log API calls for your account? </p>
<p><a href="https://aws.amazon.com/cloudtrail/">Amazon CloudTrail</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="security"><a class="header" href="#security">Security</a></h1>
<p>Share Responsibility Model</p>
<p>security in the cloud = your responsibility</p>
<p>vs</p>
<p>security of the cloud = AWS responsibility</p>
<pre><code>
</code></pre>
<pre><code>
</code></pre>
<p>Analogy: homebuilder vs homeowner</p>
<p>AWS builds the houses and makes sure its solidly built and you make sure that the doors are locked</p>
<p>AWS IAM (Identity Access and Management)</p>
<p>users, groups roles</p>
<p>policies</p>
<p>multi-factor authentication</p>
<p>Compliance</p>
<p>Do you need compliance reports?</p>
<p>AWS Artifact </p>
<p>Do you need to generate cryptographic keys to lock sensitive applications or data?</p>
<p>AWS KMS (Key Management Serivce)</p>
<p>Do you need to monitor network requests that come to your app?</p>
<p>AWS WAF (Web Application Firewall)</p>
<pre><code>Request from customer
[Packet] - I'd like to access the app , Your IP is valid. Enter! - [AWS WAF]

Malicious Request from hacker
[Packet] - I'd like to access the app, Your IP is blocked. F*** off! - [AWS WAF]
</code></pre>
<p>Do you need automated security assessments?</p>
<p>Amazon Inspector</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pricing-and-support"><a class="header" href="#pricing-and-support">Pricing and Support</a></h1>
<p>Free Tiers</p>
<p>Always Free</p>
<p>12 Months Free</p>
<p>Trials</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="migrations"><a class="header" href="#migrations">Migrations</a></h1>
<p>Six Perspectives of Cloud Adoption Framework</p>
<p>Business Perspective</p>
<p>People Perspective</p>
<p>Governance Perspective</p>
<p>Platform Perspective</p>
<p>Security Perspective</p>
<p>Operations Perspective</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="programming-1"><a class="header" href="#programming-1">Programming</a></h1>
<p><img src="Programming/data/code-icon-00-4x.png" alt="code" /></p>
<div style="break-before: page; page-break-before: always;"></div><p>{https://stackoverflow.com/questions/467557/what-is-meant-by-the-term-hook-in-programming</p>
<p>Hooks are a category of function that allows base code to call extension code. This can be useful in situations in which a core developer wants to offer extensibility without exposing their code.</p>
<p>One usage of hooks is in video game mod development. A game may not allow mod developers to extend base functionality, but hooks can be added by core mod library developers. With these hooks, independent developers can have their custom code called upon any desired event, such as game loading, inventory updates, entity interactions, etc.</p>
<p>A common method of implementation is to give a function an empty list of callbacks, then expose the ability to extend the list of callbacks. The base code will always call the function at the same and proper time but, with an empty callback list, the function does nothing. This is by design.</p>
<p>A third party, then, has the opportunity to write additional code and add their new callback to the hook's callback list. With nothing more than a reference of available hooks, they have extended functionality at minimal risk to the base system.</p>
<p>Hooks don't allow developers to do anything that can't be done with other structures and interfaces. They are a choice to be made with consideration to the task and users (third-party developers).</p>
<p>For clarification: a hook allows the extension and may be implemented using callbacks. Callbacks are generally nothing more than a function pointer; the computed address of a function. There appears to be confusion in other answers/comments.</p>
<p>Implementation example:</p>
<p>callbacks are references to functions</p>
<p>list of callbacks
list_of_callbacks = [callback1, callback2, callback3, ..., callbackN]</p>
<p>injected function calls list of callback at injection point</p>
<p>users can add custom functions by adding a new callback to the list</p>
<p>hooks_fn(callback_list) // runs list of new mod functions</p>
<p>original source code &lt;-- not modified</p>
<p>Simple said:</p>
<p>A hook is a means of executing custom code (function) either before, after, or instead of existing code. For example, a function may be written to &quot;hook&quot; into the login process in order to execute a Captcha function before continuing on to the normal login process.</p>
<p>example:
harmony patch</p>
<p>`Harmony uses a variation of hooking and focuces only on runtime changes that ... '</p>
<p>Essentially it's a place in code that allows you to tap in to a module to either provide different behavior 
or to react when something happens.</p>
<p>Card game example:</p>
<p>OnStartTurn : hook at start of turn
OnDrawPhase : hook at draw phase
OnMainPhase : hook at main phase
}</p>
<p>{
https://www.reddit.com/r/gamedev/comments/fjr3n/advice_for_developing_a_card_game_rules_engine/
A finite state machine and event hub (Observer pattern) is probably the way to go. With those and a few other supporting systems such as an event queue, you can model just about anything.</p>
<p>You might also provide a number of appropriate hooks like OnPrePlayed(), OnPlayed(), OnPostPlayed() for your Card objects.
}</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="callback-explanation"><a class="header" href="#callback-explanation">Callback explanation</a></h1>
<p>What are callback?</p>
<ul>
<li>MDN(Mozilla Developer Network) describes a callback as  &quot;a function passed into another function as an argument, which is then invoked inside the outer function to complete some kind of routine or action&quot;. </li>
<li>Wikipedia: a callback or callback function is any reference to executable code that is passed as an argument to another piece of code; that code is expected to call back (execute) the callback function as part of its job.</li>
</ul>
<p>visualization:
<img src="Programming/programming.img/programming.callback-00.png" alt="Callback visualization" /></p>
<p><a href="https://stackoverflow.com/questions/824234/what-is-a-callback-function#">Helpful Stack Overflow explanation</a></p>
<p>What problems do callback solve?
Callbacks are required for event-driven programs.
Callbacks allow programs to be responsive.
Callbacks help your application scale.</p>
<p>Understanding synchronous and asyncrhonous operations will help you understand callbacks. Callbacks are actually independent of async and asynchrony understanding their relationship will help remember why they're needed.</p>
<p>Synchronous operation. </p>
<ul>
<li>Each operation must wait on the previous to finish. </li>
<li>FIFO (First in first out). </li>
<li>Blocking. </li>
</ul>
<pre><code>START
func_1() -&gt; 
func_2() -&gt; 
func_3()
END
</code></pre>
<p>Asynchronous operation. </p>
<ul>
<li>Operations can be partially run and returned to at any time. </li>
<li>There are no guarantees that operations will be completed in the order they were called.</li>
<li>also called non-blocking operations</li>
</ul>
<pre><code>START
database request -&gt; handle_db() -&gt; 
keyboard input -&gt;  handle_kb() -&gt; 
mouse input -&gt; handle_mouse() -&gt; 
finish handle_mouse() -&gt; 
finish handle_kb() -&gt;
finish handle_db()
END
</code></pre>
<p>In GUIs and windowing systems immediate callbacks are used which means the callback function is called immediately after the calling function.</p>
<p>In networking deferred callback / asynchronous callbacks are needed.</p>
<p>Deferred callbacks happen when code can't run to completion immediately because they need to wait for other data to come in. A callback function might not be called immediately.</p>
<p>Imagine a world with no callbacks and no async. This is what it would look like.</p>
<h1 id="fully-synchronous"><a class="header" href="#fully-synchronous">Fully Synchronous</a></h1>
<p>GUI</p>
<p>Imagine clicking a button to do a calculation on a website, your browser freezes for 10 seconds before getting an answer.</p>
<pre><code>button_click(run_calculation())
</code></pre>
<p>Network</p>
<p>Imagine a server that needs to serve 100,000 clients at the same time. Assume that it takes 2 seconds to serve 1 request. The server only works synchronously. Clients get chosen at random and have to wait their turn. The first client would only have to wait 2 seconds, but the 100,000th would have to wait 200,000 seconds or 55.55 hours or 2.31 days for their request to handle. A client would have to wait 100,000 seconds on average or ~1 day for their request to resolve. Sounds fucked up right? It is. Would you be willing to wait 1 day on average for your Reddit or Facebook post to update.</p>
<h1 id="callbacks-to-the-rescue"><a class="header" href="#callbacks-to-the-rescue">Callbacks to the rescue</a></h1>
<p>GUI
You click a button but the website still works and you get your calculation 10 seconds later.</p>
<p>Network
You and 99,999 other clients are using a social media website and your posts update within a few seconds.</p>
<p>A server taking a request from a client can't immediately resolve the request because it needs to take requests from 100,000 other clients. If the server did operations synchronously clients might have to wait a long time. Imagine having to wait 1 minute to see your Facebook post update. You would get pissed off. We usually see it update within the second right? The server simply cannot block and wait for the synchronous functions to finish. It must handle client requests quickly. There has to be a better way, and there is.</p>
<p>callback is a function that will be called when a process is done executing a specific task.</p>
<p>The OG function calls a function and lets it run concurrently on it's own. It tells the called function to callback/interrupt when it's done.
f1 -&gt; f3
\f2 </p>
<p>Your program must allow functions to callback when they are done running to let the original caller know it is done.</p>
<p>How are callbacks used?
&quot;Callbacks are used to program applications in windowing systems. In this case, the application supplies (a reference to) a specific custom callback function for the operating system to call, which then calls this application-specific function in response to events like mouse clicks or key presses.&quot;</p>
<p>Implementations</p>
<p>How are they implemented in actual technologies.
javascript = first order functions, you can save functions as objects and pass them to other functions
C# - delegates, are a pointer to a function that can be saved to a variable</p>
<p>How do callbacks relate to dependency injection?
DI is the process of providing the callback(the dependency) to the object.
The callback is the dependency of the object that is being passed into.</p>
<p>Callback example:</p>
<pre><code class="language-js">// https://stackoverflow.com/questions/824234/what-is-a-callback-function
// A function which accepts another function as an argument
// (and will automatically invoke that function when it completes - note that there is no explicit call to callbackFunction)
funct printANumber(int number, funct callbackFunction) {
    printout(&quot;The number you provided is: &quot; + number);
}

// a function which we will use in a driver function as a callback function
funct printFinishMessage() {
    printout(&quot;I have finished printing numbers.&quot;);
}

// Driver method
funct event() {
   printANumber(6, printFinishMessage);
}
</code></pre>
<p><a href="https://developer.mozilla.org/en-US/docs/Glossary/Callback_function">MDN</a></p>
<p><a href="https://en.wikipedia.org/wiki/Callback_(computer_programming)">wikipedia</a></p>
<p>Which is it?
Oxford Languages definition of back</p>
<ul>
<li>back - toward the rear
<ul>
<li>make a call to the back (the callback function input)</li>
</ul>
</li>
<li>back - expressing a return to an earlier or normal condition.
<ul>
<li>go back to the calling function's context</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><ul>
<li>object that represents operation</li>
<li>first class functions</li>
<li>basically a closure</li>
<li>object represents a thing you can invoke</li>
<li>in practice, you can use a raw function</li>
</ul>
<p>closures are poor man's objects</p>
<p>objects and closure over lexical scopre are equivalent</p>
<pre><code>object = closure over lexical scope
</code></pre>
<p><a href="https://doc.rust-lang.org/book/ch13-01-closures.html">Rust closure</a></p>
<p><a href="https://stackoverflow.com/questions/595482/what-are-closures-in-c">C# closure</a></p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures">Javascript closure</a></p>
<p><a href="https://gameprogrammingpatterns.com/command.html">In some ways, the Command pattern is a way of emulating closures in languages that don’t have them.</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>Discriminated unions force correctness at compile-time.</p>
<p>Let's look at some OneOf code
First off, OneOf brings exhaustive pattern matching with <code>Match</code> and <code>Switch</code>. 
Meaning that you must explicitly declare all outcomes or else it won't compile. 
Compare to the built-in switch which lets you compile and forget that you have unmanaged cases.</p>
<pre><code class="language-fs">OneOf&lt;Yes, No, Maybe&gt; union ... ;// Use Switch when you don't want to return anything
union.Switch(
    yes =&gt; Console.WriteLine(&quot;yes&quot;),
    no =&gt; Console.WriteLine(&quot;no&quot;),
    maybe =&gt; Console.WriteLine(&quot;maybe&quot;));// Use Match to return a value
string response = union.Match(
   yes =&gt; &quot;yes&quot;,
   no =&gt; &quot;no&quot;,
   maybe =&gt; &quot;maybe&quot;);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><h1 id="type-erasure"><a class="header" href="#type-erasure">Type Erasure</a></h1>
<p>feral_claire
·
5 yr. ago</p>
<p>Type erasure has to do with generics. If you haven't learned generics yet then you'll need to learn about that first.</p>
<p>Assuming you do know about generics, type erasure refers to the fact that that generic types are removed (or erased) at compile time, and don't exists when your code runs.</p>
<p>So for example while <code>List&lt;String&gt;</code> and <code>List&lt;Integer&gt;</code> are different types in the java code at compile time, one being a list of strings and the other a list of integers, when the code runs the generic type information isn't available on the object so the runtime just sees <code>List</code> and <code>List</code>.</p>
<p>This means that any checks on an object's type, can't tell the difference between generic types.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pointer-programming"><a class="header" href="#pointer-programming">Pointer (programming)</a></h1>
<p>Pointers, it's that elephant in the memory buffer that we seldom talk about but probably should.</p>
<p>Ever see some nerd hacking on his computer and seeing crap like this</p>
<pre><code>0xFFFFA9840324  IM_A_DUMB_HACK
0x32489f980082  321083021
0x343249809ab3  210320183
0x97496abcdeff  PASSWORD_SECRET
</code></pre>
<p>The gibberish that begins with <code>0x</code> actually means something. They're memory addresses represented in <a href="https://en.wikipedia.org/wiki/Hexadecimal">hexadecimal</a>.</p>
<p>What does that gibberish have to do with pointers?</p>
<p>References:</p>
<ul>
<li>See: <a href="https://en.wikipedia.org/wiki/Pointer_(computer_programming)">wikipedia</a></li>
<li>Watch: https://www.youtube.com/watch?v=fpnE6UAfbtU</li>
</ul>
<p>We have to answer some questions to understand why pointers are important.</p>
<p>Why are pointers so important?</p>
<ul>
<li>Understanding them is fundamental for any programmer who actually cares about how their programs function</li>
<li>Pointers can improve performance.</li>
<li>Pointers allow OOP to be implemented</li>
</ul>
<p>What would programming be like without pointers?</p>
<p>Error-prone. Imagine trying to find a needle in a haystack 1000 times a day, every day for the rest of your career. If that thought doesn't make you want to shoot yourself in the face, then nothing will.</p>
<p>How are pointers implemented in hardware?</p>
<p>We need to visualize what pointers represent at the machine level.</p>
<p>In modern computers, main memory is divided into bytes. 1 byte = 1 bit, 1 bit = enum(0|1)</p>
<pre><code>[0] &lt;-- 1 bit

[0][1][0][1][0][1][0][1] &lt;-- 8 bits = 1 byte
or
[01010101]
</code></pre>
<p>Each byte has a unique <em><strong>address</strong></em> to distinguish it from other bytes in memory.</p>
<p>Define <strong>address</strong>: the specific place where a person, business, or organization can be found and where mail can be received, therefore a memory address is a particular location where some bytes can be found</p>
<p>A computer proram consists of code(machine instructions) and data(variables).</p>
<pre><code>Address  Contents
   0     [00110101]
   1     [00000000]
   2     [11110000]
   3     [11100101]
             .
             .
             .
  n-1    [01010100]
</code></pre>
<pre><code>variables occupy one or more **bytes** of memory.

             .
             .
             .
  2000   [        ]  \
  2001   [        ]   ----&gt; i               i (variable) occupies the bytes at address 2000-2002
  2002   [        ]  /                      i's address is 2000
             .
             .
             .
</code></pre>
<p>What does pointing have to do with addressing?</p>
<p>If we store the address of variable <code>i</code> in the pointer variable <code>p</code>, we say <code>p</code> &quot;points to&quot; <code>i</code></p>
<p>What do pointers have to do with memory?</p>
<p>What are pointers?
A pointer is an address, a pointer variable is just a variable that stores an address.
Addresses are represented by numbers, integers</p>
<p>How do we model pointers?
You show the content of <code>p</code>(the pointer variable) as an arrow directed towards <code>i</code>:</p>
<p>Model:</p>
<p>To monkeys like us, this means a lot. To a computer this means nothing. CPUs only understand bits in memory.</p>
<pre><code>p [*]---&gt; [   ]i  
</code></pre>
<p>To a computers pointers are basically addresses, just a bunch of numbers in memory that point to location in memory that allow you to find some bytes. We come up with the arrow as an abstraction to make the addressing easier to understand.</p>
<p>What is a pointer again?
A address that we store in memory that we intend to use to find that.</p>
<p>If pointers are just memory addresses which are themselves represented as numbers, pointers have to be stored somewhere too right?
https://superuser.com/questions/1480913/how-are-memory-location-addresses-actually-stored-in-the-cpu</p>
<p>Is the pointer always the same as an address?</p>
<p>Usually, but not always. A computer could address based on words rather than byte and <em><strong>words</strong></em> can have varying byte sizes.</p>
<div style="break-before: page; page-break-before: always;"></div><p>Loop Comment</p>
<p>Makes looping constructs more explicit</p>
<pre><code>-- 
--     __
-- loop  |
--       v
-- loop ()
-- ^
-- |__loop

--[[
-- 
--     __
-- loop  |
--       v
-- loop ()
-- ^
-- |__loop

]]
</code></pre>
<pre><code>/*

--     __
-- loop  |
--       v
-- loop()
-- ^
-- |__loop

*/
</code></pre>
<pre><code>
// --     __
// -- loop  |
// --       v
// -- loop()
// -- ^
// -- |__loop

</code></pre>
<pre><code># -- 
# --     __
# -- loop  |
# --       v
# -- loop()
# -- ^
# -- |__loop
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><pre><code>CodeTinkerer
In the old days (early 1980s and before), a program could access all of memory. This had some advantages. CPUs were slow, so this allowed direct access to, say, video memory and allowed you to play video games that weren't horrendously slow (but the graphics were terrible though no one knew any better).

However, the bad news is the OS is also a program. It's like the police in a city (or the police and city government). It makes sure that the city runs in an orderly fashion. If a random program can write anywhere in memory, it can also write into areas the OS is using, and that would cause the computer to mess up (usually a reboot fixes this).

As CPUs got better, they realized they needed support from the CPU. The OS would assign memory to various programs and ensure that these programs could only access the memory that it was assigned to. With CPU support, if a program tries to access illegal memory, it can be killed. This was later enhanced with virtual memory. Basically every memory address that a program could use is translated. Thus, if a program uses memory address X, it gets translated to Y.

This translation, while initially inefficient (until CPUs got faster), guaranteed that the address Y was always at some address that was not in use by another program or the OS itself.

If a program needed services from the OS, it would make a system call. It could no longer access OS memory where it could mess up the OS (by accident or on purpose).

These technologies have been around 40 years or so.

</code></pre>
<p>see: https://www.reddit.com/r/learnprogramming/comments/zbk2tk/eli5_what_is_memory_management_and_why_is_it/</p>
<div style="break-before: page; page-break-before: always;"></div><p>linter - static code analyzer</p>
<p>e.g. rust clippy <a href="https://github.com/rust-lang/rust-clippy">1</a> <a href="https://doc.rust-lang.org/nightly/clippy">2</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-linux-programming-interface-notes"><a class="header" href="#the-linux-programming-interface-notes">The Linux Programming Interface Notes</a></h1>
<pre><code>My approach then was one that I still try to follow today,
and that I recommend to anyone approaching a new software technology: take the
time to read the documentation (if it exists) and write small (but increasingly large)
test programs until you become confident of your understanding of the software.
I’ve found that, in the long run, this kind of self-training more than pays for itself in
terms of saved time. Many of the programming examples in this book are constructed
in ways that encourage this learning approach.
</code></pre>
<p>The source is license on Affero GPLv3</p>
<p>&quot;The most effective way to consolidate the concepts discused in this book is to write code, either modifying the example program to try out your own ideas or writing new programs.&quot;</p>
<p>Usage and organization</p>
<ol>
<li>Background and concepts( ch. 1-3)</li>
<li>Fundamental features of the system programming interface (ch. 4-12)</li>
<li>More Advanced Features of the System programming interface (ch. 13-23)</li>
<li>Process, program and threads ( ch.24-33 )</li>
<li>Advanced process and program topics (ch. 34-42)</li>
<li>Interprocess Communication (IPC) (ch. 43-55)</li>
<li>Sockets and Network programming(ch. 56-61)</li>
<li>Advanced I/O (62-64)</li>
</ol>
<h1 id="21-the-kernel-is-the-core-operating-system"><a class="header" href="#21-the-kernel-is-the-core-operating-system">2.1 The Kernel is the Core Operating System</a></h1>
<p>What does a kernel do for software development?</p>
<ul>
<li>Kernels simplify software development.</li>
<li>Kernel provides a software abstraction layer to manage the limited resources of a computer.</li>
</ul>
<p>A kernel</p>
<ul>
<li>schedules processes</li>
<li>creates and terminates processes</li>
<li>manages memory
<ul>
<li>processes are isolated from one another</li>
<li>only parts of a prcess needs to be kept in memory</li>
</ul>
</li>
<li>provisions a file system</li>
<li>controls accesses to devices</li>
<li>networking
<ul>
<li>the kernel transmits and receives network messages(packets) on behalf of the user processes</li>
</ul>
</li>
<li>provides a system call application programming interface (API)</li>
</ul>
<h2 id="kernel-mode-vs-user-mode"><a class="header" href="#kernel-mode-vs-user-mode">Kernel mode vs User mode</a></h2>
<ul>
<li>Modern processors architecture typically allow CPU to operate in at least two modes: user mode, kernel mode
<ul>
<li>areas of virtual memory are marked as <code>user space</code> or <code>kernel space</code></li>
</ul>
</li>
</ul>
<h2 id="process--vs-kernel-view-of-the-system"><a class="header" href="#process--vs-kernel-view-of-the-system">Process  vs Kernel view of the system</a></h2>
<p>A running system has many processes.
Processes have no control over themselves.
The kernel controls the processes.</p>
<h1 id="22-the-shell"><a class="header" href="#22-the-shell">2.2 The Shell</a></h1>
<h1 id="23-users-and-groups"><a class="header" href="#23-users-and-groups">2.3 Users and Groups</a></h1>
<h1 id="24-single-directory-hierarchy"><a class="header" href="#24-single-directory-hierarchy">2.4 Single Directory Hierarchy</a></h1>
<p>roots directory or <code>/</code></p>
<h1 id="25-file-io-model"><a class="header" href="#25-file-io-model">2.5 File I/O Model</a></h1>
<ul>
<li>Everything is a file, this means the same system calls (<code>open()</code> <code>read()</code> <code>write()</code> <code>close()</code>, etc) are used to perform I/O on all types of files</li>
</ul>
<p>How does the program see the file?</p>
<ul>
<li>
<p>as a sequential stream of bytes</p>
</li>
<li>
<p>The kernel essentially provides one file type: a sequential stream of bytes.</p>
</li>
<li>
<p>In UNIX systems end-of-file is represented by a read that returns no data</p>
</li>
</ul>
<h2 id="file-descriptors"><a class="header" href="#file-descriptors">File Descriptors</a></h2>
<ul>
<li>Normally, processes inherit three open file descriptors when it is started by the shell
<ul>
<li>0, standard input, stdin</li>
<li>1, standard output, stdout</li>
<li>2, standard error, stderr</li>
</ul>
</li>
<li>In an interactive shell or program, these descriptors are normally connected to the terminal</li>
</ul>
<h2 id="filters"><a class="header" href="#filters">Filters</a></h2>
<p>What is a filter?</p>
<ul>
<li>Name often applied to a program that reads input from <code>stdin</code> performs some transformation of that input and writes transformed output to <code>stdout</code>, e.g. <code>cat</code>, <code>grep</code>, <code>tr</code>, <code>sort</code>, <code>wc</code>, <code>sed</code>, <code>awk</code></li>
</ul>
<h1 id="27-process"><a class="header" href="#27-process">2.7 Process</a></h1>
<ul>
<li>A process is an instance of an executing program</li>
<li>When a program is executed, the kernel
<ul>
<li>loads the program into virtual memory</li>
<li>allocates space for program variables</li>
<li>sets up kernel bookkeeping data structures: (process ID, termination status, user ID, group ID, etc)</li>
<li>the kernel coordinates sharing of computer resources for each process</li>
</ul>
</li>
</ul>
<p>Process Memory Division</p>
<ul>
<li>[ Text | Data | Heap | Stack ]
<ul>
<li>text: instructions of the program</li>
<li>data: static variables used by the program</li>
<li>heap: area where programs can dyanamically allocate extra memory</li>
<li>stack: piece of memory that grows and shrinks as functions are called and returned, used to allocate storage for local variables and function call linkage information</li>
</ul>
</li>
</ul>
<p>Process Creation and Program Excecution</p>
<ul>
<li>A process creates new process with <code>fork()</code> system call</li>
<li>parent process.forks() -&gt; child process</li>
<li>the child can call <code>execve</code> to call and load a new program
<ul>
<li>the <code>execve</code> call destroys the existing memory structure and makes a new one based on the new program</li>
</ul>
</li>
</ul>
<p>Process ID and Parent ID</p>
<ul>
<li>process identifier (PID)</li>
<li>parent identifier (PPID)</li>
</ul>
<p>Process termination and termination status</p>
<ul>
<li>termination status 0 -&gt; process succeeded</li>
<li>termination status: nonzero -&gt; error</li>
</ul>
<p>Process user and Group identifiers (credentials)</p>
<ul>
<li>Each process has associated user IDs (UID) and group IDs(GID)</li>
<li>real: user id group id</li>
<li>effective: user id, group id
<ul>
<li>typically the real id = effective id</li>
<li>the effective ID can be changed</li>
<li>changing the effective id is a mechanism that allows processes to assumes privileges of other users or groups</li>
</ul>
</li>
<li>supplementary group IDs</li>
<li>child processes inherit IDs from their parents</li>
</ul>
<p>Privileged processes</p>
<ul>
<li>privileged process is one whose effective user ID is 0(superuser)</li>
<li>UID = 0 -&gt; privileged, UID != 0 -&gt; non-privileged</li>
</ul>
<p>Capabilities</p>
<ul>
<li>What are capabilities? Distinct units of privilegeds</li>
<li>priviledged operation associated with capability</li>
<li>security benefits, by granting subsets of capability to a process</li>
</ul>
<p>The <em>init</em> process</p>
<ul>
<li>when booting, kernel creates <em>init</em> &quot;the parent of all processes&quot;</li>
<li>what is <code>init</code>? the parent of all processes
<ul>
<li>comes from program file in <code>/sbin/init</code></li>
</ul>
</li>
<li>the <code>init</code> process can't be killed</li>
<li>it's task is to create and maintain processes required by the running system</li>
</ul>
<p><em>Daemon</em> process</p>
<ul>
<li>What is a daemon? It runs in the background, and has no controlling terminal to i/o </li>
<li>examples? syslogd, httpd</li>
</ul>
<p>Environment List</p>
<ul>
<li>What is an <em>environment list</em>?</li>
<li>A process has an environment list</li>
<li>the environment list is a sert of environment variables that are maintained within the user-space memory of a process</li>
<li><code>fork()</code> -&gt; child process with copy of parent's environment</li>
<li>How do you create environment variables in a shell? 
<ul>
<li><code>export MYVAR=&quot;value&quot;</code></li>
</ul>
</li>
</ul>
<p>Resource Limits</p>
<ul>
<li><code>setrlimit()</code> system call</li>
<li>range = [soft limit -&gt; hard limit]</li>
<li>fork() -&gt; child inherits resource limit settings</li>
</ul>
<h1 id="28-memory-mappings"><a class="header" href="#28-memory-mappings">2.8 Memory Mappings</a></h1>
<ul>
<li><code>mmap()</code>
<ul>
<li>file mapping
<ul>
<li>map file to calling process's virtual memory</li>
<li>file contents can be accessd by byte operations in that memory region</li>
</ul>
</li>
<li>anonymous mapping
<ul>
<li>no corresponding file</li>
</ul>
</li>
</ul>
</li>
<li>processed map memory can be shared</li>
<li>when 2 or more processes share the same page, they may see the changess made by other processes of the page's contents</li>
<li><code>fork()</code> -&gt; copies memory mappings</li>
<li>shared vs private mapping</li>
</ul>
<h1 id="29-static-and-shared-libraries"><a class="header" href="#29-static-and-shared-libraries">2.9 Static and Shared Libraries</a></h1>
<p>object library = file containing compiled object code for a set of functions</p>
<p>static library</p>
<ul>
<li>linke copies object modules the executable -&gt; static linking</li>
</ul>
<p>shared library</p>
<ul>
<li>executable tries to find library at run time</li>
<li>dynamic linker finds the library for the executable</li>
<li>saves memory, executables share the library instead of having own copies</li>
</ul>
<h1 id="210-interprocess-communication-ipc-and-synchronization"><a class="header" href="#210-interprocess-communication-ipc-and-synchronization">2.10 Interprocess Communication (IPC) and Synchronization</a></h1>
<p>processes need to communicate</p>
<ul>
<li>read/writing from a disk can be too slow for some tasks</li>
</ul>
<p>to solve this, Linux provides a set of mechanisms for IPC</p>
<ul>
<li>signals</li>
<li>pipes</li>
<li>sockets</li>
<li>file locking</li>
<li>message queues</li>
<li>semaphores</li>
<li>shared memory</li>
</ul>
<p>mechanisms can have overlapping functionality due to evolution of different variants</p>
<h1 id="211-signals"><a class="header" href="#211-signals">2.11 Signals</a></h1>
<p>signals = software interrupts</p>
<p>processes, kernels, kill() command can send signals to other processes</p>
<p>signal handlers - function that is automatically invoked when the signal is delivered to the process</p>
<p>if process receives a signal, it can</p>
<ul>
<li>ignore the signal</li>
<li>get killed by the signal</li>
<li>get suspended by the signal</li>
</ul>
<p>signal is pending for process means interval between the time a signal is generated and the time it is delivered</p>
<p>signal[ generated ----[pending] ----- delivered]</p>
<ul>
<li>signals are usually delirvered as soon as the process starts running</li>
<li>signals can also be blocked, and remains pending until unblocked( i.e. removed from signal mask)</li>
</ul>
<h1 id="212-threads"><a class="header" href="#212-threads">2.12 Threads</a></h1>
<p>1 process can have n threads (1 p, N threads)</p>
<p>threads can be thought as a set of processes that share the same virtual memory, same program code, data area, heap</p>
<p>threads can communicate with global variables</p>
<p>threading API provides <em>condition variables</em> <em>mutexes</em></p>
<p>using threads makes it ez to share data (via global vars)</p>
<h1 id="213-process-groups-and-shell-job-control"><a class="header" href="#213-process-groups-and-shell-job-control">2.13 Process Groups and Shell Job Control</a></h1>
<p>each program executed by the shell is started in a new process</p>
<p>this example command makes 3 processes:</p>
<ul>
<li><code>ls -l | sort -k5n | less</code></li>
</ul>
<p>all major shells except Bourne shell allow concureent commands with pipes</p>
<p>processes in these jobs have the same (process group identifier)</p>
<h1 id="214-sessions-controlling-terminals-and-controlling-processes"><a class="header" href="#214-sessions-controlling-terminals-and-controlling-processes">2.14 Sessions, Controlling Terminals, and Controlling Processes</a></h1>
<ul>
<li>session = collection of (process groups)</li>
<li>process groups = jobs</li>
<li>all processes in a session have the same session identifier</li>
<li>sessions usually have associated <em>controlling terminal</em></li>
<li>1 controlling terminal to 1 session</li>
<li>1 foreground process group, any number of background process groups
<ul>
<li>sending interrupt char(Ctrl-C) to controlling terminal, causes the terminal driver to send a kill signal to the (background process group | job)</li>
</ul>
</li>
<li><code>&amp;</code> creates background jobs</li>
</ul>
<h1 id="215-pseudoterminals-pty"><a class="header" href="#215-pseudoterminals-pty">2.15 Pseudoterminals (PTY)</a></h1>
<p>pseudoterminal = [ master-slave ]</p>
<ul>
<li>similar to bidirectional pipes</li>
<li>allows IPC to allow both direction/ bidirectional data flow</li>
</ul>
<h1 id="216-date-and-time"><a class="header" href="#216-date-and-time">2.16 Date and TIme</a></h1>
<p>real time</p>
<p>process time/ cpu time (system cpu time , user cpu time)</p>
<h1 id="217-client-server-architecture"><a class="header" href="#217-client-server-architecture">2.17 Client-Server Architecture</a></h1>
<h1 id="218-realtime"><a class="header" href="#218-realtime">2.18 Realtime</a></h1>
<p>real time - calendar or elapsed time
realtime - responsiveness required for system</p>
<h1 id="219-the-proc-file-system"><a class="header" href="#219-the-proc-file-system">2.19 The /proc File System</a></h1>
<p>virtual file system that acts as interface to kernel data structures by taking a torm that looks like files and directories on a file system</p>
<h1 id="220-summary"><a class="header" href="#220-summary">2.20 Summary</a></h1>
<h2 id="31-system-calls"><a class="header" href="#31-system-calls">3.1 System Calls</a></h2>
<p>A system call is a controlled entry point into the kernel</p>
<ul>
<li>allowing a process to request the kernel perform some action on the process's behalf</li>
<li>child gets copies of the parent's memory structure</li>
</ul>
<p>The kernel makes a range of of services accessible to programs via the system call application programming interface(API)
- services include:
- create new process
- perform I/O
- create pipe for interprocess communication</p>
<p>Why do system calls create overhead?</p>
<ul>
<li>switch from user to kernel mode</li>
<li>kernel must verify system arguments</li>
<li>the kernel must transfer data between user memory and kernel memory</li>
</ul>
<p>The usual C library implementation is?
<code>glibc</code></p>
<h2 id="printf-format-specifiers"><a class="header" href="#printf-format-specifiers">printf format specifiers</a></h2>
<p>int - %d
long %ld
long long %lld</p>
<p>How to prevent representation dependency in printf() call?</p>
<ul>
<li>use the %ld specifier and always cast the corresponding value to <code>long</code></li>
</ul>
<pre><code class="language-c">pid_t mypid;

mypid = getpid();
printf(&quot;My PID is %ld\n&quot;, (long) mypid);
</code></pre>
<h2 id="how-do-you-properly-initialize-structures"><a class="header" href="#how-do-you-properly-initialize-structures">How do you properly initialize structures?</a></h2>
<p>SUSv3 does not specify the order of field definitions,</p>
<p>Consequently, somthing like this is not portable</p>
<p>Consider the struct <code>sembuf</code> which is used to represent a semaphore operation</p>
<pre><code class="language-c">struct sembuf {
    unsigned short sem_num; /* semaphore number */
    short          sem_op;  /* operation to be performed */
    short          sem_flg; /* Operation flags */
};
</code></pre>
<p><code>struct sembuf s = {3,-1, SEM_UNDO};</code></p>
<p>You should use explicit assignment</p>
<pre><code class="language-c">struct sembuf s;

s.sem_num = 3;
s.sem_op = -1;
s.sem_flg = SEM_UNDO;
</code></pre>
<p>Why are file descriptors important?</p>
<p>What are file descriptors?</p>
<p>How does a process relate to a file descriptor?
Each process has its own set of file descriptors.</p>
<p>Glossary</p>
<p>Network Byte Order</p>
<ul>
<li><code>htons()</code> host to network short</li>
<li><code>htonl()</code> host to network long</li>
<li><code>ntohs()</code> network to host short</li>
<li><code>ntohl()</code> network to host long</li>
</ul>
<p>File IO</p>
<ul>
<li>io = input/output</li>
<li>file offset = the location in the file at which the next read() or write() will start</li>
</ul>
<p>crt0 = C runtime 0
glibc -&gt; g-lib-c -&gt; g=gnu, lib=library, c=c -&gt; gnu,library,c -&gt; GNU C Library</p>
<p>lib = library</p>
<p>std = standard</p>
<p>Users and Groups</p>
<ul>
<li>
<p>UID = User id</p>
</li>
<li>
<p>GID = Group id</p>
</li>
<li>
<p>util = utilities</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="programming-basics"><a class="header" href="#programming-basics">Programming Basics</a></h1>
<p>Notes on what I've learned.</p>
<p>What is a computer ?</p>
<pre><code>No artifact designed by man is so convenient for this kind of functional description as a digital computer.
Almost the only ones of its properties that are detectable in its behaviors are the organizational properties.
Almost no interesting statement that ... can be made about an operating system bears any particular relation to the specific nature of the hardware. 
A Computer is an organization of elementary functional components in which, a high approximation, only the funcction performed by those components is relevant to the behavior of the whole system. 
- Operating Systems - Internal and Design Principals
</code></pre>
<pre><code>The representation of hello.c illustrates a fundamental idea: All information
in a system—including disk files, programs stored in memory, user data stored in
memory, and data transferred across a network—is represented as a bunch of bits.
The only thing that distinguishes different data objects is the context in which
we view them. For example, in different contexts, the same sequence of bytes
might represent an integer, floating-point number, character string, or machine
instruction.
- Computer Systems A Programmer's Perspective
</code></pre>
<p>Computers run computations(programs)?</p>
<p>What are computations?</p>
<p>What is a program?</p>
<p>How would you analyze a running program?</p>
<p>Since a running program is mostly
just a processor and segments of memory, examining memory is the first way to look at what's really going on.</p>
<div style="break-before: page; page-break-before: always;"></div><p>build is more general term</p>
<p>compiling is part of build process</p>
<p>compiling means converting source code into object code</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="memory-leak-analogies"><a class="header" href="#memory-leak-analogies">Memory Leak Analogies</a></h1>
<h2 id="bathtub-analogy"><a class="header" href="#bathtub-analogy">Bathtub Analogy</a></h2>
<p>A memory leak is like a bathtub without a drain. Memory leaks cause you to run out of the chunk of memory you are assigned. The bathtub is the memory space, and the water is the data. Everytime data/water gets added to the bathtub it isn't removed/drained. Eventually you'll run out of space in the memory/bathtub.</p>
<p>If you overflow a bathtub, water will overflow and cause water damage. If your program causes memory to overflow or run out, the OS will crash your leaky program before that refuses to clean up after itself to prevent problems, and reclaim the memory that was assigned to your faulty program.</p>
<p>A memory-leaky program is a program that can't or refuses to clean up after itself. Most of the time<sup><a href="https://devblogs.microsoft.com/oldnewthing/20180228-00/?p=98125">1</a></sup> this is bad/buggy behavior.</p>
<p>A memory-leaky program is a program that saves garbage, that should have been clean/deleted.</p>
<h2 id="bookshelf-analogy"><a class="header" href="#bookshelf-analogy">Bookshelf Analogy</a></h2>
<pre><code>Xelopharis
Let's say you have a nice empty bookshelf. 
You go to the library, take out a few books, bring them home and put them on your bookshelf. 
You read all of them, and you just forget to pack one up when you go to return them. 
The book stays on your shelf. 
You go get more books from the library, you put them on your bookshelf, you read them, and then you forget 
another when you go to return them.

If you keep doing this, eventually, your bookshelf that started out as empty 
and shouldn't have any books on it becomes full, 
and you don't have any room to put the books you just got from the library.

A memory leak is similar. 
When writing in very low-level languages, you have to actually allocate memory, and then you have to release it when you're done. 
If you forget to release memory, it just stays there locked by your application, but not doing anything useful. 
If this happens in some looping process, you will keep doing it over and over again until your system runs out of memory.

</code></pre>
<h2 id="classroom-analogy"><a class="header" href="#classroom-analogy">Classroom Analogy</a></h2>
<p>You're an elementary school teacher with a bunch of scissors, but only enough for half the class. Students can come up to borrow them when they need. Most of the time the kids give the scissors back when they're done, but sometimes they forget. Some kids will even forget to give theirs back and come ask for a second (or third) pair. If this keeps happening, eventually you don't have any scissors to give out when asked. You will however always get them all back at the end of the day when the kids go home, but by that point a bunch of the kids might have failed to do their work for lack of scissors.</p>
<p>So, the teacher is the operating system and the scissors are the RAM (memory). Programs ask for RAM, the OS gives it out, but it's not always returned when the program is done with it. If this keeps happening, eventually the computer/OS has no more RAM to give out to programs that ask for it and everything grinds to a halt. If you close the bad program the OS will know that RAM is obviously free again, but as long as it's running it will constantly be reserving RAM and then forgetting it's reserved it (and likely asking for more). It's supposed to be a loop but when it breaks, that's the &quot;leak&quot;.</p>
<p>see:</p>
<ul>
<li>https://www.reddit.com/r/explainlikeimfive/comments/tsalul/eli5_memory_leaks/</li>
<li>https://stackoverflow.com/questions/21350478/what-does-memory-allocated-at-compile-time-really-mean</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><ul>
<li>&quot;vtable&quot;: &quot;virtual method table&quot;</li>
<li>&quot;virtual method table&quot;: &quot;a map of method call names to function pointers&quot;</li>
<li>&quot;pragma&quot;: &quot;compiler directive, instructions for the compiler&quot;</li>
<li>semver, semantic versioning</li>
<li>MinGW, minimalist GNU for Windows</li>
<li>parameterization: Parameterization is the process of taking values or objects defined within a function or a method, and making them parameters to that function or method, in order to generalize the code. This process is also known as the “extract parameter” refactoring. In a way, this article is about design patterns and refactoring., https://www.toptal.com/python/python-parameterized-design-patterns</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>A static library (or archive) contains code that is linked to users' programs at compile time. The executable file generated keeps its own copy of the library code. A dynamic library (or shared library) contains code designed to be shared by multiple programs. The content in the library is loaded to memory at runtime.</p>
<p>It's a tradeoff between performance vs ease of code change.</p>
<div class="table-wrapper"><table><thead><tr><th>static</th><th>shared</th></tr></thead><tbody>
<tr><td>linked to executable at compile</td><td>loaded at runtime</td></tr>
<tr><td>better performance</td><td>more flexibility (you can change shared library code at will)</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>What is a handler ond handle?</p>
<p>{
A handle (like the handle on a broom or a screwdriver) is a convenient way to hold some more complex object.</p>
<p>So, for example, in graphics - we might load some image, give it a bunch of complicated properties - then hand it over to the graphics system to manage. In return, the graphics system gives us a “handle” that corresponds to that image - which is probably either a pointer or some simple integer - which we can use to talk about that image in the future.</p>
<p>This is very convenient when a library takes control of an object - and you don’t want the original creator to be able to do anything to the object without going through the libraries’ official interface.</p>
<p>Handles are said to be “opaque objects” - you have no idea what’s inside them or anything at all about them - except that they exist, you can copy them freely - and you can pass them into that library.</p>
<p>Handles are almost always very small objects.</p>
<p>A handler (like a baggage handler at an airport) - is a piece of software that performs some service for you. So you might talk about a “File handler” - which does all of the grunt work of dealing with files on disk.</p>
<p>It is not uncommon for a handler to give you a handle - but the two terms are NOT related in any special way - it just happens that it’s quite common for handlers to do that.</p>
<p>To take the simplest example - the C language standard library.</p>
<p>When you call “fopen” to open a file - it gives you back a “FILE*” - which is a handle. You can’t do anything with the FILE* object it gave you - there is no useful data inside the object that it points to that you can safely use. In fact, it might not actually point to anything valid at all.</p>
<p>But when you want to read from the file (using ‘fread’, for example) - you present that function with the handle to your file - and it knows what to do with it. When you’re done with the file, you pass the handle to “fclose” and from that point onwards, your handle is useless.</p>
<p>In that case, the “FILE*” is a handle and the standard I/O library is the “handler”.
-Steve Baker, https://www.quora.com/In-programming-what-is-the-difference-between-a-handle-and-a-handler }</p>
<div style="break-before: page; page-break-before: always;"></div><p>compile-time functions reduce runtime load because every function that can be done at runtime does not have to be done at compile time</p>
<p>pay more now so you pay much less later, it's kind of like  a preventative measure against performance degradation</p>
<p>tldr; compile time increases runtime performance</p>
<div style="break-before: page; page-break-before: always;"></div><p>WHy generics?</p>
<p>elimiinates code repetition (DRY) -&gt; less bugs</p>
<p>What are generics?</p>
<p>abstract types that share functionality</p>
<p>e.g. type = dog, generic = abstract(type) = animal</p>
<p>a dog can be abstracted as an animal</p>
<p>collection/set types take generics, i.e. you can group up a type regardless of what type it is</p>
<p>array<T> -&gt; [A1, A2, ..., AN&gt;
tuple<T> -&gt; (A1, A2, ..., AN&gt;</p>
<p>implementation</p>
<pre><code>// classes and functions take generic arguments inside diamonds &lt;&gt;
class&lt;T1,T2&gt; {}
function&lt;T, T2&gt; (type1 T, type2 T)
</code></pre>
<pre><code>function identity&lt;Type&gt;(arg: Type): Type {}
void fn1&lt;T, T2&gt; (type1 T, type2 T) {}
fn fn1&lt;T, T2&gt; (type1: T, type2: T2) {}
</code></pre>
<p>How to think of generic types?</p>
<p>Hollow types that need to be filled in (reified, realized?). 
They can be filled in at compile-time or runtime depending on the language and application.</p>
<p>In Rust, Monomorphization is the process of turning generic code into specific code by filling in the concrete types that are used when compiled. </p>
<pre><code>T = type (generic)
TcN = type concrete N
  
// monomorph(generic T) -&gt; concrete T's
monomorph&lt;T&gt;() -&gt; [Tc1], [Tc2], ... , [TcN]
  
[T] -&gt; [Tc1], [Tc2], [Tc3]
</code></pre>
<p>Analogies</p>
<pre><code>  
generic -&gt; concrete
  
biology
-------------------------------------------
stem cells turn into specific cells
  
stem cell -&gt; nerve cell, muscle cell, skin cell

video games
-------------------------------------------
metroid

A X virus (the generic type) can turn into any concrete entity it has absorbed (hornoad, Chozo, Samus)
  
[X](https://metroid.fandom.com/wiki/X_Parasite) -&gt; [Chozo](https://metroid.fandom.com/wiki/Chozo), [SA-X](https://metroid.fandom.com/wiki/SA-X)
    
       X
     __|___
    /      \
  Chozo  SA-X
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><pre><code>use std::env;

fn main() {
    let args: Vec&lt;String&gt; = env::args().collect();

    let query = &amp;args[1];
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>Explicit Type -&gt; Type Erased -&gt; Generic
Generic/(abstract type) -&gt; reified -&gt; explicit type</p>
<p>benefits of type erasure - </p>
<ul>
<li>at compile-time types are erased because that information is not needed to run the program</li>
<li>it makes your code more flexible and efficient because the system doesn't have to process as much data</li>
</ul>
<p>what's the cost of type erasure </p>
<ul>
<li>you lose the ability to do reflection at run-time</li>
<li>wikipedia: Reflection can be used for observing and modifying program execution at runtime.</li>
<li>wikipedia: In object-oriented programming languages such as Java, reflection allows inspection of classes, interfaces, fields and methods at runtime without knowing the names of the interfaces, fields, methods at compile time. It also allows instantiation of new objects and invocation of methods.</li>
</ul>
<p>downsides of reflection</p>
<ul>
<li>security vulnerabilities</li>
<li>performance penalties, the runtime has to look up type information, this costs cpu cycles
define(generic) -&gt; not specific</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="programming-terms"><a class="header" href="#programming-terms">Programming terms</a></h1>
<h2 id="packagingtooling"><a class="header" href="#packagingtooling">Packaging/Tooling</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Term</th><th>Def</th><th>Examples</th></tr></thead><tbody>
<tr><td>Compiler (code)</td><td>A compiler is a special program that translates a programming language's source code into machine code, bytecode or another programming language</td><td>C/C++ compiler: <code>gcc</code>/ <code>g++</code></td></tr>
<tr><td>Transpiler</td><td>A compiler that translates source code to source code</td><td>Typescript's compiler translates Typescript to Javascript <code>tsc</code> = <code>ts</code> --&gt; <code>js</code></td></tr>
<tr><td>Repo</td><td>A repository, or repo, is a centralized digital storage that developers use to make and manage changes to an application's source code.</td><td>Github repo</td></tr>
<tr><td>Package (programming)</td><td>a set of program files, data files / wikipedia: individual files or resources packed together as a software collection</td><td><a href="https://ubuntu.com/server/docs/package-management">Ubuntu package management</a></td></tr>
<tr><td>Registry</td><td>a place where records are kept</td><td><a href="https://docs.gitlab.com/ee/user/packages/package_registry/">Gitlab Package Registry</a></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="rust-generic-type-parameters"><a class="header" href="#rust-generic-type-parameters">Rust (Generic) Type Parameters</a></h1>
<p>fn largest&lt;T&gt;(list: &amp;[T]) -&gt; &amp;T</p>
<ul>
<li>read as the function <code>largest</code> is generic over some type <code>T</code></li>
<li>the function has one parameter named <code>list</code>, which is a slice of values over type <code>T</code></li>
<li>the <code>largest</code> function will return a reference to a value of the same type <code>T</code></li>
</ul>
<p>the function will give an error that <code>largest</code> won't work for all possible types of <code>T</code></p>
<ul>
<li>we can only use types that can be ordered</li>
<li>to enable comparisons the standard library has std::cmp::PartialOrd trait that you can implement on those types</li>
<li>we have to restrict <code>T</code> to only types that implement <code>PartialOrd</code> -&gt; <code>&lt;T: std::cmp::PartialOrd&gt;</code></li>
<li><code>fn fn_name&lt; Type_Parameters &gt;( Parameters ) -&gt; Return Type</code></li>
<li><code>fn largest&lt;T: std::cmp::PartialOrd&gt;(list: &amp;T) -&gt; &amp;T</code></li>
<li>since the library implements <code>PartialOrd</code> on <code>i32</code> and <code>char</code> the example will compile</li>
</ul>
<p>We can define structs to use generic type parameter in one or more fields using <code>&lt;&gt;</code></p>
<pre><code class="language-rs">struct Point&lt;T&gt; {
    x: T,
    y: T, // this says that x and y must be the same type
}
</code></pre>
<p>Actix web
<code>web::Data&lt;T&gt;</code> where <code>T</code> is type of the state</p>
<ul>
<li>let's store the application name in the state</li>
</ul>
<pre><code>use actix_web::{get, web, App, HttpServer};

struct AppState {
    app_name: String,
}

#[get(&quot;/&quot;)] // attributes are macros
async fn index(data: web::Data&lt;AppState&gt;) -&gt; String {
    let app_name = &amp;data.app_name;
    format!(&quot;Hello {app_name}!&quot;)
}

</code></pre>
<p>For different types you can use multiple generic type parameters</p>
<pre><code class="language-rs">struct Point&lt;T,U&gt; {
    x: T,
    y: U, # now x and y can be any type combo
}
</code></pre>
<h1 id="enums-can-also-hold-generic-data-types"><a class="header" href="#enums-can-also-hold-generic-data-types">Enums can also hold generic data types</a></h1>
<pre><code class="language-rs"># Option(al)
enum Option&lt;T&gt; {
    Some(T),
    None,
}
// Use this to represent the concept of an optional value
</code></pre>
<pre><code class="language-rs">enum Result&lt;T,E&gt; {
    Ok(T),
    Err(E),
}
// Use this for operations that may fail
</code></pre>
<h1 id="generics-can-be-used-in-method-definitions"><a class="header" href="#generics-can-be-used-in-method-definitions">Generics can be used in method definitions</a></h1>
<pre><code>struct Point&lt;T&gt; {
    x: T,
    y: T,
}
impl&lt;T&gt; Point&lt;T&gt; { 


}
</code></pre>
<ul>
<li>we have to delcare <code>T</code> after <code>impl</code> so we can use T to specify we're implementing methods on the type Point<T></li>
<li>by declaring <code>T</code> as a generic type after <code>impl</code> Rust can identify the type in the angle brackets in <code>Point</code> as a generic type and not a concrete type</li>
</ul>
<p>Specify constraints on generic types</p>
<ul>
<li><code>Point&lt;f32&gt; # concrete type f32 only</code></li>
<li><code>Point&lt;T&gt; # any type</code>
since f32 is a concrete type, you don't declare any type after impl</li>
</ul>
<pre><code>impl Point&lt;32&gt; {

}
</code></pre>
<pre><code class="language-rs">// X1,Y1 are only relevant to struct defintiion
impl&lt;X1,Y1&gt; Point&lt;X1,Y1&gt; {
    // X2,Y2 are only relevant to the method
    fn mixup&lt;X2,Y2&gt;(self, other: Point&lt;X2,Y2&gt;) -&gt; Poinr&lt;X1,Y2&gt; {
        Point {
            x: self.x,
            y: self.y,
        }
    }
}
</code></pre>
<p>Generics cause monomorphization(turning generic code into concrete code), this saves runtime cost but you pay for it with compile time</p>
<p>monomorphization: generic -&gt; concrete implementation</p>
<p>e.g.</p>
<p>original.rs</p>
<pre><code class="language-rs">// original code
let integer = Some(5);
let float = Some(5.0);
</code></pre>
<p>monomorphized.rs</p>
<pre><code class="language-rs">// concrete implementations
enum Option_i32 {
    Some(i32),
    None,
}

enum Option_f64 {
    Some(f64),
    None,
}

fn main() {
    let integer = Option_i32::Some(5);
    let float = Option_f64::Some(5.0);
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>X Analysis - ways to check for bugs of your program</p>
<p>compile-time
code -- static analysis --&gt;
bugs are checked in the source code, this can't catch everything</p>
<p>runtime
code -- dynamic analysis --&gt;
bugs are checked while the programming is running</p>
<div style="break-before: page; page-break-before: always;"></div><p>Note descriptions.</p>
<p>Legend</p>
<pre><code>TIP!    tip, usage tips
FYI!    for your information, good to know
WARN!   warning, be careful
DANGER! stay away
ERR!    error, this code gives errors
Eg!     example, a real-world implementation
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>Before you can really grasp OO, you need to know the basics of data structures and late binding/higher order functions. </p>
<p>It's hard to grok polymorphism (which is basically passing around a pointer to data and a bunch of functions that operate on the data) if you don't even understand the concepts of structuring data instead of just using primitives and passing around higher order functions/pointers to functions.</p>
<p><code>C# class --&gt; strucutre in C</code></p>
<p><code>instantiation in C# --&gt; pointer and memory allocation of struct</code></p>
<p>see:</p>
<ul>
<li>http://staff.washington.edu/gmobus/Academics/TCES202/Moodle/OO-ProgrammingInC.html</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>/// The <code>super</code> and <code>self</code> keywords can be used in the path to remove ambiguity when accessing items and to prevent unnecessary hardcoding of paths</p>
<p>fn function() {
println!(&quot;called <code>function()</code>&quot;);
}</p>
<p>mod cool {
pub fn function() {
println!(&quot;called <code>cool::function()</code>&quot;);
}
}</p>
<p>/// my's <code>super</code>/parent scope
mod my {
/// my's <code>self</code> scope
fn function() {
println!(&quot;called <code>my::function()</code>&quot;);
}</p>
<pre><code>mod cool {
    pub fn function() {
        println!(&quot;called `my::cool::function()`&quot;);
    }
}

pub fn indirect_call() {
    // Let's access all the functions named `function` from this scope!
    print!(&quot;called `my::indirect_call()`, that\n&gt; &quot;);
    
    // The `self` keyword refers to the current module scope - in this case `my`.
    // Calling `self::function()` and calling `function()` directly both give
    // the same result, because they refer to the same function.
    self::function();
    function();
    
    // We can also use `self` to access another module inside `my`:
    self::cool::function();
    
    // The `super` keyword refers to the parent scope (outside the `my` module).
    super::function();
    
    // This will bind to the `cool::function` in the *crate* scope.
    // In this case the crate scope is the outermost scope.
    {
        use crate::cool::function as root_function;
        root_function();
    }
}
</code></pre>
<p>}</p>
<p>fn main() {
my::indirect_call();
}</p>
<div style="break-before: page; page-break-before: always;"></div><p>                                                                                                                                                                                                                                                                                                                                                                                   </p>
<div style="break-before: page; page-break-before: always;"></div><p>The $env variable can be used to access all user context environment variables. This option allows you to type $env: followed by the tab key.</p>
<p>e.g. <code>$env:GOPATH</code></p>
<p>or</p>
<p><code>[Environment]::SetEnvironmentVariable(&quot;YOUR_ENV_VAR&quot;, &quot;value&quot;, '[User | Machine]')</code></p>
<p>e.g. <code>[Environment]::SetEnvironmentVariable(&quot;FOO&quot;, &quot;bar&quot;, 'User')</code></p>
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><ul>
<li>href (hypertext reference)</li>
<li>a (anchor), contents inside indicate link destination</li>
</ul>
<p>Note that <code>a</code> tags are (or used to be) used to to define the anchor (where the link lands, via the <code>name</code> attribute) as well as the outgoing link (via the href attribute).</p>
<p>Right, and I think the word <code>anchor</code> makes a lot more sense with the other use (to anchor an incoming link), so I thought I would point that out, especially since many people don't know that use (and it is sort of deprecated now that you can use <code>id</code> tags on anything).</p>
<p>https://stackoverflow.com/questions/39434659/what-does-the-a-in-the-html-a-tag-stand-for</p>
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><p>This is an MVC with unidirectional data flow. A better model for Rust since Rust's system forces you to tell who owns what. It's not clear in traditional MVC.</p>
<pre><code>
__[Action]--&gt; [Dispatcher] --&gt; [Store] --&gt; [View] __
^                                                   |
|__  (user input) -- USER &lt;--- (display) ------   &lt;--

</code></pre>
<ul>
<li>Store</li>
<li>Dispatcher</li>
<li>View</li>
<li>Action</li>
</ul>
<h1 id="store"><a class="header" href="#store">Store</a></h1>
<p>Store manages state
states - data values</p>
<h1 id="dispatcher"><a class="header" href="#dispatcher">Dispatcher</a></h1>
<p>Dispatcher - single object that broadcasts actions/events to all registered stores, stores need o register/subscribe to events</p>
<pre><code>           ____&gt; Store
          /
Dispatcher ----&gt; Store
          \____&gt; Store
</code></pre>
<h1 id="view"><a class="header" href="#view">View</a></h1>
<p>view is UI component</p>
<h1 id="actions"><a class="header" href="#actions">Actions</a></h1>
<p>action is an object that contains info needed to do that action
actions have a type property</p>
<p>Action Creator -&gt; Dispatcher -&gt; Store -&gt; View</p>
<div style="break-before: page; page-break-before: always;"></div><pre><code>    MVC PATTERN

      MODEL (DB: noSQL, SQL)  
    /       \
updates   manipulate
  |           ^
  v           |         BACKEND
----[INTERNET]-----------------
 VIEW       CONTROLLER  FRONTEND
   \          ^
    v        /
   HTML  inputs
     \    /
      USER


USER -(mouse clicks, keypresses)--&gt; CONTROLLER
- user gives input to controller

CONTROLLER --(HTTP:GET/POST)--&gt; MODEL
- controller gives HTTP method to model

MODEL --(JSON)--&gt; VIEW
- model updates itsefl based on HTTP methods

VIEW--(HTML/CSS)--&gt;browser--(HTML/CSS/JS)--&gt; USER
- view gives html/css to browser
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ioc"><a class="header" href="#ioc">IOC</a></h1>
<p>IOC -&gt;(more general) -&gt; control delegation</p>
<p>IOC - give control to the programmer</p>
<p>linear program: computer decies when you input</p>
<p>IOC</p>
<p>you get to choose when or if  to input your data</p>
<p>CLI (no control) vs GUI (you control)</p>
<hr />
<p>Inversion of Control is what you get when your program callbacks, e.g. like a gui program.</p>
<p>For example, in an old school menu, you might have:</p>
<pre><code>print &quot;enter your name&quot;
read name
print &quot;enter your address&quot;
read address
etc...
store in database
</code></pre>
<p>thereby controlling the flow of user interaction.</p>
<p>In a GUI program or somesuch, instead we say:</p>
<pre><code>when the user types in field a, store it in NAME
when the user types in field b, store it in ADDRESS
when the user clicks the save button, call StoreInDatabase
</code></pre>
<p>So now control is inverted... instead of the computer accepting user input in a fixed order, the user controls the order in which the data is entered, and when the data is saved in the database.</p>
<p>Basically, anything with an event loop, callbacks, or execute triggers falls into this category.</p>
<p>https://stackoverflow.com/a/3108</p>
<hr />
<p>Depdeency Injection</p>
<p>This is Dependency Injection:</p>
<pre><code>class C {
    Dependency d;

    C(Dependency d) {
        this.d = d;
    }
}
</code></pre>
<p>This is not:</p>
<pre><code>class C {
    Dependency d;

    C() {
        this.d = new DependencyImpl();
    }
}
</code></pre>
<p>https://www.reddit.com/r/learnprogramming/comments/ug7lbw/i_have_trouble_understanding_dependency_inversion/</p>
<pre><code>term: IOC
---
used for: giving moret control and flexibility to programer
---
implemented with: DI
---
programming primitives: callback, event loops
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="command-pattern"><a class="header" href="#command-pattern">Command Pattern</a></h1>
<p>Command is one of my favorite patterns. Most large programs I write, games or otherwise, end up using it somewhere. <a href="https://gameprogrammingpatterns.com/command.html">GPP</a></p>
<p><a href="https://refactoring.guru/design-patterns/command">Command is a behavioral design pattern that turns a request into a stand-alone object that contains all information about the request. </a></p>
<p>Hey sounds a lot like a <a href="Programming/design_patterns//../closure.html">closure</a></p>
<p><a href="https://gameprogrammingpatterns.com/command.html">In some ways, the Command pattern is a way of emulating closures in languages that don’t have them.</a></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
